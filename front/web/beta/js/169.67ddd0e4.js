(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[169],{"2fc0":function(e,i,t){"use strict";t.r(i);t("4de4"),t("d3b7"),t("a9e3");var a=function(){var e=this,i=e._self._c;return i("q-page",{staticClass:"bg-grey-3"},[i("div",{staticClass:"q-pa-sm panel-header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[i("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),i("q-breadcrumbs-el",{attrs:{label:"Remisiones",to:"/storage-exits"}}),i("q-breadcrumbs-el",{attrs:{label:""},domProps:{textContent:e._s(e.$route.params.id)}})],1)],1)]),i("div",{staticClass:"col-sm-9 pull-right"},[i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"blue",icon:null===e.documentId?"cloud_upload":"visibility"},on:{click:function(i){null===e.documentId?e.showDocumentFileOc():e.downloadDocumentOc()}}},[null!==e.documentId?i("q-menu",[i("q-list",{staticClass:"scroll",staticStyle:{"min-width":"100px"},attrs:{link:"",separator:""}},[i("q-item",{attrs:{clickable:!0},nativeOn:{click:function(i){return e.showDocumentFileOcMenu()}}},[i("q-item-section",[e._v("Ver")])],1),i("q-item",{attrs:{clickable:!0},nativeOn:{click:function(i){return e.downloadDocumentFileOc()}}},[i("q-item-section",[e._v("Descargar")])],1),i("q-item",{attrs:{clickable:!0},nativeOn:{click:function(i){return e.deleteFileOc()}}},[i("q-item-section",[e._v("Eliminar")])],1)],1)],1):e._e()],1),i("q-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"blue",icon:"fas fa-file-pdf"},nativeOn:{click:function(i){return e.quotationNotePDF()}}},[i("q-tooltip",{attrs:{"content-class":"bg-blue"}},[e._v("Generar pedido")])],1),"REMISIONADO"==e.invoice.fields.status&&(e.invoice.fields.canRemisionate||this.inBulkDetails.length>0)?i("q-btn",{attrs:{color:"positive",icon:"fas fa-check",label:"Enviar"},on:{click:function(i){e.confirmRemissionDialog=!0}}}):e._e(),"ENVIADO"==e.invoice.fields.status?i("q-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"warning",icon:"fas fa-file-pdf"},on:{click:function(i){return e.generarTicket()}}},[i("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("Generar Ticket")])],1):e._e(),"ENVIADO"==e.invoice.fields.status?i("q-btn",{attrs:{color:"purple",icon:"mail",loading:e.loadingSendingMailBtn},on:{click:function(i){return e.sendSaleReferral()}}},[i("q-tooltip",{attrs:{"content-class":"bg-purple-6"}},[e._v("Enviar email")])],1):e._e(),0==e.invoice.fields.status_timbrado||2==e.invoice.fields.status_timbrado?i("q-btn",{attrs:{color:"negative",icon:"block",label:"Cancelar"},on:{click:function(i){return e.CancelRemision()}}}):e._e(),"NUEVO"==e.invoice.fields.status?i("q-btn",{attrs:{color:"positive",icon:"save",label:"Actualizar"},on:{click:function(i){return e.updateSale()}}}):e._e(),"ENVIADO"==e.invoice.fields.status?i("q-btn",{attrs:{color:"positive",icon:"fas fa-file-pdf"},on:{click:function(i){return e.saleReferral()}}},[i("q-tooltip",{attrs:{"content-class":"bg-blue"}},[e._v("Remisión de venta")])],1):e._e()],1)])])]),i("div",{staticClass:"q-pa-md bg-grey-3"},[i("div",{staticClass:"row bg-white border-panel"},[i("div",{staticClass:"col q-pa-md"},[i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",mask:"date",label:"Fecha de venta",rules:e.saleDateRules,disable:!0},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"event"}})]},proxy:!0}]),model:{value:e.invoice.fields.saleDate,callback:function(i){e.$set(e.invoice.fields,"saleDate",i)},expression:"invoice.fields.saleDate"}},[i("q-popup-proxy",{ref:"invoiceFieldsSaleDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("div",{staticClass:"col-sm-12"},[i("q-date",{attrs:{mask:"DD/MM/YYYY","today-btn":""},on:{input:function(){return e.$refs.invoiceFieldsSaleDate.hide()}},model:{value:e.invoice.fields.saleDate,callback:function(i){e.$set(e.invoice.fields,"saleDate",i)},expression:"invoice.fields.saleDate"}})],1)])],1)],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.branchOfficeOptions,label:"Sucursal",disable:""},on:{input:function(){e.invoice.fields.inBulkStorage=null}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-store-alt"}})]},proxy:!0}]),model:{value:e.invoice.fields.branchOffice,callback:function(i){e.$set(e.invoice.fields,"branchOffice",i)},expression:"invoice.fields.branchOffice"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.filteredStorageOptions,label:"Almacén",disable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-warehouse"}})]},proxy:!0}]),model:{value:e.invoice.fields.inBulkStorage,callback:function(i){e.$set(e.invoice.fields,"inBulkStorage",i)},expression:"invoice.fields.inBulkStorage"}})],1),i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Estatus",disable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"battery_full"}})]},proxy:!0}]),model:{value:e.invoice.fields.status,callback:function(i){e.$set(e.invoice.fields,"status",i)},expression:"invoice.fields.status"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.filteredCustomerOptions,label:"Cliente",rules:e.customerRules,disable:!0,"use-input":"","input-debounce":"0",behavior:"menu"},on:{input:function(){e.invoice.fields.customerBranchOffice=null},filter:e.filtrarClientes},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-shopping-cart"}})]},proxy:!0}]),model:{value:e.invoice.fields.customer,callback:function(i){e.$set(e.invoice.fields,"customer",i)},expression:"invoice.fields.customer"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.filteredCustomerBranchOfficeOptions,label:"Sucursal de cliente",rules:e.customerBranchOfficeRules,disable:!0},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-store-alt"}})]},proxy:!0}]),model:{value:e.invoice.fields.customerBranchOffice,callback:function(i){e.$set(e.invoice.fields,"customerBranchOffice",i)},expression:"invoice.fields.customerBranchOffice"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",disable:"ENTREGADO"===e.invoice.fields.status,autogrow:"",label:"Comentarios",type:"textarea"},on:{input:function(i){e.invoice.fields.comments=i.toUpperCase()}},model:{value:e.invoice.fields.comments,callback:function(i){e.$set(e.invoice.fields,"comments",i)},expression:"invoice.fields.comments"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"No. Orden"},on:{blur:function(i){return e.editReeference()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"code"}})]},proxy:!0}]),model:{value:e.invoice.fields.oc_referenceshp,callback:function(i){e.$set(e.invoice.fields,"oc_referenceshp",i)},expression:"invoice.fields.oc_referenceshp"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Factura",disable:"","map-options":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:e.tax_invoice,callback:function(i){e.tax_invoice=i},expression:"tax_invoice"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Prestamo",disable:"","map-options":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:e.loan,callback:function(i){e.loan=i},expression:"loan"}})],1),i("div",{staticClass:"col-xs-12 col-md-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:[{label:"NORMAL",value:0},{label:"ESPECIAL",value:1}],disable:"","use-input":"",label:"Pedido","emit-value":"","map-options":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"grade"}})]},proxy:!0}]),model:{value:e.special_order,callback:function(i){e.special_order=i},expression:"special_order"}})],1),"ENVIADO"==e.invoice.fields.status||"ENTREGADO"==e.invoice.fields.status?i("div",{staticClass:"col-xs-12 col-md-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",disable:null!==e.invoice.fields.date_delivered,mask:"date",label:"Fecha entrega"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"date_range"}})]},proxy:!0}],null,!1,3313346584),model:{value:e.invoice.fields.date_delivered,callback:function(i){e.$set(e.invoice.fields,"date_delivered",i)},expression:"invoice.fields.date_delivered"}},[i("q-popup-proxy",{ref:"date1",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("div",{staticClass:"col-sm-12"},[i("q-date",{attrs:{disable:null!==e.invoice.fields.date_delivered,"today-btn":""},on:{input:function(i){return e.showconfirmDelivered()}},model:{value:e.invoice.fields.date_delivered,callback:function(i){e.$set(e.invoice.fields,"date_delivered",i)},expression:"invoice.fields.date_delivered"}})],1)])],1)],1):e._e()])])]),i("br"),i("div",{staticClass:"bg-white border-panel"},[i("q-tabs",{staticClass:"text-white text-bold",staticStyle:{"font-weight":"bold","background-color":"#16122f75"},attrs:{dense:"","active-bg-color":"light-green","active-color":"white","indicator-color":"black",align:"justify","narrow-indicator":""},on:{input:e.changeModel},model:{value:e.currentTab,callback:function(i){e.currentTab=i},expression:"currentTab"}},[null==e.invoice.fields.inBulkStorage||isNaN(e.invoice.fields.inBulkStorage.value)?e._e():i("q-tab",{attrs:{name:"inBulkDetails",label:"Productos",disable:e.bulkTab}}),"ENVIADO"!==e.invoice.fields.status&&"PAGADO"!==e.invoice.fields.status||0!==e.tax_invoice.value||!e.isRoleInvoice?e._e():i("q-tab",{attrs:{name:"invoiceDetails",label:"Datos fiscales"}}),e.isDone&&"PPD"===e.fiscal.fields.metodo_pago.value?i("q-tab",{attrs:{name:"paymentDetails",label:"Pagos"}}):e._e(),"ENVIADO"!==e.invoice.fields.status&&"PAGADO"!==e.invoice.fields.status||0!==e.tax_invoice.value||!e.isRoleInvoice?e._e():i("q-tab",{attrs:{name:"history",label:"historial de facturacion"}}),i("q-tab",{attrs:{name:"logistic",label:"Logística"}})],1),i("q-separator"),i("q-tab-panels",{attrs:{animated:""},model:{value:e.currentTab,callback:function(i){e.currentTab=i},expression:"currentTab"}},[null==e.invoice.fields.inBulkStorage||isNaN(e.invoice.fields.inBulkStorage.value)?e._e():i("q-tab-panel",{attrs:{name:"inBulkDetails"}},[i("div",{staticStyle:{"font-weight":"normal"}},[e.cndButtonIB?i("div",{staticClass:"row q-col-gutter-xs q-md-xl",staticStyle:{"padding-top":"5px","padding-bottom":"20px"}},[i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.inBulkProductOptions,label:"Producto","emit-value":"","map-options":"",rules:e.inBulkDetailProductRules,disable:""},on:{input:function(){return e.inBulkDetail.fields.qty=null}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"emoji_objects"}})]},proxy:!0}],null,!1,2431477873),model:{value:e.inBulkDetail.fields.product,callback:function(i){e.$set(e.inBulkDetail.fields,"product",i)},expression:"inBulkDetail.fields.product"}})],1),i("div",{staticClass:"col-xs-12 col-sm-6 col-md-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Cantidad",rules:e.inBulkDetailQtyRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"emoji_objects"}})]},proxy:!0}],null,!1,2431477873),model:{value:e.inBulkDetail.fields.qty,callback:function(i){e.$set(e.inBulkDetail.fields,"qty",i)},expression:"inBulkDetail.fields.qty"}})],1),e.cndButtonIB?i("div",{staticClass:"col-xs-12 col-sm-2 pull-right q-pt-md"},[i("q-btn",{attrs:{color:"positive",label:"Actualizar"},on:{click:function(i){return e.editIB()}}})],1):e._e()]):e._e(),i("div",{staticClass:"q-col-gutter-xs",staticStyle:{height:"400px"}},[i("q-table",{staticStyle:{height:"380px","overflow-y":"auto"},attrs:{flat:"",bordered:"",data:e.inBulkDetails,columns:e.inBulkDetailsColumns,"row-key":"product",pagination:e.pagination},on:{"update:pagination":function(i){e.pagination=i}},scopedSlots:e._u([{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[t.row.id?i("q-td",{key:"product",staticStyle:{"text-align":"left",width:"50%"},attrs:{props:t}},[e._v(e._s(t.row.product))]):i("q-td",{key:"product",staticStyle:{"text-align":"right",width:"50%",color:"#3CB371"},attrs:{props:t}},[e._v(e._s(t.row.product))]),t.row.id?i("q-td",{key:"qty",staticStyle:{"text-align":"right",width:"10%"},attrs:{props:t}},[e._v(e._s("".concat(e.formatter.format(t.row.qty)," PZAS.")))]):i("q-td",{key:"qty",staticStyle:{"text-align":"right",width:"10%",color:"#3CB371"},attrs:{props:t}},[e._v(e._s("".concat(e.formatter.format(e.totalInBulkDetailsQties)," PZAS.")))]),i("q-td",{key:"unitPrice",staticStyle:{"text-align":"right",width:"10%"},attrs:{props:t}},[e._v(e._s(t.row.unit_price?"".concat(e.currencyFormatter.format(t.row.unit_price)):null))]),t.row.id?i("q-td",{key:"totalPrice",staticStyle:{"text-align":"right",width:"10%"},attrs:{props:t}},[e._v(e._s("".concat(e.currencyFormatter.format(t.row.total_price))))]):i("q-td",{key:"totalPrice",staticStyle:{"text-align":"right",width:"10%",color:"#3CB371"},attrs:{props:t}},[e._v(e._s("".concat(e.currencyFormatter.format(e.totalInBulkDetailsPrice))))]),t.row.id&&e.isRoleAdmin&&(0==e.invoice.fields.status_timbrado||2==e.invoice.fields.status_timbrado)&&1===e.loan.value?i("q-td",{key:"actions",staticStyle:{width:"10%"},attrs:{props:t}},[i("q-btn",{attrs:{color:"primary",icon:"edit",flat:"",size:"10px"},nativeOn:{click:function(i){return e.editInBulkDetail(t.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("Editar")])],1),t.row.id&&e.isRoleAdmin&&(0==e.invoice.fields.status_timbrado||2==e.invoice.fields.status_timbrado)&&1===e.loan.value?i("q-btn",{attrs:{color:"negative",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(i){return e.removeInBulkDetail(t.row.id)}}},[i("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("Eliminar")])],1):e._e()],1):i("q-td",{key:"actions",staticStyle:{width:"15%"},attrs:{props:t}})],1)]}}],null,!1,226935060)})],1)])]),i("q-tab-panel",{attrs:{name:"logistic"}},[i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-4 text-center"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.invoice.fields.carrier.$error,options:e.carriers,label:"Paquetería","emit-value":"","map-options":"",rules:e.carrierRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-truck"}})]},proxy:!0}]),model:{value:e.invoice.fields.carrier,callback:function(i){e.$set(e.invoice.fields,"carrier",i)},expression:"invoice.fields.carrier"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.invoice.fields.guideNumber.$error,label:"Número de Guía","reverse-fill-mask":"",rules:e.guideNumberRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.invoice.fields.guideNumber,callback:function(i){e.$set(e.invoice.fields,"guideNumber",i)},expression:"invoice.fields.guideNumber"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.invoice.fields.carrierName.$error,label:"Nombre del Chofer",rules:e.carrierNameRules},on:{input:function(i){e.invoice.fields.carrierName=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.invoice.fields.carrierName,callback:function(i){e.$set(e.invoice.fields,"carrierName",i)},expression:"invoice.fields.carrierName"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4 q-pa-xs"},[null==e.invoice.fields.pallet?i("q-uploader",{ref:"fileDocumentRef",staticStyle:{"min-width":"100%"},attrs:{url:e.fileDocumentUrl,method:"POST","text-color":"dark",color:"secondary",label:"Foto de Tarima","max-files":"1","auto-upload":"",flat:"","no-thumbnails":"",headers:[{name:"Authorization",value:"Bearer "+this.JWT}]},on:{uploaded:e.afterUploadDocumentFile}}):i("div",{staticClass:"text-center q-px-md"},[i("label",{staticClass:"text-h5 text-primary"},[i("b",[e._v("Documento "+e._s(e.invoice.fields.pallet))])]),i("br"),i("q-btn-group",{attrs:{push:"",spread:""}},[i("q-btn",{attrs:{color:"positive",glossy:"",icon:"cloud_upload",flat:"",size:"15px"},nativeOn:{click:function(i){return e.openUploadFileModal()}}},[i("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("Actualizar documento")])],1),i("q-btn",{attrs:{color:"primary",glossy:"",icon:"remove_red_eye",flat:"",size:"15px"},nativeOn:{click:function(i){return e.showDocumentFile()}}},[i("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("Visualizar")])],1),i("q-btn",{attrs:{color:"positive",glossy:"",icon:"cloud_download",flat:"",size:"15px"},nativeOn:{click:function(i){return e.downloadDocumentFile()}}},[i("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("Descargar")])],1),i("q-btn",{attrs:{color:"negative",glossy:"",icon:"fas fa-trash-alt",flat:"",size:"15px"},nativeOn:{click:function(i){return e.removeDocument()}}},[i("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("Eliminar")])],1)],1)],1)],1),i("div",{staticClass:"col-md-8 pull-right"},["REMISIONADO"==e.invoice.fields.status?i("q-btn",{attrs:{color:"positive",icon:"save",label:"Guardar"},on:{click:function(i){return e.saveLogistic()}}}):e._e()],1)])]),"ENVIADO"===e.invoice.fields.status||"PAGADO"===e.invoice.fields.status?i("q-tab-panel",{attrs:{name:"invoiceDetails"}},[i("div",{staticClass:"row q-col-gutter-xs"},[0!==e.invoice.fields.status_timbrado?i("div",{staticClass:"col-xs-12 col-sm-1 offset-sm-11 q-col-gutter-xs pull-right"},[i("div",[i("q-btn",{attrs:{icon:e.iconTimbrado[e.invoice.fields.status_timbrado],disable:"",color:e.colorTimbrado[e.invoice.fields.status_timbrado],label:e.statusTimbrado[e.invoice.fields.status_timbrado]}}),6===e.invoice.fields.status_timbrado?i("q-tooltip",[e._v(e._s(e.invoice.fields.message))]):e._e(),7===e.invoice.fields.status_timbrado?i("q-tooltip",[e._v(e._s(e.invoice.fields.message_cancelacion))]):e._e()],1)]):e._e()]),i("br"),i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-12 q-col-gutter-xs pull-right"},["ENVIADO"!==e.invoice.fields.status&&"PAGADO"!==e.invoice.fields.status||e.isChecking||e.isDone?e._e():i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"positive",icon:"fas fa-certificate",label:"Timbrar",loading:e.loadingFiscal},on:{click:function(i){return e.timbrarRemision()}}}),1===e.invoice.fields.status_timbrado?i("q-btn",{staticClass:"pull-right",attrs:{disabled:"",color:"orange"}},[e._v(e._s(this.invoice.fields.uuid))]):e._e(),1===e.invoice.fields.status_timbrado?i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"green-8",icon:"fas fa-file-excel",label:"XML",loading:e.loadingFiscal},on:{click:function(i){return e.getCFDIInvoice(e.invoice.fields.id_request)}}}):e._e(),1===e.invoice.fields.status_timbrado?i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"brown",icon:"fas fa-file-pdf",label:"PDF",loading:e.loadingFiscal},on:{click:function(i){return e.getPdfInvoice(e.invoice.fields.id_request,e.invoice.fields.pdf)}}}):e._e(),e.isDone?i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",icon:"mail",label:"Email",loading:e.loadingSendingMailBtn},on:{click:function(i){return e.selectEmail()}}}):e._e(),i("q-dialog",{attrs:{persistent:""},model:{value:e.promptEmail,callback:function(i){e.promptEmail=i},expression:"promptEmail"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Ingrese su email")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{dense:"",error:e.$v.emailInvoice.fields.email_cliente.$error,rules:e.emailRule,autofocus:""},on:{keyup:function(i){if(!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.promptEmail=!1}},model:{value:e.emailInvoice.fields.email_cliente,callback:function(i){e.$set(e.emailInvoice.fields,"email_cliente",i)},expression:"emailInvoice.fields.email_cliente"}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),i("q-btn",{attrs:{flat:"",label:"Enviar",loading:e.loadingSendingMailBtn},on:{click:function(i){return e.sendEmailInvoice()}}})],1)],1)],1),1===e.invoice.fields.status_timbrado||7===e.invoice.fields.status_timbrado?i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"red-9",icon:"cancel",label:"Cancelar",loading:e.loadingFiscal},on:{click:function(i){e.cancelarTimbrado=!0}}}):e._e(),e.isDone||e.isChecking?e._e():i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"orange",icon:"save",loading:e.loadingFiscal,label:"Actualizar"},on:{click:function(i){return e.actualizarFiscal()}}})],1)]),i("div",{staticClass:"row q-col-gutter-xs",staticStyle:{padding:"2%"}},[i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",label:"Seleccionar cliente",options:e.taxCompanyListOptions,readonly:e.isDone||e.isChecking},on:{input:function(i){return e.onTypeClientChange()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"person"}})]},proxy:!0}],null,!1,3962637177),model:{value:e.fiscal.fields.taxCompanyId,callback:function(i){e.$set(e.fiscal.fields,"taxCompanyId",i)},expression:"fiscal.fields.taxCompanyId"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.razon_social.$error,label:"Razon social del receptor",rules:e.fiscalRazonSocial,readonly:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.razon_social,callback:function(i){e.$set(e.fiscal.fields,"razon_social",i)},expression:"fiscal.fields.razon_social"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.rfc.$error,label:"RFC del receptor",rules:e.fiscalRFC,readonly:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.rfc,callback:function(i){e.$set(e.fiscal.fields,"rfc",i)},expression:"fiscal.fields.rfc"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.fecha_factura.$error,mask:"YYYY-MM-DD HH:mm:ss",label:"Fecha de emisión",rules:e.fiscalFechaFactura,readonly:e.isDone||e.isChecking},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"event"}})]},proxy:!0}],null,!1,3703588864),model:{value:e.fiscal.fields.fecha_factura,callback:function(i){e.$set(e.fiscal.fields,"fecha_factura",i)},expression:"fiscal.fields.fecha_factura"}},[i("q-popup-proxy",{ref:"fiscalFechaFactura",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6"},[i("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm:ss"},model:{value:e.fiscal.fields.fecha_factura,callback:function(i){e.$set(e.fiscal.fields,"fecha_factura",i)},expression:"fiscal.fields.fecha_factura"}})],1),i("div",{staticClass:"col-sm-6"},[i("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm:ss","now-btn":""},on:{input:function(){return e.$refs.fiscalFechaFactura.hide()}},model:{value:e.fiscal.fields.fecha_factura,callback:function(i){e.$set(e.fiscal.fields,"fecha_factura",i)},expression:"fiscal.fields.fecha_factura"}})],1)])])],1)],1),1===e.invoice.fields.status_timbrado?i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.folio_fiscal.$error,label:"Folio",rules:e.fiscalFolio,readonly:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.folio_fiscal,callback:function(i){e.$set(e.fiscal.fields,"folio_fiscal",i)},expression:"fiscal.fields.folio_fiscal"}})],1):i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"black","bg-color":"primary",filled:"",dark:"",error:e.$v.fiscal.fields.folio_fiscal.$error,label:"Folio",rules:e.fiscalFolio,readonly:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.folio_fiscal,callback:function(i){e.$set(e.fiscal.fields,"folio_fiscal",i)},expression:"fiscal.fields.folio_fiscal"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.lugar_expedicion.$error,label:"Lugar de expedición",rules:e.fiscalLugarExpedicion,maxlength:"5",readonly:e.isDone||e.isChecking},on:{keyup:function(i){return e.isNumber(i,"codigo_postal")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.lugar_expedicion,callback:function(i){e.$set(e.fiscal.fields,"lugar_expedicion",i)},expression:"fiscal.fields.lugar_expedicion"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.tipo_comprobante.$error,label:"Tipo de comprobante",rules:e.fiscalTipoComprobante,options:e.tiposComprobanteOptions,readonly:e.isDone||e.isChecking},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.tipo_comprobante,callback:function(i){e.$set(e.fiscal.fields,"tipo_comprobante",i)},expression:"fiscal.fields.tipo_comprobante"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.metodo_pago.$error,label:"Método de pago",rules:e.fiscalMetodoPago,options:e.metodoPagoOptions,readonly:e.isDone||e.isChecking},on:{input:e.setFormaPago},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.metodo_pago,callback:function(i){e.$set(e.fiscal.fields,"metodo_pago",i)},expression:"fiscal.fields.metodo_pago"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.forma_pago.$error,label:"Forma de pago",rules:e.fiscalFormaPago,options:e.formaPagoOptions,readonly:e.isDone||e.isChecking},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.forma_pago,callback:function(i){e.$set(e.fiscal.fields,"forma_pago",i)},expression:"fiscal.fields.forma_pago"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.uso_cfdi.$error,label:"Uso CFDI",rules:e.fiscalUsoCFDI,options:e.usoCFDIOptions,readonly:e.isDone||e.isChecking},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.uso_cfdi,callback:function(i){e.$set(e.fiscal.fields,"uso_cfdi",i)},expression:"fiscal.fields.uso_cfdi"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.regimen_fiscal.$error,label:"Régimen fiscal",options:e.regimenFiscalOptions,"emit-value":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.regimen_fiscal,callback:function(i){e.$set(e.fiscal.fields,"regimen_fiscal",i)},expression:"fiscal.fields.regimen_fiscal"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Folio Relacionado"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.folio_relacionado,callback:function(i){e.$set(e.fiscal.fields,"folio_relacionado",i)},expression:"fiscal.fields.folio_relacionado"}})],1),e.fiscal.fields.immex?i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.import.$error,label:"Pedimento Importación"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.import,callback:function(i){e.$set(e.fiscal.fields,"import",i)},expression:"fiscal.fields.import"}})],1):e._e(),e.fiscal.fields.immex?i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.export.$error,label:"Pedimento exportación"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.export,callback:function(i){e.$set(e.fiscal.fields,"export",i)},expression:"fiscal.fields.export"}})],1):e._e()])]):e._e(),e.isDone?i("q-tab-panel",{attrs:{name:"paymentDetails"}},[i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[i("q-table",{attrs:{id:"sticky-table",data:e.pagos,columns:e.payments.columns,selected:e.payments.selected,filter:e.payments.filter,color:"positive",title:"",dense:!0,pagination:e.payments.pagination,loading:e.payments.loading,"rows-per-page-options":e.payments.rowsOptions,selection:"multiple"},on:{"update:selected":function(i){return e.$set(e.payments,"selected",i)},"update:pagination":function(i){return e.$set(e.payments,"pagination",i)}},scopedSlots:e._u([{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[1===t.row.status_timbrado?i("q-td",{key:"check"},[i("q-checkbox",{attrs:{color:"positive"},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}})],1):i("q-td",{key:"check",attrs:{"auto-width":""}},[i("q-checkbox",{staticStyle:{display:"none"},attrs:{color:"positive"},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}})],1),i("q-td",{key:"num_parcialidad",attrs:{props:t}},[e._v(e._s(t.row.num_parcialidad))]),i("q-td",{key:"fecha_pago",attrs:{props:t}},[e._v(e._s(t.row.fecha_pago))]),i("q-td",{key:"total",attrs:{props:t}},[e._v(e._s(t.row.total))]),i("q-td",{key:"status_timbrado",attrs:{props:t}},[i("q-chip",{attrs:{dense:"",icon:e.iconTimbrado[t.row.status_timbrado],color:e.colorTimbrado[t.row.status_timbrado],"text-color":"white"}},[e._v(e._s(e.statusTimbrado[t.row.status_timbrado])),6===t.row.status_timbrado?i("q-tooltip",[e._v(e._s(t.row.message))]):e._e(),7===t.row.status_timbrado?i("q-tooltip",[e._v(e._s(t.row.message_cancelacion))]):e._e()],1)],1),i("q-td",{key:"acciones",attrs:{props:t}},[0===t.row.status_timbrado||6===t.row.status_timbrado?i("q-btn",{attrs:{small:"",flat:"",color:"green-6",icon:"fas fa-certificate"},on:{click:function(i){return e.timbrarPago(t.row)}}},[i("q-tooltip",[e._v("Timbrar")])],1):e._e(),1===t.row.status_timbrado?i("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"brown","icon-right":"fas fa-file-pdf",loading:e.loadingFiscal},on:{click:function(i){e.getPdfInvoice(t.row.id_request,t.row.folio+"_"+e.invoice.fields.pdf.split("_")[1])}}},[i("q-tooltip",[e._v("PDF")])],1):e._e(),1===t.row.status_timbrado?i("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"green-8","icon-right":"fas fa-file-excel",loading:e.loadingFiscal},on:{click:function(i){return e.getCFDIInvoice(t.row.id_request)}}},[i("q-tooltip",[e._v("XML")])],1):e._e(),1!==t.row.status_timbrado&&7!==t.row.status_timbrado||!e.isRoleInvoice?e._e():i("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"red-9","icon-right":"cancel",loading:e.loadingFiscal},on:{click:function(i){e.cancelarTimbrado=!0,e.pagoId=t.row.id}}},[i("q-tooltip",[e._v("Cancelar")])],1)],1)],1)]}}],null,!1,3602248134)},[i("template",{slot:"top-selection"},[i("div",{staticClass:"col"}),i("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",icon:"mail",label:"Email",loading:e.loadingSendingMailBtn},on:{click:function(i){return e.selectEmailsPagos()}}},[i("q-tooltip",[e._v("Enviar emails")])],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.promptEmailPagos,callback:function(i){e.promptEmailPagos=i},expression:"promptEmailPagos"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Ingrese su email")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{dense:"",error:e.$v.emailInvoice.fields.email_cliente.$error,rules:e.emailRule,autofocus:""},on:{keyup:function(i){if(!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.promptEmail=!1}},model:{value:e.emailInvoice.fields.email_cliente,callback:function(i){e.$set(e.emailInvoice.fields,"email_cliente",i)},expression:"emailInvoice.fields.email_cliente"}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),i("q-btn",{attrs:{flat:"",label:"Enviar",loading:e.loadingSendingMailBtn},on:{click:function(i){return e.sendEmailsPagos()}}})],1)],1)],1)],1)],2),i("q-inner-loading",{attrs:{visible:e.payments.loading}},[i("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e(),"ENVIADO"===e.invoice.fields.status||"PAGADO"===e.invoice.fields.status?i("q-tab-panel",{attrs:{name:"history"}},[i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[i("q-table",{attrs:{id:"sticky-table",data:e.histories,columns:e.history.columns,filter:e.history.filter,color:"positive",title:"",dense:!0,pagination:e.history.pagination,loading:e.history.loading,"rows-per-page-options":e.history.rowsOptions},on:{"update:pagination":function(i){return e.$set(e.history,"pagination",i)}},scopedSlots:e._u([{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[i("q-td",{key:"folio_fiscal",attrs:{props:t}},[e._v(e._s(t.row.folio_fiscal))]),i("q-td",{key:"serie",attrs:{props:t}},[e._v(e._s(t.row.serie))]),i("q-td",{key:"uuid",attrs:{props:t}},[e._v(e._s(t.row.uuid))]),i("q-td",{key:"message",attrs:{props:t}},[e._v(e._s(t.row.message))]),i("q-td",{key:"id_cancelacion",attrs:{props:t}},[e._v(e._s(t.row.id_cancelacion))]),i("q-td",{key:"fecha_cancelacion_envio",attrs:{props:t}},[e._v(e._s(t.row.fecha_cancelacion_envio))]),i("q-td",{key:"motivo_cancelacion",attrs:{props:t}},[e._v(e._s(e.motivos[Number(t.row.motivo_cancelacion)]+("01"==t.row.motivo_cancelacion?": "+t.row.folio_sustituye:"")))]),i("q-td",{key:"fecha_cancelacion_recibido",attrs:{props:t}},[e._v(e._s(t.row.fecha_cancelacion_recibido))]),i("q-td",{key:"acciones",attrs:{props:t}},[1===t.row.status_timbrado||2===t.row.status_timbrado?i("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:1==t.row.status_timbrado?"brown":"red","icon-right":"fas fa-file-pdf",loading:e.loadingFiscal},on:{click:function(i){e.getPdfInvoice(t.row.id_request,t.row.folio_fiscal+"_"+e.invoice.fields.pdf.split("_")[1])}}},[i("q-tooltip",[e._v("PDF")])],1):e._e(),1===t.row.status_timbrado?i("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"green-8","icon-right":"fas fa-file-excel",loading:e.loadingFiscal},on:{click:function(i){return e.getCFDIInvoice(t.row.id_request)}}},[i("q-tooltip",[e._v("XML")])],1):e._e()],1)],1)]}}],null,!1,4120033681)}),i("q-inner-loading",{attrs:{visible:e.history.loading}},[i("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e()],1)],1)]),i("q-dialog",{attrs:{persistent:""},model:{value:e.confirmRemissionDialog,callback:function(i){e.confirmRemissionDialog=i},expression:"confirmRemissionDialog"}},[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-11 col-sm-11 col-md-11 col-lg-11 text-h6",staticStyle:{color:"white"}},[e._v("Enviar Pedido")]),i("div",{staticClass:"col-xs-1 col-sm-1 col-md-1 col-lg-1 pull-right"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),i("q-card-section",{staticClass:"row items-center"},[i("span",{staticClass:"text-h6"},[e._v("¿Está seguro de enviar y cambiar el estatus de la remisión?")])]),i("q-card-section",{staticClass:"text-primary"},[i("div",{staticClass:"row q-col-gutter-xs q-col-gutter-sm q-col-gutter-md row q-col-gutter-xs q-col-gutter-lg"},[i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"background-color":"#f44336"},attrs:{flat:"",label:"Cancelar",color:"white"},on:{click:function(i){return e.closeGenerateInvoiceModal()}}})],1),i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6",attrs:{align:"right"}},[i("q-btn",{staticStyle:{"background-color":"#21ba45","text-align":"right"},attrs:{flat:"",label:"Confirmar",color:"white"},on:{click:function(i){return e.remission()}}})],1)])])],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.confirmDelivered,callback:function(i){e.confirmDelivered=i},expression:"confirmDelivered"}},[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-11 col-sm-11 col-md-11 col-lg-11 text-h6",staticStyle:{color:"white"}},[e._v("Confirma de Recibido")]),i("div",{staticClass:"col-xs-1 col-sm-1 col-md-1 col-lg-1 pull-right"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),i("q-card-section",{staticClass:"row items-center"},[i("span",{staticClass:"text-h6"},[e._v("¿Desea cambiar el estatus a Entregado?")])]),i("q-card-section",{staticClass:"text-primary"},[i("div",{staticClass:"row q-col-gutter-xs q-col-gutter-sm q-col-gutter-md row q-col-gutter-xs q-col-gutter-lg"},[i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"background-color":"#f44336"},attrs:{flat:"",label:"Cancelar",color:"white"},on:{click:function(i){return e.cancelConfirDelivered()}}})],1),i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6",attrs:{align:"right"}},[i("q-btn",{staticStyle:{"background-color":"#21ba45","text-align":"right"},attrs:{flat:"",label:"Confirmar",color:"white"},on:{click:function(i){return e.changeToDelivered()}}})],1)])])],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.confirmHistoricRemissionDialog,callback:function(i){e.confirmHistoricRemissionDialog=i},expression:"confirmHistoricRemissionDialog"}},[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-11 col-sm-11 col-md-11 col-lg-11 text-h6",staticStyle:{color:"white"}},[e._v("Enviar Pedido")]),i("div",{staticClass:"col-xs-1 col-sm-1 col-md-1 col-lg-1 pull-right"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),i("q-card-section",{staticClass:"row items-center"},[i("span",{staticClass:"text-h6"},[e._v("¿Realmente desea cambiar el estatus a Enviado?")])]),i("q-card-section",{staticClass:"text-primary"},[i("div",{staticClass:"row q-col-gutter-xs q-col-gutter-sm q-col-gutter-md row q-col-gutter-xs q-col-gutter-lg"},[i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"background-color":"#f44336"},attrs:{flat:"",label:"Cancelar",color:"white"},on:{click:function(i){return e.closeGenerateInvoiceModal()}}})],1),i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6",attrs:{align:"right"}},[i("q-btn",{staticStyle:{"background-color":"#21ba45","text-align":"right"},attrs:{flat:"",label:"Confirmar",color:"white"},on:{click:function(i){return e.remission()}}})],1)])])],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.documentFileModal,callback:function(i){e.documentFileModal=i},expression:"documentFileModal"}},[i("q-card",{staticStyle:{width:"400px"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-8 text-h6"},[e._v("Archivo: "+e._s(e.invoice.fields.pallet))]),i("div",{staticClass:"col-xs-12 col-sm-4 pull-right"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1)]),i("q-card-section",[i("q-uploader",{ref:"fileDocumentRef",staticStyle:{"min-width":"100%"},attrs:{url:e.fileDocumentUrl,method:"POST","text-color":"dark",color:"secondary",label:"Foto de Tarima","max-files":"1","auto-upload":"",flat:"","no-thumbnails":"",headers:[{name:"Authorization",value:"Bearer "+this.JWT}]},on:{uploaded:e.afterUploadDocumentFile}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.documentFileModalOrderBuy,callback:function(i){e.documentFileModalOrderBuy=i},expression:"documentFileModalOrderBuy"}},[i("q-card",[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-10 text-h6"},[e._v("Subir archivo")]),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-xs-12 col-sm-2 pull-right",attrs:{icon:"close",flat:"",round:"",dense:""}})],1),i("q-card-section",[i("q-uploader",{ref:"fileDocumentOCRef",attrs:{url:e.fileDocumentUrlOC,headers:[{name:"Authorization",value:"Bearer "+this.JWT}],method:"POST","hide-upload-btn":""},on:{uploaded:e.afterUploadDocumentFileOC}})],1),i("q-card-actions",{staticClass:"text-secondary",attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Subir archivo"},on:{click:function(i){return e.uploadDocumentFileOc()}}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.cancelarTimbrado,callback:function(i){e.cancelarTimbrado=i},expression:"cancelarTimbrado"}},[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-11 col-sm-11 col-md-11 col-lg-11 text-h6",staticStyle:{color:"white"}},[e._v("Cancelar Factura")]),i("div",{staticClass:"col-xs-1 col-sm-1 col-md-1 col-lg-1 pull-right"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),i("q-card-section",{staticClass:"items-center"},[i("span",{staticClass:"row text-h6"},[e._v("¿Está seguro de cancelar esta factura?")])]),i("q-card-section",{staticClass:"items-center"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"","emit-value":"",label:"Motivo de cancelacion",options:e.CancelacionOptions},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.motivo_cancelacion,callback:function(i){e.$set(e.fiscal.fields,"motivo_cancelacion",i)},expression:"fiscal.fields.motivo_cancelacion"}})],1)])]),"01"===e.fiscal.fields.motivo_cancelacion?i("q-card-section",{staticClass:"items-center"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.folio_sustituye.$error,label:"Folio que sustituye",rules:e.fiscalFolioSustituye},on:{keyup:function(i){return e.isNumber(i,"folio_sustituye")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}],null,!1,736773578),model:{value:e.fiscal.fields.folio_sustituye,callback:function(i){e.$set(e.fiscal.fields,"folio_sustituye",i)},expression:"fiscal.fields.folio_sustituye"}})],1)])]):e._e(),i("q-card-section",{staticClass:"text-primary"},[i("div",{staticClass:"row q-col-gutter-xs q-col-gutter-sm q-col-gutter-md row q-col-gutter-xs q-col-gutter-lg"},[i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"background-color":"#f44336"},attrs:{flat:"",label:"Cancelar",color:"white"},on:{click:function(i){e.cancelarTimbrado=!1}}})],1),i("div",{staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-6",attrs:{align:"right"}},[i("q-btn",{staticStyle:{"background-color":"#21ba45","text-align":"right"},attrs:{flat:"",label:"Confirmar",color:"white"},on:{click:function(i){null==e.pagoId?e.cancelarFactura():e.cancelarPago(e.pagoId)}}})],1)])])],1)],1)],1)},o=[],s=t("ded3"),l=t.n(s),n=t("7ec2"),r=t.n(n),c=t("c973"),d=t.n(c),u=(t("99af"),t("159b"),t("caad"),t("2532"),t("e260"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("14d9"),t("ac1f"),t("5319"),t("aabb")),f=t("b5ae"),p=f.required,m=f.decimal,v=f.numeric,g=f.minValue,h=f.maxValue,b=f.email,_=f.requiredIf,q={name:"EditStorageExit",validations:{invoice:{fields:{saleDate:{required:p},customer:{required:p},customerBranchOffice:{required:p},carrierName:{required:_((function(){return this.isLogistic}))},carrier:{required:_((function(){return this.isLogistic}))},guideNumber:{required:_((function(){return this.isLogistic}))}}},inBulkDetail:{fields:{product:{required:p},qty:{required:p,decimal:m},packagesQty:{numeric:v,minValue:g(0),maxValue:h(32767)}}},fiscal:{fields:{razon_social:{required:p},rfc:{required:p},folio_fiscal:{required:p},serie:{},fecha_factura:{required:p},lugar_expedicion:{required:p},tipo_comprobante:{required:p},metodo_pago:{required:p},forma_pago:{required:p},uso_cfdi:{required:p},regimen_fiscal:{required:p},folio_sustituye:{required:_((function(){return"01"===this.fiscal.fields.motivo_cancelacion}))},import:{required:_((function(){return this.fiscal.fields.immex}))},export:{required:_((function(){return this.fiscal.fields.immex}))}}},payments:{fields:{fecha_pago:{required:p},forma_pago:{required:p},total:{required:p}}},emailInvoice:{fields:{email_cliente:{required:p,email:b}}}},data:function(){return{special_order:0,documentFileModalOrderBuy:!1,isLogistic:!1,pallet:!1,documentFileModal:!1,serverUrl:"http://api.alpez.beta.wasp.mx/",formatter:new Intl.NumberFormat("en-US"),currencyFormatter:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),carrier:null,carriers:[],inBulkCheck:!1,totalQtyBales:null,cndButton:!1,cndButtonIB:!1,idDetail:null,idDetailIB:null,fibraTab:!0,bulkTab:!0,lamiTab:!0,invoiceTab:!0,paymentTab:!0,promptEmail:!1,promptEmailPagos:!1,tax_invoice:null,status_email:null,loan:null,scid:null,invoice:{fields:{id:null,saleDate:null,inBulkStorage:null,branchOffice:null,customer:null,customerBranchOffice:null,customerPriceList:null,driver:null,comments:null,canRemisionate:!1,status:null,status_timbrado:0,id_request:null,uuid:null,message:null,message_cancelacion:null,qtyBales:null,qtyinBulk:null,qtyLaminates:null,carrierName:null,carrier:null,guideNumber:null,pallet:null,date_delivered:null,oc_referenceshp:null,pdf:null}},inBulkDetail:{fields:{product:null,qty:null,packagesQty:null}},balesFromSC:[],fiscal:{fields:{razon_social:"",rfc:"",folio_fiscal:"",serie:"",fecha_factura:null,lugar_expedicion:"",tipo_comprobante:"I",metodo_pago:{value:"PUE",label:"PUE - Pago en una sola exhibición"},forma_pago:"",uso_cfdi:"",tipo_cliente:"cliente",taxCompanyId:null,motivo_cancelacion:"02",folio_sustituye:null,folio_relacionado:null,regimen_fiscal:null,immex:!1}},payments:{fields:{folio_fiscal:"",serie:"",fecha_pago:"",total:"",forma_pago:"",num_parcialidad:1},columns:[{name:"num_parcialidad",label:"NO. PARCIALIDAD",field:"num_parcialidad",sortable:!0,type:"string",align:"left"},{name:"fecha_pago",label:"FECHA DE PAGO",field:"fecha_pago",sortable:!0,type:"string",align:"left"},{name:"total",label:"TOTAL",field:"total",sortable:!0,type:"string",align:"left"},{name:"status_timbrado",label:"ESTATUS",field:"status_timbrado",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"ACCIONES",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},history:{columns:[{name:"folio_fiscal",label:"FOLIO",field:"folio_fiscal",sortable:!0,type:"string",align:"left"},{name:"serie",label:"SERIE",field:"serie",sortable:!0,type:"string",align:"left"},{name:"uuid",label:"UUID",field:"uuid",sortable:!0,type:"string",align:"left"},{name:"message",label:"MENSAJE",field:"message",sortable:!0,type:"string",align:"left"},{name:"id_cancelacion",label:"ID CANCELACION",field:"id_cancelacion",sortable:!0,type:"string",align:"left"},{name:"fecha_cancelacion_envio",label:"ENVIO CANCELACION",field:"fecha_cancelacion_envio",sortable:!0,type:"string",align:"left"},{name:"motivo_cancelacion",label:"MOTIVO CANCELACION",field:"motivo_cancelacion",sortable:!0,type:"string",align:"left"},{name:"fecha_cancelacion_recibido",label:"CONFIRMACION CANCELACION",field:"fecha_cancelacion_recibido",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"ACCIONES",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},emailInvoice:{fields:{email_cliente:""}},taxCompanyList:[],taxCompanyListOptions:[],interval:null,inBulkDetailcnd:null,branchOfficeOptions:[],storageOptions:[],customerOptions:[],productOptions:[],customerBranchOfficeOptions:[],filteredCustomerOptions:[],driverOptions:[],inBulkProducts:[],inBulkProductOptions:[],pagos:[],histories:[],tiposClientesOptions:[{label:"Cliente de la remisión",value:"cliente"},{label:"Público en general",value:"publico"}],tiposComprobanteOptions:[{label:"Ingreso",value:"I"}],metodoPagoOptions:[{label:"PUE - Pago en una sola exhibición",value:"PUE"},{label:"PPD - Pago en parcialidades",value:"PPD"}],statusTimbrado:["Nuevo","Timbrado","Cancelado","Cancelando","Timbrando","Cancelando","Error","Error al cancelar"],colorTimbrado:["blue-6","green-6","purple-6","warning","warning","warning","red-6","red-6"],iconTimbrado:["add","done","cancel","fas fa-ellipsis-h","fas fa-ellipsis-h","fas fa-ellipsis-h","cancel","cancel"],formaPagoOptions:[],usoCFDIOptions:[],currentTab:null,inBulkDetails:[],inBulkDetailsColumns:[{name:"product",align:"center",label:"PRODUCTO",field:"product",style:"width: 50%",sortable:!0},{name:"qty",align:"center",label:"PIEZAS",field:"qty",style:"width: 10%",sortable:!0},{name:"unitPrice",align:"center",label:"PRECIO",field:"unitPrice",style:"width: 10%",sortable:!0},{name:"totalPrice",align:"center",label:"IMPORTE",field:"totalPrice",style:"width: 10%",sortable:!0},{name:"actions",align:"center",label:"ACCIONES",field:"actions",style:"width: 10%",sortable:!1}],pagination:{rowsPerPage:50},confirmRemissionDialog:!1,confirmHistoricRemissionDialog:!1,loadingSendingMailBtn:!1,loadingFiscal:!1,productsPrices:[],confirmDelivered:!1,info:[],dataDocument:[],download:!1,documentId:null,idShoppingCart:null,cancelarTimbrado:!1,CancelacionOptions:[{label:"01 - Comprobantes emitidos con errores con relación",value:"01"},{label:"02 - Comprobantes emitidos con errores sin relación.",value:"02"},{label:"03 - No se llevó a cabo la operación.",value:"03"},{label:"04 - Operación nominativa relacionada en una factura global.",value:"04"}],pagoId:null,motivos:["","01 - Comprobantes emitidos con errores con relación","02 - Comprobantes emitidos con errores sin relación.","03 - No se llevó a cabo la operación.","04 - Operación nominativa relacionada en una factura global."],regimenFiscalOptions:[{label:"General de Ley Personas Morales",value:601},{label:"Personas Morales con Fines no Lucrativos",value:603},{label:"Sueldos y Salarios e Ingresos Asimilados a Salarios",value:605},{label:"Arrendamiento",value:606},{label:"Demás ingresos",value:608},{label:"Residentes en el Extranjero sin Establecimiento Permanente en México",value:610},{label:"Ingresos por Dividendos (socios y accionistas)",value:611},{label:"Personas Físicas con Actividades Empresariales y Profesionales",value:612},{label:"Ingresos por intereses",value:614},{label:"Sin obligaciones fiscales",value:616},{label:"Sociedades Cooperativas de Producción que optan por diferir sus ingresos",value:620},{label:"Incorporación Fiscal",value:621},{label:"Actividades Agrícolas, Ganaderas, Silvícolas y Pesqueras",value:622},{label:"Opcional para Grupos de Sociedades",value:623},{label:"Coordinados",value:624},{label:"Hidrocarburos",value:628},{label:"Régimen de Enajenación o Adquisición de Bienes",value:607},{label:"De los Regímenes Fiscales Preferentes y de las Empresas Multinacionales",value:629},{label:"Enajenación de acciones en bolsa de valores",value:630},{label:"Régimen de los ingresos por obtención de premios",value:615},{label:"Régimen de las Actividades Empresariales con ingresos a través de Plataformas Tecnológicas",value:625},{label:"Régimen Simplificado de Confianza",value:626}]}},computed:{JWT:function(){return localStorage.getItem("JWT")},fileDocumentUrlOC:function(){return"".concat("http://api.alpez.beta.wasp.mx/","documents/file/").concat(this.idShoppingCart)},fileDocumentUrl:function(){return"".concat("http://api.alpez.beta.wasp.mx/","invoices/file/").concat(this.$route.params.id)},guideNumberRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.guideNumber.required||"El campo Número de Guía es requerido."}]},carrierNameRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.carrierName.required||"El campo Nombre del Chofer es requerido."}]},carrierRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.carrier.required||"El campo Paquetería es requerido."}]},saleDateRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.saleDate.required||"El campo Fecha de venta es requerido."}]},customerRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.customer.required||"El campo Cliente es requerido."}]},productRules:function(e){var i=this;return[function(e){return i.$v.detail.fields.product.required||"El campo Producto es requerido."}]},inBulkDetailProductRules:function(e){var i=this;return[function(e){return i.$v.inBulkDetail.fields.product.required||"El campo Producto es requerido."}]},inBulkDetailQtyRules:function(e){var i=this;return[function(e){return i.$v.inBulkDetail.fields.qty.required||"El campo Cantidad es requerido."},function(e){return i.$v.inBulkDetail.fields.qty.decimal||"El campo Cantidad debe ser numérico."}]},inBulkDetailPackagesQtyRules:function(e){var i=this;return[function(e){return i.$v.inBulkDetail.fields.packagesQty.numeric||"El campo Bultos debe ser entero."},function(e){return i.$v.inBulkDetail.fields.packagesQty.minValue||"El campo Bultos no puede ser negativo."},function(e){return i.$v.inBulkDetail.fields.packagesQty.maxValue||"El campo Bultos no debe exceder de 32,767."}]},customerBranchOfficeRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.customerBranchOffice.required||"El campo Sucursal de cliente es requerido."}]},driverRules:function(e){var i=this;return[function(e){return i.$v.invoice.fields.driver.required||"El campo Chofer es requerido."}]},fiscalRazonSocial:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.razon_social.required||"El cliente no cuenta con razon social."}]},fiscalRFC:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.rfc.required||"El cliente no cuenta con un RFC."}]},fiscalSerie:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.serie.required||"El campo Serie es requerido."}]},fiscalFolio:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.folio_fiscal.required||"El campo Folio es requerido."}]},fiscalFechaFactura:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.fecha_factura.required||"El campo Fecha de emisión es requerido."}]},fiscalLugarExpedicion:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.lugar_expedicion.required||"El campo Lugar de expedición es requerido."}]},fiscalTipoComprobante:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.tipo_comprobante.required||"El campo Tipo de comprobante es requerido."}]},fiscalMetodoPago:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.metodo_pago.required||"El campo Método de pago es requerido."}]},fiscalFormaPago:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.forma_pago.required||"El campo Forma de pago es requerido."}]},fiscalUsoCFDI:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.uso_cfdi.required||"El campo Uso CFDI es requerido."}]},paymentsFechaFactura:function(e){var i=this;return[function(e){return i.$v.payments.fields.fecha_pago.required||"El campo Fecha de pago es requerido."}]},paymentsTotal:function(e){var i=this;return[function(e){return i.$v.payments.fields.total.required||"El campo Total es requerido."}]},paymentsFormaPago:function(e){var i=this;return[function(e){return i.$v.payments.fields.forma_pago.required||"El campo Forma de pago es requerido."}]},emailRule:function(e){var i=this;return[function(e){return i.$v.emailInvoice.fields.email_cliente.email||"El campo debe contener un correo válido."}]},fiscalFolioSustituye:function(e){var i=this;return[function(e){return i.$v.fiscal.fields.folio_sustituye.required||"El campo Folio que sustituye es requerido."}]},filteredStorageOptions:function(){var e=this,i=[];return null!=this.invoice.fields.branchOffice&&null!=this.invoice.fields.branchOffice.value&&(i=this.storageOptions.filter((function(i){return Number(i.branchOffice)===Number(e.invoice.fields.branchOffice.value)}))),i},filteredCustomerBranchOfficeOptions:function(){var e=this,i=[];return null!=this.invoice.fields.customer&&null!=this.invoice.fields.customer.value&&(i=this.customerBranchOfficeOptions.filter((function(i){return Number(i.customer)===Number(e.invoice.fields.customer.value)}))),i},unitPrice:function(){var e=this,i=0;return null!=this.detail.fields.product&&null!=this.detail.fields.product.value&&null!=this.invoice.fields.customerPriceList&&this.balesFromSC.forEach((function(t){t.product_id===e.detail.fields.product.value&&(i=t.price_product)})),i},totalDetailsQties:function(){var e=0;return this.details.forEach((function(i){i.qty&&(e+=Number(i.qty))})),e},totalDetailsPrice:function(){var e=0;return this.details.forEach((function(i){i.total_price&&(e+=Number(i.total_price))})),e},inBulkDetailUnitPrice:function(){var e=this;if(null!=this.inBulkDetail.fields.product&&null!=this.inBulkDetail.fields.product&&null!=this.invoice.fields.customerPriceList){var i=this.productsPrices.filter((function(i){return Number(i.product_id)===Number(e.inBulkDetail.fields.product)&&i.price_level===e.invoice.fields.customerPriceList}));if(i.length>0)return i[0].price}return 0},totalInBulkDetailsQties:function(){var e=0;return this.inBulkDetails.forEach((function(i){i.qty&&(e+=Number(i.qty))})),e},totalInBulkDetailsPrice:function(){var e=0;return this.inBulkDetails.forEach((function(i){i.total_price&&(e+=Number(i.total_price))})),e},inBulkDetailAvailableQty:function(){var e=this,i=0;return null==this.inBulkDetail.fields.product||isNaN(this.inBulkDetail.fields.product)||(i=this.inBulkProducts.filter((function(i){return Number(i.product_id)===Number(e.inBulkDetail.fields.qty)}))),i},isDone:function(){return 1===this.invoice.fields.status_timbrado},isChecking:function(){return 3===this.invoice.fields.status_timbrado||4===this.invoice.fields.status_timbrado||5===this.invoice.fields.status_timbrado||7===this.invoice.fields.status_timbrado||17===this.invoice.fields.status_timbrado},isRoleInvoice:function(){return this.$store.getters["users/roles"].includes(1)||27===this.$store.getters["users/rol"]||22===this.$store.getters["users/rol"]||20===this.$store.getters["users/rol"]||4===this.$store.getters["users/rol"]||28===this.$store.getters["users/rol"]||29===this.$store.getters["users/rol"]||17===this.$store.getters["users/rol"]},isRoleAdmin:function(){return 1===this.$store.getters["users/rol"]||20===this.$store.getters["users/rol"]},allQtyBales:function(){var e=[];return this.details.forEach((function(i){i.total_price&&(e+=Number(i.qty))})),e}},beforeRouteEnter:function(e,i,t){t((function(e){var i=e.$store.getters["users/rol"];1===i||3===i||7===i||2===i||20===i||4===i||27===i||22===i||29===i||28===i||17===i?t():t("/")}))},beforeDestroy:function(){clearInterval(this.interval)},created:function(){this.fetchFromServer(),this.getCarriers(),this.getDateCurrent()},methods:{getDateCurrent:function(){var e=this;u["a"].get("/invoices/getDateCurrent").then((function(i){var t=i.data;e.fiscal.fields.fecha_factura=t.dateCurrent}))},editReeference:function(){var e=this;return d()(r()().mark((function i(){var t;return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t={},t.oc_referenceshp=e.invoice.fields.oc_referenceshp,e.$q.loading.show(),i.next=5,u["a"].put("/shopping-carts/editReeference/".concat(e.idShoppingCart),t).then((function(i){var t=i.data;t.result&&e.fetchFromServer(),e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"})}));case 5:e.$q.loading.hide();case 6:case"end":return i.stop()}}),i)})))()},downloadDocumentOc:function(){return!0},deleteFileOc:function(){var e=this;return d()(r()().mark((function i(){return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,u["a"].get("/shopping-carts/getDataOfOrderShoppingcart/".concat(e.$route.params.id,"/","Si")).then((function(i){var t=i.data;t.result&&(e.dataDocument=t.datadocument,e.download=!0)}));case 2:u["a"].delete("/documents/".concat(e.dataDocument.id)).then((function(i){var t=i.data;t.result&&e.fetchFromServer(),e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"})}));case 3:case"end":return i.stop()}}),i)})))()},downloadDocumentFileOc:function(){var e=this;return d()(r()().mark((function i(){return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,u["a"].get("/shopping-carts/getDataOfOrderShoppingcart/".concat(e.$route.params.id,"/","Si")).then((function(i){var t=i.data;t.result&&(e.dataDocument=t.datadocument,e.download=!0)}));case 2:u["a"].fileDownload("/documents/getFileOrderShoppingCart/".concat(e.dataDocument.id)).then((function(i){var t=i.data;e.info.image=t;var a=window.URL.createObjectURL(new Blob([t],{type:e.dataDocument.mimetype})),o=document.createElement("a");o.href=a,o.setAttribute("download",e.dataDocument.filename),document.body.appendChild(o),o.click()}));case 3:case"end":return i.stop()}}),i)})))()},showDocumentFileOcMenu:function(){var e=this;return d()(r()().mark((function i(){return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,u["a"].get("/shopping-carts/getDataOfOrderShoppingcart/".concat(e.$route.params.id,"/","Si")).then((function(i){var t=i.data;t.result&&(e.dataDocument=t.datadocument,e.download=!0)}));case 2:e.download&&u["a"].fileDownload("/documents/getFileOrderShoppingCart/".concat(e.dataDocument.id)).then((function(i){var t=i.data;e.info.image=t;var a=window.URL.createObjectURL(new Blob([t],{type:e.dataDocument.mimetype}));window.open(a,"_blank")}));case 3:case"end":return i.stop()}}),i)})))()},uploadDocumentFileOc:function(){this.$refs.fileDocumentOCRef.upload()},afterUploadDocumentFileOC:function(e){var i=JSON.parse(e.xhr.response);this.$q.notify({message:i.message.content,position:"top",color:i.result?"positive":"warning"}),i.result&&(this.fetchFromServer(),this.documentFileModalOrderBuy=!1)},quotationNotePDF:function(){var e="no",i="http://api.alpez.beta.wasp.mx/"+"invoices/quotationNotePDF/".concat(this.$route.params.id,"/").concat(e);window.open(i,"_blank")},showDocumentFileOc:function(){var e=this;return d()(r()().mark((function i(){return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.documentFileModalOrderBuy=!0;case 1:case"end":return i.stop()}}),i)})))()},downloadDocumentFileOrder:function(){var e=this;return d()(r()().mark((function i(){return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.$q.loading.show(),i.next=3,u["a"].get("/shopping-carts/getDataOfOrderShoppingcart/".concat(e.$route.params.id,"/","Si")).then((function(i){var t=i.data;t.result&&(e.dataDocument=t.datadocument,e.download=!0)}));case 3:e.download&&u["a"].fileDownload("/documents/getFileOrderShoppingCart/".concat(e.dataDocument.id)).then((function(i){var t=i.data;e.$q.loading.hide(),e.info.image=t;var a=window.URL.createObjectURL(new Blob([t],{type:e.dataDocument.mimetype})),o=document.createElement("a");o.href=a,o.setAttribute("download",e.dataDocument.filename),document.body.appendChild(o),o.click()})),e.$q.loading.hide();case 5:case"end":return i.stop()}}),i)})))()},showconfirmDelivered:function(){this.confirmDelivered=!0},cancelConfirDelivered:function(){this.invoice.fields.date_delivered=null,this.confirmDelivered=!1},changeToDelivered:function(){var e=this,i=new Date,t=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate(),a=this.$route.params.id,o=[];o.date_delivered=this.invoice.fields.date_delivered,this.invoice.fields.date_delivered>t?(this.$q.notify({message:"La fecha ingresada es mayor a la actual",position:"top",color:"warning",icon:"close"}),this.invoice.fields.date_delivered=null):(this.$q.loading.show(),u["a"].put("/invoices/dateDeliveredUpdate/".concat(a),o).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning",icon:t.result?"thumb_up":"close"}),t.result&&e.fetchFromServer(),e.invoice.fields.date_delivered=null}))),this.invoice.fields.date_delivered=null,this.$q.loading.hide(),this.confirmDelivered=!1},saveLogistic:function(){var e=this;if(this.isLogistic=!0,this.$v.invoice.fields.$reset(),this.$v.invoice.fields.$touch(),this.$v.invoice.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=[];i.carrier_name=this.invoice.fields.carrierName,i.guide_number=this.invoice.fields.guideNumber,i.carrier_id=this.invoice.fields.carrier,u["a"].put("/invoices/".concat(this.invoice.fields.id),i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?u["a"].get("/invoices/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.invoice.fields.id=e.$route.params.id,e.invoice.fields.saleDate=t.invoice.sale_date,e.invoice.fields.branchOffice={value:t.invoice.in_bulk_branch_office_id,label:t.invoice.in_bulk_branch_office},e.invoice.fields.inBulkStorage=t.invoice.in_bulk_storage_id&&t.invoice.in_bulk_storage?{value:t.invoice.in_bulk_storage_id,label:t.invoice.in_bulk_storage}:null,e.invoice.fields.customer={value:t.invoice.customer_id,label:t.invoice.customer},e.invoice.fields.customerBranchOffice={value:t.invoice.customer_branch_office_id,label:t.invoice.customer_branch_office},e.invoice.fields.status=t.invoice.status,e.invoice.fields.carrier=t.invoice.carrier_id,e.invoice.fields.carrierName=t.invoice.carrier_name,e.invoice.fields.guideNumber=t.invoice.guide_number,e.invoice.fields.pallet=t.invoice.pallet_document,e.$q.loading.hide()})):e.$q.loading.hide()}))},openUploadFileModal:function(){this.documentFileModal=!0},showDocumentFile:function(){if(null!=this.invoice.fields.pallet){var e=this.invoice.fields.pallet.split("."),i=this.$route.params.id;window.open("".concat(this.serverUrl,"assets/invoices/pallets/").concat(i+"."+e[e.length-1]),"_blank")}else this.$q.notify({message:"El documento no cuenta con un archivo subido",position:"top",color:"warning"})},downloadDocumentFile:function(){null!=this.invoice.fields.pallet?window.open("".concat("http://api.alpez.beta.wasp.mx/","invoices/file/").concat(this.$route.params.id,"/download"),"_blank"):this.$q.notify({message:"El pedido no tiene una Foto de Tarima subida",position:"top",color:"warning"})},removeDocument:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este documento?",ok:{color:"positive",label:"Aceptar"},cancel:{color:"red",label:"Cancelar"}}).onOk((function(){e.$q.loading.show(),u["a"].put("/invoices/file/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(e.pallet=!1,u["a"].get("/invoices/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.invoice.fields.pallet=t.invoice.pallet_document})),e.$q.loading.hide()):e.$q.loading.hide()}))}))},afterUploadDocumentFile:function(e){var i=this,t=JSON.parse(e.xhr.response);this.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result&&(this.documentFileModal=!1,u["a"].get("/invoices/".concat(this.$route.params.id)).then((function(e){var t=e.data;i.invoice.fields.pallet=t.invoice.pallet_document})))},getCarriers:function(){var e=this;u["a"].get("carriers/options").then((function(i){var t=i.data;e.carriers=t.options}))},fetchFromServer:function(){var e=this;this.$q.loading.show(),u["a"].get("/invoices/".concat(this.$route.params.id)).then((function(i){var t=i.data;t.invoice?(u["a"].get("/invoices/getHistory/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.histories=t.history})),e.balesFromSC=t.qtysFromBales,e.invoice.fields.id=e.$route.params.id,e.invoice.fields.saleDate=t.invoice.sale_date,e.status_email=t.invoice.status_email,null===t.invoice.special_order||0===t.invoice.special_order?e.special_order=0:e.special_order=1,t.invoice.in_bulk_branch_office_id&&(e.invoice.fields.branchOffice={value:t.invoice.in_bulk_branch_office_id,label:t.invoice.in_bulk_branch_office}),t.invoice.in_bulk_storage_id&&(e.invoice.fields.inBulkStorage=t.invoice.in_bulk_storage_id&&t.invoice.in_bulk_storage?{value:t.invoice.in_bulk_storage_id,label:t.invoice.in_bulk_storage}:null,e.currentTab="inBulkDetails",e.bulkTab=!1),t.QtyinBulk?e.invoice.fields.qtyinBulk=t.QtyinBulk:e.inBulkCheck=!0,e.scid=t.invoice.shopping_cart_id,0===t.invoice.tax_invoice?e.tax_invoice={value:t.invoice.tax_invoice,label:"SI"}:e.tax_invoice={value:t.invoice.tax_invoice,label:"NO"},0===t.invoice.loan?e.loan={value:t.invoice.loan,label:"NO"}:e.loan={value:t.invoice.loan,label:"SI"},e.invoice.fields.date_delivered=t.invoice.date_delivered,e.invoice.fields.customer={value:t.invoice.customer_id,label:t.invoice.customer},e.invoice.fields.customerBranchOffice={value:t.invoice.customer_branch_office_id,label:t.invoice.customer_branch_office},e.invoice.fields.customerPriceList=t.invoice.customer_price_list,e.invoice.fields.driver={value:t.invoice.driver_id,label:t.invoice.driver},e.invoice.fields.comments=t.invoice.comments,e.invoice.fields.canRemisionate=t.invoice.canRemisionate,e.invoice.fields.status=t.invoice.status,e.invoice.fields.status_timbrado=t.invoice.status_timbrado,e.invoice.fields.message=t.invoice.message,e.invoice.fields.message_cancelacion=t.invoice.message_cancelacion,e.invoice.fields.id_request=t.invoice.id_request,e.invoice.fields.uuid=t.invoice.uuid,e.invoice.fields.carrier=t.invoice.carrier_id,e.invoice.fields.carrierName=t.invoice.carrier_name,e.invoice.fields.guideNumber=t.invoice.guide_number,e.invoice.fields.pallet=t.invoice.pallet_document,e.invoice.fields.oc_referenceshp=t.invoice.oc_referenceshp,e.invoice.fields.pdf=t.invoice.pdf,e.documentId=t.invoice.document_id,e.idShoppingCart=t.invoice.shopping_cart_id,e.fiscal.fields.folio_relacionado=t.invoice.folio_relacionado,3!==e.invoice.fields.status_timbrado&&4!==e.invoice.fields.status_timbrado&&5!==e.invoice.fields.status_timbrado&&null!==e.interval?(clearInterval(e.interval),e.interval=null):4!==e.invoice.fields.status_timbrado&&3!==e.invoice.fields.status_timbrado&&5!==e.invoice.fields.status_timbrado||null!==e.interval||(e.currentTab="invoiceDetails",e.interval=setInterval((function(){e.revisarTimbrado()}),1e4)),"NUEVO"===e.invoice.fields.status?u["a"].get("/customers/options").then((function(i){var t=i.data;e.customerOptions=t.options,u["a"].get("/customer-branch-offices/options").then((function(i){var t=i.data;e.customerBranchOfficeOptions=t.options,u["a"].get("/drivers/options").then((function(i){var t=i.data;e.driverOptions=t.options,u["a"].get("/products-prices").then((function(i){var t=i.data;e.productsPrices=t.productsPrices,e.changeModel(e.currentTab),e.$q.loading.hide()}))}))}))})):("ENVIADO"!==e.invoice.fields.status&&"PAGADO"!==e.invoice.fields.status||(e.invoiceTab=!1,u["a"].get("/invoices/formaPagoOptions").then((function(i){var t=i.data;e.formaPagoOptions=t.options,u["a"].get("/invoices/usoCFDIOptions").then((function(i){var t=i.data;e.usoCFDIOptions=t.options,u["a"].get("/customer-tax-companies/customer/".concat(e.invoice.fields.customer.value)).then((function(i){var t=i.data;e.taxCompanyList=[],e.taxCompanyListOptions=[],t.customerTaxCompanies.length>0?(t.customerTaxCompanies.forEach((function(i){e.taxCompanyList[i.id]={rfc:i.rfc,razon_social:i.razon_social},e.taxCompanyListOptions.push({value:i.id,label:"".concat(i.rfc)})})),e.taxCompanyList[0]={rfc:"XAXX010101000",razon_social:"PUBLICO EN GENERAL"},e.taxCompanyListOptions.push({value:0,label:"XAXX010101000"}),e.fiscal.fields.taxCompanyId=e.taxCompanyListOptions[0],e.fiscal.fields.razon_social=e.taxCompanyList[e.fiscal.fields.taxCompanyId.value].razon_social,e.fiscal.fields.rfc=e.taxCompanyList[e.fiscal.fields.taxCompanyId.value].rfc,u["a"].get("/customer-tax-companies/".concat(e.fiscal.fields.taxCompanyId.value)).then((function(i){var t=i.data;e.fiscal.fields.tipo_comprobante={value:"I",label:"Ingreso"};var a="PPD"!==t.customerTaxCompanies.metodo_pago?"PUE - Pago en una sola exhibición":"PPD - Pago en parcialidades";e.fiscal.fields.metodo_pago={value:t.customerTaxCompanies.metodo_pago,label:a},e.fiscal.fields.forma_pago={value:t.customerTaxCompanies.forma_pago,label:t.customerTaxCompanies.forma_pago_label},e.fiscal.fields.uso_cfdi={value:t.customerTaxCompanies.uso_cfdi,label:t.customerTaxCompanies.uso_cfdi_label},e.emailInvoice.fields.email_cliente=t.customerTaxCompanies.email,e.fiscal.fields.regimen_fiscal=t.customerTaxCompanies.regimen_fiscal,e.fiscal.fields.immex=t.customerTaxCompanies.immex,u["a"].get("/invoices/getFiscal/".concat(e.$route.params.id)).then((function(i){var t=i.data,a=t.fiscal;if(e.fiscal.fields.fecha_factura=a.fecha_factura,e.fiscal.fields.folio_fiscal=a.folio_fiscal,e.fiscal.fields.serie=a.serie,e.fiscal.fields.lugar_expedicion=a.lugar_expedicion,null!==a.tax_company_id){e.fiscal.fields.folio_fiscal=a.folio_fiscal,e.fiscal.fields.tipo_comprobante={value:"I",label:"Ingreso"};var o="PPD"!==a.metodo_pago?"PUE - Pago en una sola exhibición":"PPD - Pago en parcialidades";e.fiscal.fields.metodo_pago={value:a.metodo_pago,label:o},e.fiscal.fields.forma_pago={value:a.forma_pago_id,label:a.forma_pago},e.fiscal.fields.uso_cfdi={value:a.uso_cfdi_id,label:a.uso_cfdi},e.fiscal.fields.razon_social=null!==a.razon_social?a.razon_social:e.fiscal.fields.razon_social,e.fiscal.fields.rfc=null!==a.rfc?a.rfc:e.fiscal.fields.rfc,e.fiscal.fields.taxCompanyId=null!==a.tax_company_id?{value:a.tax_company_id,label:a.rfc}:e.fiscal.fields.taxCompanyId,e.emailInvoice.fields.email_cliente=a.email_cliente,e.fiscal.fields.regimen_fiscal=a.regimen_fiscal,e.fiscal.fields.immex=a.immex,e.fiscal.fields.import=a.import,e.fiscal.fields.export=a.export}else null==a.folio_fiscal&&u["a"].get("/invoices/nextFolio/".concat(e.$route.params.id,"/").concat(e.fiscal.fields.serie)).then((function(i){var t=i.data;e.fiscal.fields.folio_fiscal=t.folio_fiscal}));e.isDone&&"PPD"===e.fiscal.fields.metodo_pago.value&&(e.currentTab="paymentDetails",u["a"].get("/invoices/getPagos/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.pagos=t.pagos,u["a"].get("/invoices/keepCheckingPayments/".concat(e.$route.params.id)).then((function(i){var t=i.data;t.result?null===e.interval&&(e.interval=setInterval((function(){e.revisarPagos()}),1e4)):(clearInterval(e.interval),e.interval=null)}))})))}))}))):(e.taxCompanyList[0]={rfc:"XAXX010101000",razon_social:"PUBLICO EN GENERAL"},e.taxCompanyListOptions.push({value:0,label:"XAXX010101000"}),e.fiscal.fields.taxCompanyId=e.taxCompanyListOptions[0],e.fiscal.fields.razon_social=e.taxCompanyList[e.fiscal.fields.taxCompanyId.value].razon_social,e.fiscal.fields.rfc=e.taxCompanyList[e.fiscal.fields.taxCompanyId.value].rfc,e.fiscal.fields.serie="A",u["a"].get("/invoices/getFiscal/".concat(e.$route.params.id)).then((function(i){var t=i.data,a=t.fiscal;if(e.fiscal.fields.fecha_factura=a.fecha_factura,null!=a.serie&&(e.fiscal.fields.serie=a.serie),null!=a.folio_fiscal?e.fiscal.fields.folio_fiscal=a.folio_fiscal:e.fiscal.fields.folio_fiscal=1,null!=a.lugar_expedicion&&(e.fiscal.fields.lugar_expedicion=a.lugar_expedicion),e.fiscal.fields.tipo_comprobante={value:"I",label:"Ingreso"},null!=a.metodo_pago){var o=a.metodo_pago,s="PUE"===a.metodo_pago?"PUE - Pago en una sola exhibición":"PPD - Pago en parcialidades",l="PUE"===a.metodo_pago?"PUE":"PPD";e.fiscal.fields.metodo_pago={value:l,label:s}}null!=a.forma_pago&&(e.fiscal.fields.forma_pago={value:a.forma_pago_id,label:a.forma_pago}),null!=a.uso_cfdi&&(e.fiscal.fields.uso_cfdi={value:a.uso_cfdi_id,label:a.uso_cfdi}),null!=a.timbrado&&1===a.status_timbrado?(e.fiscal.fields.razon_social=null!==a.razon_social?a.razon_social:e.fiscal.fields.razon_social,e.fiscal.fields.rfc=null!==a.rfc?a.rfc:e.fiscal.fields.rfc,e.fiscal.fields.taxCompanyId={value:a.tax_company_id,label:a.rfc}):t.email_cliente&&(e.emailInvoice.fields.email_cliente=a.email_cliente),e.isDone&&"PPD"===o&&(e.currentTab="paymentDetails",u["a"].get("/invoices/getPagos/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.pagos=t.pagos,u["a"].get("/invoices/keepCheckingPayments/".concat(e.$route.params.id)).then((function(i){var t=i.data;t.result?null===e.interval&&(e.interval=setInterval((function(){e.revisarPagos()}),1e4)):(clearInterval(e.interval),e.interval=null)}))})))})))}))}))}))),e.changeModel(e.currentTab),e.$q.loading.hide())):(e.$q.notify({message:t.message.content,position:"top",color:"negative"}),e.$router.push("/storage-exits"),e.$q.loading.hide())}))},isNumber:function(e,i){switch(i){case"total":this.payments.fields.total=this.payments.fields.total.replace(/[^0-9.]/g,""),this.$v.payments.fields.total.$touch();break;case"codigo_postal":this.fiscal.fields.lugar_expedicion=this.fiscal.fields.lugar_expedicion.replace(/[^0-9.]/g,""),this.$v.fiscal.fields.lugar_expedicion.$touch();break;case"folio_sustituye":this.fiscal.fields.folio_sustituye=this.fiscal.fields.folio_sustituye.replace(/[^0-9.]/g,""),this.$v.fiscal.fields.folio_sustituye.$touch();break;default:break}},backToGrid:function(){this.$router.push("/storage-exits")},remission:function(){var e=this;this.confirmHistoricRemissionDialog?this.isLogistic=!1:this.isLogistic=!0,this.$v.invoice.fields.$reset(),this.$v.invoice.fields.$touch(),this.confirmRemissionDialog=!1;var i=this.canRemisionate();if(!0===i){this.$q.loading.show();var t=[];this.confirmHistoricRemissionDialog?t.isHistoric=!0:t.isHistoric=!1,t.carrier_name=this.invoice.fields.carrierName,t.guide_number=this.invoice.fields.guideNumber,t.carrier_id=this.invoice.fields.carrier,u["a"].put("/invoices/".concat(this.invoice.fields.id,"/remission"),t).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?e.fetchFromServer():e.$q.loading.hide()}))}else this.$q.loading.hide(),this.$q.notify({message:"Tiene detalles en cantidad 0, porfavor comuniquese con el administrador, para poder eliminarlos",position:"top",color:"negative"})},canRemisionate:function(){var e=!0;return this.inBulkDetails.forEach((function(i){0!==i.qty&&"0"!==i.qty||(e=!1)})),e},saleReferral:function(){var e="http://api.alpez.beta.wasp.mx/"+"invoices/pdf/".concat(this.$route.params.id);window.open(e,"_blank")},sendSaleReferral:function(){var e=this;this.loadingSendingMailBtn=!0,u["a"].get("/invoices/".concat(this.$route.params.id,"/send-mail")).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),e.loadingSendingMailBtn=!1}))},updateSale:function(){var e=this;if(this.isLogistic=!1,this.$v.invoice.fields.$reset(),this.$v.invoice.fields.$touch(),this.$v.invoice.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=[];i.comments=l()({},this.invoice.fields).comments,u["a"].put("/invoices/".concat(this.invoice.fields.id),i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?u["a"].get("/invoices/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.invoice.fields.id=e.$route.params.id,e.invoice.fields.saleDate=t.invoice.sale_date,e.invoice.fields.branchOffice={value:t.invoice.in_bulk_branch_office_id,label:t.invoice.in_bulk_branch_office},e.invoice.fields.inBulkStorage=t.invoice.in_bulk_storage_id&&t.invoice.in_bulk_storage?{value:t.invoice.in_bulk_storage_id,label:t.invoice.in_bulk_storage}:null,e.invoice.fields.customer={value:t.invoice.customer_id,label:t.invoice.customer},e.invoice.fields.customerBranchOffice={value:t.invoice.customer_branch_office_id,label:t.invoice.customer_branch_office},e.invoice.fields.driver={value:t.invoice.driver_id,label:t.invoice.driver},e.invoice.fields.status=t.invoice.status,e.invoice.fields.carrier=t.invoice.carrier_id,e.invoice.fields.carrierName=t.invoice.carrier_name,e.invoice.fields.guideNumber=t.invoice.guide_number,e.invoice.fields.pallet=t.invoice.pallet_document,e.$q.loading.hide()})):e.$q.loading.hide()}))},changeModel:function(e){var i=this;"inBulkDetails"===e&&0===this.inBulkDetails.length&&(this.$q.loading.show(),u["a"].get("/invoice-in-bulk-details/invoice/".concat(this.$route.params.id)).then((function(e){var t=e.data;i.inBulkDetails=t.invoiceDetails,i.inBulkDetails.length>0&&i.inBulkDetails.push({id:null,invoice_id:null,product_id:null,product:"TOTAL:",qty:null}),"NUEVO"===i.invoice.fields.status&&0===i.inBulkProducts.length&&0===i.inBulkProductOptions.length?u["a"].get("/storages/".concat(i.invoice.fields.inBulkStorage.value,"/bulk-products")).then((function(e){var t=e.data;i.inBulkProducts=[],i.inBulkProductOptions=[],t.products.forEach((function(e){var t=i.inBulkDetails.filter((function(i){return Number(i.product_id)===Number(e.product_id)}));t.forEach((function(i){e.qty-=i.qty})),i.inBulkProducts.push(e),i.inBulkProductOptions.push({value:e.product_id,label:"".concat(e.category_code,"-").concat(e.line_code,"-").concat(e.product_name)})})),i.$q.loading.hide()})):i.$q.loading.hide()})))},addInBulkDetail:function(){var e=this;if(this.$v.inBulkDetail.fields.$reset(),this.$v.inBulkDetail.fields.$touch(),this.$v.inBulkDetail.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=[];i.product_id=Number(l()({},this.inBulkDetail.fields).product.value),i.qty=Number(l()({},this.inBulkDetail.fields).qty),i.packages_qty=Number(l()({},this.inBulkDetail.fields).packagesQty),i.invoice_id=Number(this.$route.params.id),this.inBulkDetail.fields.product=null,this.inBulkDetail.fields.qty=null,this.inBulkDetail.fields.packagesQty=null,u["a"].post("/invoice-in-bulk-details",i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?u["a"].get("/invoice-in-bulk-details/invoice/".concat(e.$route.params.id)).then((function(i){var t=i.data;e.inBulkDetails=t.invoiceDetails,e.inBulkDetails.length>0?(u["a"].get("/storages/".concat(e.invoice.fields.inBulkStorage.value,"/bulk-products")).then((function(i){var t=i.data;e.inBulkProducts=[],e.inBulkProductOptions=[],t.products.forEach((function(i){var t=e.inBulkDetails.filter((function(e){return Number(e.product_id)===Number(i.product_id)}));t.forEach((function(e){i.qty-=e.qty})),e.inBulkProducts.push(i),e.inBulkProductOptions.push({value:i.product_id,label:"".concat(i.category_code,"-").concat(i.line_code,"-").concat(i.product_name)})})),e.$q.loading.hide()})),e.inBulkDetails.push({id:null,invoice_id:null,product_id:null,product:"TOTAL:",qty:null})):e.$q.loading.hide()})):e.$q.loading.hide()}))},removeInBulkDetail:function(e){var i=this;this.$q.loading.show(),u["a"].delete("/invoice-in-bulk-details/".concat(e)).then((function(e){var t=e.data;i.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?u["a"].get("/invoice-in-bulk-details/invoice/".concat(i.$route.params.id)).then((function(e){var t=e.data;i.inBulkDetails=t.invoiceDetails,i.inBulkDetails.length>0&&(u["a"].get("/storages/".concat(i.invoice.fields.inBulkStorage.value,"/bulk-products")).then((function(e){var t=e.data;i.inBulkProducts=[],i.inBulkProductOptions=[],t.products.forEach((function(e){var t=i.inBulkDetails.filter((function(i){return Number(i.product_id)===Number(e.product_id)}));t.forEach((function(i){e.qty-=i.qty})),i.inBulkProducts.push(e),i.inBulkProductOptions.push({value:e.product_id,label:"".concat(e.category_code,"-").concat(e.line_code,"-").concat(e.product_name)})}))})),i.inBulkDetails.push({id:null,invoice_id:null,product_id:null,product:"TOTAL:",qty:null})),i.$q.loading.hide()})):i.$q.loading.hide()}))},editInBulkDetail:function(e){this.cndButtonIB=!0,this.inBulkDetail.fields.product={value:e.product_id,label:e.product},this.inBulkDetail.fields.qty=e.qty,this.inBulkDetailcnd=e.qtyfromcart,this.idDetailIB=e.id},editIB:function(){var e=this;if(this.$q.loading.show(),Number(this.inBulkDetail.fields.qty)>Number(1.2*this.inBulkDetailcnd))this.$q.notify({message:"La cantidad excede el limite del pedido.",position:"top",color:"negative"}),this.$q.loading.hide();else{var i=[];i.detailId=this.idDetailIB,i.newQty=this.inBulkDetail.fields.qty,i.bulks=this.inBulkDetail.fields.packagesQty,i.status=this.invoice.fields.status,i.product_id=this.inBulkDetail.fields.product,u["a"].post("/invoice-in-bulk-details/editinBulksDetails",i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(e.cndButtonIB=!1,e.cndButton=!1,e.refreshinBulk(),e.cleanFieldsInbulk(),e.$q.loading.hide()):(e.refreshinBulk(),e.cleanFieldsInbulk(),e.cndButtonIB=!0,e.cndButton=!0,e.$q.loading.hide())}))}},filtrarClientes:function(e,i,t){var a=this;i((function(){var i=e.toLowerCase();a.filteredCustomerOptions=a.customerOptions.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},siguienteFolio:function(){},actualizarFiscal:function(){var e=this;if(this.$v.fiscal.fields.$reset(),this.$v.fiscal.fields.$touch(),this.$v.fiscal.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=[];i.tipo_cliente=l()({},this.fiscal.fields).tipo_cliente.value,i.folio_fiscal=l()({},this.fiscal.fields).folio_fiscal,i.serie=l()({},this.fiscal.fields).serie,i.fecha_factura=l()({},this.fiscal.fields).fecha_factura,i.lugar_expedicion=l()({},this.fiscal.fields).lugar_expedicion,i.tipo_comprobante=l()({},this.fiscal.fields).tipo_comprobante.value,i.metodo_pago=l()({},this.fiscal.fields).metodo_pago.value,i.forma_pago=l()({},this.fiscal.fields).forma_pago.value,i.uso_cfdi=l()({},this.fiscal.fields).uso_cfdi.value,i.folio_relacionado=l()({},this.fiscal.fields).folio_relacionado,i.regimen_fiscal=l()({},this.fiscal.fields).regimen_fiscal,i.tax_company_id=l()({},this.fiscal.fields).taxCompanyId.value,u["a"].put("/invoices/fiscalData/".concat(this.invoice.fields.id),i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),e.$q.loading.hide(),e.fetchFromServer()}))},timbrarRemision:function(){var e=this;return d()(r()().mark((function i(){var t;return r()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.$v.fiscal.fields.$reset(),e.$v.fiscal.fields.$touch(),!e.$v.fiscal.fields.$error){i.next=5;break}return e.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),i.abrupt("return",!1);case 5:return e.$q.loading.show(),t=[],t.tipo_cliente=l()({},e.fiscal.fields).tipo_cliente.value,t.folio_fiscal=l()({},e.fiscal.fields).folio_fiscal,t.serie=l()({},e.fiscal.fields).serie,t.fecha_factura=l()({},e.fiscal.fields).fecha_factura,t.lugar_expedicion=l()({},e.fiscal.fields).lugar_expedicion,t.tipo_comprobante=l()({},e.fiscal.fields).tipo_comprobante.value,t.metodo_pago=l()({},e.fiscal.fields).metodo_pago.value,t.forma_pago=l()({},e.fiscal.fields).forma_pago.value,t.uso_cfdi=l()({},e.fiscal.fields).uso_cfdi.value,t.folio_relacionado=l()({},e.fiscal.fields).folio_relacionado,t.regimen_fiscal=l()({},e.fiscal.fields).regimen_fiscal,t.import=l()({},e.fiscal.fields).import,t.export=l()({},e.fiscal.fields).export,t.tax_company_id="undefined"===typeof e.fiscal.fields.taxCompanyId.value?e.fiscal.fields.taxCompanyId:e.fiscal.fields.taxCompanyId.value,i.next=23,u["a"].put("/invoices/timbrar/".concat(e.invoice.fields.id),t).then((function(i){var t=i.data;e.$q.loading.hide(),"error"===t.result&&e.$q.notify({message:t.message.content,position:"top",color:"error"!==t.result?"positive":"warning"})})).catch((function(e){console.error(e)}));case 23:e.fetchFromServer();case 24:case"end":return i.stop()}}),i)})))()},cancelarFactura:function(){var e=this;if(this.$v.fiscal.fields.$reset(),this.$v.fiscal.fields.$touch(),this.$v.fiscal.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;var i={};i.motivo_cancelacion=this.fiscal.fields.motivo_cancelacion,i.folio_sustituye=this.fiscal.fields.folio_sustituye,this.$q.loading.show(),u["a"].put("/invoices/cancelar/".concat(this.invoice.fields.id),i).then((function(i){var t,a=i.data;(e.$q.loading.hide(),e.cancelarTimbrado=!1,e.fiscal.fields.motivo_cancelacion="02","error"===a.result)?e.$q.notify({message:a.message.content,caption:null!==(t=a.errors)&&void 0!==t?t:"",multiLine:!0,position:"top",timeout:7e3,color:"error"!==a.result?"positive":"warning"}):e.fetchFromServer()})).catch((function(e){console.error(e)}))},revisarTimbrado:function(){var e=this;this.loadingFiscal=!0,u["a"].put("/invoices/revisarTimbrado/".concat(this.invoice.fields.id)).then((function(i){var t=i.data;if("done"!==t.response.status&&"error"!==t.response.status&&!0!==t.response.status||e.fetchFromServer(),("done"===t.response.status||!0===t.response.status)&&"NUEVO"===e.status_email){var a=[];a.id=l()({},e.invoice.fields).id,a.email=l()({},e.emailInvoice.fields).email_cliente,u["a"].post("/invoices/sendNewPdfInvoiceToCustomer",a).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"})}))}})).catch((function(e){console.error(e)})),this.loadingFiscal=!1},agregarPago:function(){var e=this;if(this.$v.payments.fields.$reset(),this.$v.payments.fields.$touch(),this.$v.payments.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=[];i.fecha_pago=l()({},this.payments.fields).fecha_pago,i.forma_pago=l()({},this.payments.fields).forma_pago.value,i.total=l()({},this.payments.fields).total,u["a"].post("/invoices/agregarPago/".concat(this.invoice.fields.id),i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),e.payments.fields.fecha_pago="",e.payments.fields.forma_pago="",e.payments.fields.total="",e.$v.payments.fields.$reset(),e.fetchFromServer(),e.$q.loading.hide()}))},timbrarPago:function(e){var i=this;this.$q.loading.show(),u["a"].put("/invoices/timbrarPago/"+e.id).then((function(e){var t=e.data;i.$q.loading.hide(),"error"===t.result?i.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}):i.fetchFromServer()})).catch((function(e){console.error(e)}))},revisarPagos:function(){var e=this;this.loadingFiscal=!0,u["a"].put("/invoices/revisarPagos/".concat(this.invoice.fields.id)).then((function(i){var t=i.data;"done"!==t.response.status&&"error"!==t.response.status&&!0!==t.response.status||e.fetchFromServer()})).catch((function(e){console.error(e)})),this.loadingFiscal=!1},cancelarPago:function(e){var i=this;if(this.$v.fiscal.fields.$reset(),this.$v.fiscal.fields.$touch(),this.$v.fiscal.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;var t={};t.motivo_cancelacion=this.fiscal.fields.motivo_cancelacion,t.folio_sustituye=this.fiscal.fields.folio_sustituye,this.$q.loading.show(),u["a"].put("/invoices/cancelarPago/"+e,t).then((function(e){var t,a=e.data;(i.$q.loading.hide(),i.fiscal.fields.motivo_cancelacion="02",i.pagoId=null,i.cancelarTimbrado=!1,"error"===a.result)?i.$q.notify({message:a.message.content,caption:null!==(t=a.errors)&&void 0!==t?t:"",multiLine:!0,position:"top",timeout:7e3,color:"error"!==a.result?"positive":"warning"}):i.fetchFromServer()})).catch((function(e){console.error(e)}))},borrarPago:function(e){var i=this;this.$q.loading.show(),u["a"].delete("/invoices/borrarPago/".concat(e)).then((function(e){var t=e.data;i.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(i.fetchFromServer(),i.$q.loading.hide()):i.$q.loading.hide()}))},getCFDIInvoice:function(e){var i="http://batuta.beta.antfarm.mx";window.open(i+"/api/download_xml/"+e,"_blank")},getPdfInvoice:function(e,i){var t=this;this.$q.loading.show(),u["a"].fileDownload("/invoices/pdfi/".concat(e)).then((function(e){var a=e.data,o=window.URL.createObjectURL(new Blob([a],{type:"application/pdf"})),s=document.createElement("a");s.href=o,s.setAttribute("download",i),document.body.appendChild(s),t.$q.loading.hide(),s.click()}))},cleanFieldsInbulk:function(){this.inBulkDetail.fields.product=null,this.inBulkDetail.fields.qty="",this.idDetailsIB=""},refreshinBulk:function(){var e=this;u["a"].get("/invoice-in-bulk-details/invoice/".concat(this.$route.params.id)).then((function(i){var t=i.data;e.inBulkDetails=t.invoiceDetails,e.inBulkDetails.length>0&&e.inBulkDetails.push({id:null,invoice_id:null,product_id:null,product:"TOTAL:",qty:null}),"NUEVO"===e.invoice.fields.status&&0===e.inBulkProducts.length&&0===e.inBulkProductOptions.length?u["a"].get("/storages/".concat(e.invoice.fields.inBulkStorage.value,"/bulk-products")).then((function(i){var t=i.data;e.inBulkProducts=[],e.inBulkProductOptions=[],t.products.forEach((function(i){var t=e.inBulkDetails.filter((function(e){return Number(e.product_id)===Number(i.product_id)}));t.forEach((function(e){i.qty-=e.qty})),e.inBulkProducts.push(i),e.inBulkProductOptions.push({value:i.product_id,label:"".concat(i.category_code,"-").concat(i.line_code,"-").concat(i.product_name)})})),e.$q.loading.hide()})):e.$q.loading.hide()}))},selectEmail:function(){this.promptEmail=!0},selectEmailsPagos:function(){this.promptEmailPagos=!0},sendEmailInvoice:function(){var e=this;if(this.$v.emailInvoice.fields.$reset(),this.$v.emailInvoice.fields.$touch(),this.$v.emailInvoice.fields.$error)return!1;this.loadingSendingMailBtn=!0;var i=[];i.id=l()({},this.invoice.fields).id,i.email=l()({},this.emailInvoice.fields).email_cliente,u["a"].post("/invoices/sendNewPdfInvoiceToCustomer",i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(e.promptEmail=!1,e.emailInvoice.fields.email_cliente=t.email_cliente,e.loadingSendingMailBtn=!1):e.loadingSendingMailBtn=!1}))},sendEmailsPagos:function(){var e=this;if(this.$v.emailInvoice.fields.$reset(),this.$v.emailInvoice.fields.$touch(),this.$v.emailInvoice.fields.$error)return!1;this.loadingSendingMailBtn=!0;var i=[];this.payments.selected.forEach((function(e){1===parseInt(e.status_timbrado)&&i.push(e.id)}));var t=[];t.ids=i,t.email=l()({},this.emailInvoice.fields).email_cliente,u["a"].post("/invoices/sendEmailsPagos",t).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(e.promptEmailPagos=!1,e.emailInvoice.fields.email_cliente=t.email_cliente,e.loadingSendingMailBtn=!1):e.loadingSendingMailBtn=!1}))},onTypeClientChange:function(){var e=this;this.fiscal.fields.razon_social=this.taxCompanyList[this.fiscal.fields.taxCompanyId.value].razon_social,this.fiscal.fields.rfc=this.taxCompanyList[this.fiscal.fields.taxCompanyId.value].rfc,this.fiscal.fields.immex=!1,0!==this.fiscal.fields.taxCompanyId.value&&u["a"].get("/customer-tax-companies/".concat(this.fiscal.fields.taxCompanyId.value)).then((function(i){var t=i.data;e.fiscal.fields.tipo_comprobante={value:"I",label:"Ingreso"};var a="PPD"!==t.customerTaxCompanies.metodo_pago?"PUE - Pago en una sola exhibición":"PPD - Pago en parcialidades";e.fiscal.fields.metodo_pago={value:t.customerTaxCompanies.metodo_pago,label:a},e.fiscal.fields.forma_pago={value:t.customerTaxCompanies.forma_pago,label:t.customerTaxCompanies.forma_pago_label},e.fiscal.fields.uso_cfdi={value:t.customerTaxCompanies.uso_cfdi,label:t.customerTaxCompanies.uso_cfdi_label},e.emailInvoice.fields.email_cliente=t.customerTaxCompanies.email,e.fiscal.fields.immex=t.customerTaxCompanies.immex,e.siguienteFolio()}))},generarTicket:function(){var e=this.$store.getters["users/id"],i="http://api.alpez.beta.wasp.mx/"+"ticket/crearTicket/".concat(this.$route.params.id,"/").concat(e);window.open(i,"_blank")},CancelRemision:function(){var e=this;this.$q.dialog({title:"Confirmación",message:"¿Desea Cancelar esta Remision?",persistent:!0,ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){var i=[];i.id=e.invoice.fields.id,u["a"].post("/invoices/cancelRemision",i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"})}))})).onCancel((function(){}))},setFormaPago:function(){"PPD"===this.fiscal.fields.metodo_pago.value&&(this.fiscal.fields.forma_pago=22)}}},y=q,k=t("2877"),x=t("9989"),C=t("ead5"),$=t("079e"),w=t("9c40"),D=t("05c0"),B=t("4e73"),P=t("1c1c"),O=t("66e5"),S=t("4074"),I=t("ddd8"),E=t("0016"),F=t("7cbe"),N=t("52ee"),T=t("27f9"),R=t("429b"),A=t("7460"),L=t("eb85"),M=t("adad"),z=t("823b"),U=t("eaac"),Q=t("bd08"),V=t("db86"),G=t("ee89"),H=t("e7a9"),Y=t("24e8"),X=t("f09f"),j=t("a370"),J=t("4b7e"),W=t("ca78"),Z=t("8f8e"),K=t("b047"),ee=t("74f7"),ie=t("8380"),te=t("7f67"),ae=t("eebe"),oe=t.n(ae),se=Object(k["a"])(y,a,o,!1,null,null,null);i["default"]=se.exports;oe()(se,"components",{QPage:x["a"],QBreadcrumbs:C["a"],QBreadcrumbsEl:$["a"],QBtn:w["a"],QTooltip:D["a"],QMenu:B["a"],QList:P["a"],QItem:O["a"],QItemSection:S["a"],QSelect:I["a"],QIcon:E["a"],QPopupProxy:F["a"],QDate:N["a"],QInput:T["a"],QTabs:R["a"],QTab:A["a"],QSeparator:L["a"],QTabPanels:M["a"],QTabPanel:z["a"],QTable:U["a"],QTr:Q["a"],QTd:V["a"],QUploader:G["a"],QBtnGroup:H["a"],QDialog:Y["a"],QCard:X["a"],QCardSection:j["a"],QCardActions:J["a"],QTime:W["a"],QCheckbox:Z["a"],QChip:K["a"],QInnerLoading:ee["a"],QSpinnerDots:ie["a"]}),oe()(se,"directives",{ClosePopup:te["a"]})}}]);