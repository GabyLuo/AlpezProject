(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{7715:function(e,t,r){"use strict";r.r(t);r("b0c0"),r("ac1f"),r("5319"),r("caad"),r("2532");var o=function(){var e=this,t=this,r=t._self._c;return r("q-page",{staticClass:"bg-grey-3"},[r("div",{staticClass:"q-pa-sm panel-header"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-9"},[r("div",{staticClass:"q-pa-md q-gutter-sm"},[r("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[r("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),r("q-breadcrumbs-el",{attrs:{label:"Clientes",to:"/customers"}}),r("q-breadcrumbs-el",{attrs:{label:"Nuevo Cliente"}})],1)],1)])])]),r("div",{staticClass:"q-pa-md bg-grey-3"},[r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n          Información General\n        ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",disable:"",label:"Código",rules:t.serialRules},on:{input:function(e){t.customer.fields.serial=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"code"}})]},proxy:!0}]),model:{value:t.customer.fields.serial,callback:function(e){t.$set(t.customer.fields,"serial",e)},expression:"customer.fields.serial"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.admission_date.$error,mask:"date",label:"Alta",rules:t.admissionRules},on:{input:function(e){t.customer.fields.admission_date=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"event"}})]},proxy:!0}]),model:{value:t.customer.fields.admission_date,callback:function(e){t.$set(t.customer.fields,"admission_date",e)},expression:"customer.fields.admission_date"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{color:"secondary","text-color":"white",mask:"DD/MM/YYYY","today-btn":""},on:{input:function(){return e.$refs.date.hide()}},model:{value:t.customer.fields.admission_date,callback:function(e){t.$set(t.customer.fields,"admission_date",e)},expression:"customer.fields.admission_date"}})],1)])],1)],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.name.$error,label:"Razón social",rules:t.nameRules},on:{blur:function(e){return t.labelName()},input:function(e){t.customer.fields.name=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:t.customer.fields.name,callback:function(e){t.$set(t.customer.fields,"name",e)},expression:"customer.fields.name"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:[{label:"ACTIVO",value:!0},{label:"INACTIVO",value:!1}],label:"Estatus"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:t.customer.fields.active.value?"battery_full":"battery_alert"}})]},proxy:!0}]),model:{value:t.customer.fields.active,callback:function(e){t.$set(t.customer.fields,"active",e)},expression:"customer.fields.active"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.contact_phone.$error,label:"Teléfono",rules:t.contactPhoneRules},on:{input:function(e){t.customer.fields.contact_phone=e.replace(/[^0-9]/g,"").substr(0,20)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"contact_phone"}})]},proxy:!0}]),model:{value:t.customer.fields.contact_phone,callback:function(e){t.$set(t.customer.fields,"contact_phone",e)},expression:"customer.fields.contact_phone"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.contact_phone_res.$error,label:"Teléfono 2",rules:t.contactPhoneRulesRes},on:{input:function(e){t.customer.fields.contact_phone_res=e.replace(/[^0-9]/g,"").substr(0,20)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"contact_phone"}})]},proxy:!0}]),model:{value:t.customer.fields.contact_phone_res,callback:function(e){t.$set(t.customer.fields,"contact_phone_res",e)},expression:"customer.fields.contact_phone_res"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.email.$error,label:"Dirección de correo electrónico",rules:t.emailRules},on:{input:function(e){t.customer.fields.email=e.toLowerCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.customer.fields.email,callback:function(e){t.$set(t.customer.fields,"email",e)},expression:"customer.fields.email"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.email2.$error,label:"Dirección de correo electrónico 2",rules:t.email2Rules},on:{input:function(e){t.customer.fields.email2=e.toLowerCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.customer.fields.email2,callback:function(e){t.$set(t.customer.fields,"email2",e)},expression:"customer.fields.email2"}})],1)])])]),r("br"),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n          Información Comercial\n        ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Nombre comercial"},on:{input:function(e){t.customer.fields.tradename=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.customer.fields.tradename,callback:function(e){t.$set(t.customer.fields,"tradename",e)},expression:"customer.fields.tradename"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.payment_method.$error,label:"Forma de pago","map-options":"",options:[{label:"CONTADO",value:"CONTADO"},{label:"CREDITO",value:"CREDITO"}],rules:t.paymentMethodRules,"emit-value":""},on:{input:function(e){return t.methodSelected()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"payment"}})]},proxy:!0}]),model:{value:t.customer.fields.payment_method,callback:function(e){t.$set(t.customer.fields,"payment_method",e)},expression:"customer.fields.payment_method"}})],1),t.enableFields?r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.credit_days.$error,label:"Días de Crédito",rules:t.creditDayRules,mask:"#","reverse-fill-mask":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"far fa-clock"}})]},proxy:!0}],null,!1,2330399323),model:{value:t.customer.fields.credit_days,callback:function(e){t.$set(t.customer.fields,"credit_days",e)},expression:"customer.fields.credit_days"}})],1):t._e(),t.enableFields?r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.credit_limit.$error,label:"Límite de Crédito",rules:t.creditLimitRules},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}],null,!1,2568092296),model:{value:t.customer.fields.credit_limit,callback:function(e){t.$set(t.customer.fields,"credit_limit",e)},expression:"customer.fields.credit_limit"}})],1):t._e(),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.currency.$error,label:"Moneda",rules:t.currencyRules,options:t.currencyOptions,"emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:t.customer.fields.currency,callback:function(e){t.$set(t.customer.fields,"currency",e)},expression:"customer.fields.currency"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.priceList.$error,rules:t.priceListRules,options:[{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"}],label:"Precio de lista"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-tag"}})]},proxy:!0}]),model:{value:t.customer.fields.priceList,callback:function(e){t.$set(t.customer.fields,"priceList",e)},expression:"customer.fields.priceList"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",label:"Descuento Autorizado",rules:t.discountRules,error:t.$v.customer.fields.discount.$error,disable:!t.$store.getters["users/roles"].includes(1)&&!t.$store.getters["users/roles"].includes(25),filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-percent"}})]},proxy:!0}]),model:{value:t.customer.fields.discount,callback:function(e){t.$set(t.customer.fields,"discount",e)},expression:"customer.fields.discount"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.seller.$error,rules:t.sellerRules,options:t.sellerOptions,label:"Vendedor","emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-id-badge"}})]},proxy:!0}]),model:{value:t.customer.fields.seller,callback:function(e){t.$set(t.customer.fields,"seller",e)},expression:"customer.fields.seller"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.channelOptions,label:"Canal","emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-id-badge"}})]},proxy:!0}]),model:{value:t.customer.fields.channel_id,callback:function(e){t.$set(t.customer.fields,"channel_id",e)},expression:"customer.fields.channel_id"}})],1)])])]),r("br"),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n          Domicilio Corporativo\n        ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.street.$error,label:"Calle",rules:t.streetRules},on:{input:function(e){t.customer.fields.street=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:t.customer.fields.street,callback:function(e){t.$set(t.customer.fields,"street",e)},expression:"customer.fields.street"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.outdoor_number.$error,label:"Número ext.",rules:t.outdoorNumberRules},on:{input:function(e){t.customer.fields.outdoor_number=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.customer.fields.outdoor_number,callback:function(e){t.$set(t.customer.fields,"outdoor_number",e)},expression:"customer.fields.outdoor_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.indoor_number.$error,label:"Número int.",rules:t.indoorNumberRules},on:{input:function(e){t.customer.fields.indoor_number=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.customer.fields.indoor_number,callback:function(e){t.$set(t.customer.fields,"indoor_number",e)},expression:"customer.fields.indoor_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.city.$error,label:"Ciudad",rules:t.cityRules},on:{input:function(e){t.customer.fields.city=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customer.fields.city,callback:function(e){t.$set(t.customer.fields,"city",e)},expression:"customer.fields.city"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.municipality.$error,label:"Municipio",rules:t.municipalityRules},on:{input:function(e){t.customer.fields.municipality=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.customer.fields.municipality,callback:function(e){t.$set(t.customer.fields,"municipality",e)},expression:"customer.fields.municipality"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3 col-md-3 col-lg-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.suburb.$error,label:"Colonia",rules:t.suburbRules},on:{input:function(e){t.customer.fields.suburb=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.customer.fields.suburb,callback:function(e){t.$set(t.customer.fields,"suburb",e)},expression:"customer.fields.suburb"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.zip_code.$error,label:"CP",rules:t.zipCodeRules},on:{input:function(e){t.customer.fields.zip_code=e.replace(/[^0-9]/g,"").substr(0,5)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:t.customer.fields.zip_code,callback:function(e){t.$set(t.customer.fields,"zip_code",e)},expression:"customer.fields.zip_code"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.state.$error,label:"Estado",rules:t.stateRules},on:{input:function(e){t.customer.fields.state=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customer.fields.state,callback:function(e){t.$set(t.customer.fields,"state",e)},expression:"customer.fields.state"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customer.fields.country.$error,label:"País"},on:{input:function(e){t.customer.fields.country=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customer.fields.country,callback:function(e){t.$set(t.customer.fields,"country",e)},expression:"customer.fields.country"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 offset-sm-10 pull-right"},[r("q-btn",{attrs:{color:"positive",icon:"save",label:"Guardar"},on:{click:function(e){return t.createCustomer()}}})],1)])])]),r("br")])])},s=[],n=r("7ec2"),i=r.n(n),c=r("c973"),l=r.n(c),a=r("ded3"),u=r.n(a),d=(r("14d9"),r("99af"),r("4de4"),r("d3b7"),r("aabb")),m=r("b5ae"),f=m.required,p=m.requiredIf,b=m.maxLength,v=m.minLength,h=m.integer,_=m.minValue,g=m.email,y=m.decimal,x={name:"NewCustomer",validations:{customer:{fields:{serial:{required:f,maxLength:b(10)},admission_date:{required:f},name:{required:f,maxLength:b(100)},contact_name:{maxLength:b(100)},contact_phone:{minLength:v(10),maxLength:b(20),integer:h,minValue:_(1)},discount:{decimal:y,minValue:_(1)},contact_phone_res:{minLength:v(10),maxLength:b(20),integer:h,minValue:_(1)},street:{maxLength:b(100)},outdoor_number:{maxLength:b(10)},indoor_number:{maxLength:b(10)},suburb:{maxLength:b(100)},municipality:{maxLength:b(100)},country:{maxLength:b(100)},state:{maxLength:b(100)},city:{maxLength:b(100)},zip_code:{maxLength:b(5),integer:h,minValue:_(1)},rfc:{maxLength:b(20)},term:{maxLength:b(100)},payment_method:{required:f,maxLength:b(100)},currency:{required:f},seller:{required:f},priceList:{required:f},email:{required:f,email:g},email2:{email:g},email3:{email:g},email4:{email:g},credit_days:{required:p((function(){return this.enableFields}))},credit_limit:{required:p((function(){return this.enableFields})),decimal:y}}}},data:function(){return{channelOptions:[],customer:{fields:{serial:null,name:null,seller:null,tradename:null,contact_name:null,contact_phone:null,contact_phone_res:null,street:null,outdoor_number:null,indoor_number:null,suburb:null,municipality:null,state:null,country:null,city:null,zip_code:null,rfc:null,term:null,payment_method:null,currency:null,active:{label:"ACTIVO",value:!0},priceList:null,email:null,email2:null,email3:null,email4:null,admission_date:null,branch_id:9,credit_days:null,credit_limit:null,channel_id:null,documents:null,discount:null,requirements:null,postal_code_id:null,municipio_id:null,suburb_id:null}},branchesList:[],enableFields:!1,sellerOptions:[],currencyOptions:[],selectEstados:[],selectMunicipio:[],selectMunicipios:[],options:this.selectMunicipio,options2:this.selectEstados,postal_codes:[],postal_codes_options:[],suburbs:[],suburbs_options:[],cities:[],cityOptions:[]}},mounted:function(){this.getSellers(),this.getCurrencies(),this.getChannels()},created:function(){var e=this;d["a"].get("/branch-offices/options").then((function(t){e.branchesList=t.data.options,d["a"].get("customers/getLastCode").then((function(t){e.customer.fields.serial=t.data.data.nextserial}))}))},computed:{roleId:function(){var e=this.$store.getters["users/rol"];return parseInt(e)},serialRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.serial.required||"El campo Código es requerido."},function(e){return t.$v.customer.fields.serial.maxLength||"El campo Código no debe exceder los 10 dígitos."}]},sellerRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.seller.required||"El campo Vendedor es requerido."}]},discountRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.discount.decimal||"El campo Descuento debe ser númerico."},function(e){return t.$v.customer.fields.discount.minValue||"El campo Descuento debe ser positivo."}]},admissionRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.admission_date.required||"El campo Fecha de alta es requerido."}]},nameRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.name.required||"El campo Nombre es requerido."},function(e){return t.$v.customer.fields.name.maxLength||"El campo Nombre no debe exceder los 100 dígitos."}]},contactNameRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.contact_name.maxLength||"El campo Nombre Contacto no debe exceder los 100 dígitos."}]},creditDayRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.credit_days.required||"El campo Días de Crédito es requerido."}]},creditLimitRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.credit_limit.required||"El campo Límite de Crédito es requerido."},function(e){return t.$v.customer.fields.credit_limit.decimal||"El campo Límite de Crédito debe ser númerico."}]},contactPhoneRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.contact_phone.integer||"El campo Teléfono debe ser numérico."},function(e){return t.$v.customer.fields.contact_phone.minValue||"El campo Teléfono debe ser positivo."},function(e){return t.$v.customer.fields.contact_phone.minLength||"El campo Teléfono debe tener al menos 10 dígitos."},function(e){return t.$v.customer.fields.contact_phone.maxLength||"El campo Teléfono no debe exceder los 20 dígitos."}]},contactPhoneRulesRes:function(e){var t=this;return[function(e){return t.$v.customer.fields.contact_phone_res.integer||"El campo Teléfono debe ser numérico."},function(e){return t.$v.customer.fields.contact_phone_res.minValue||"El campo Teléfono debe ser positivo."},function(e){return t.$v.customer.fields.contact_phone_res.minLength||"El campo Teléfono debe tener al menos 10 dígitos."},function(e){return t.$v.customer.fields.contact_phone_res.maxLength||"El campo Teléfono no debe exceder los 20 dígitos."}]},streetRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.street.maxLength||"El campo Calle no debe exceder los 100 dígitos."}]},outdoorNumberRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.outdoor_number.maxLength||"El campo Número ext. no debe exceder los 10 dígitos."}]},indoorNumberRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.indoor_number.maxLength||"El campo Número int. no debe exceder los 10 dígitos."}]},suburbRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.suburb.maxLength||"El campo Colonia no debe exceder los 100 dígitos."}]},municipalityRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.municipality.maxLength||"El campo Municipio no debe exceder los 100 dígitos."}]},stateRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.state.maxLength||"El campo Estado no debe exceder los 100 dígitos."}]},cityRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.city.maxLength||"El campo Ciudad no debe exceder los 100 dígitos."}]},zipCodeRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.zip_code.integer||"El campo CP debe ser numérico."},function(e){return t.$v.customer.fields.zip_code.minValue||"El campo CP debe ser positivo."},function(e){return t.$v.customer.fields.zip_code.maxLength||"El campo CP no debe exceder los 5 dígitos."}]},rfcRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.rfc.maxLength||"El campo RFC no debe exceder los 20 dígitos."}]},termRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.term.required||"El campo Plazo es requerido."},function(e){return t.$v.customer.fields.term.maxLength||"El campo Plazo no debe exceder los 20 dígitos."}]},paymentMethodRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.payment_method.required||"El campo Forma de pago es requerido."},function(e){return t.$v.customer.fields.payment_method.maxLength||"El campo Forma de pago no debe exceder los 100 dígitos."}]},priceListRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.priceList.required||"El campo Precio de lista es requerido."}]},currencyRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.currency.required||"El campo Moneda es requerido."}]},emailRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.email.required||"El campo Dirección de correo electrónico es requerido."},function(e){return t.$v.customer.fields.email.email||"El campo Dirección de correo electrónico debe contener una dirección de correo electrónico válida."}]},email2Rules:function(e){var t=this;return[function(e){return t.$v.customer.fields.email2.email||"El campo Dirección de correo electrónico 2 debe contener una dirección de correo electrónico válida."}]},email3Rules:function(e){var t=this;return[function(e){return t.$v.customer.fields.email3.email||"El campo Dirección de correo electrónico 3 debe contener una dirección de correo electrónico válida."}]},email4Rules:function(e){var t=this;return[function(e){return t.$v.customer.fields.email4.email||"El campo Dirección de correo electrónico 4 debe contener una dirección de correo electrónico válida."}]},customerZipCodeRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.postal_code_id.required||"El campo Codigo postal es requerido."}]},customersuburbRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.suburb_id.required||"El campo Colonia es requerido."}]},customerbetween_streetRules:function(e){var t=this;return[function(e){return t.$v.customer.fields.between_street.required||"El campo Entre calles es requerido."}]}},beforeRouteEnter:function(e,t,r){r((function(e){var t=e.$store.getters["users/rol"];1===t||3===t||7===t||2===t||20===t||4===t||27===t||17===t||22===t||28===t||29===t?r():r("/")}))},methods:{methodSelected:function(){"CREDITO"===this.customer.fields.payment_method?this.enableFields=!0:(this.enableFields=!1,this.customer.fields.credit_days=null,this.customer.fields.credit_limit=null)},getSellers:function(){var e=this;d["a"].get("/users/getSeller").then((function(t){var r=t.data;e.sellerOptions=r.options,e.$q.loading.hide()}))},getCurrencies:function(){var e=this;d["a"].get("/currencies/options").then((function(t){var r=t.data;e.currencyOptions=r.options,e.customer.fields.currency=4,e.$q.loading.hide()}))},getChannels:function(){var e=this;d["a"].get("/channels/options").then((function(t){var r=t.data;e.channelOptions=r.options,e.$q.loading.hide()}))},createCustomer:function(){var e=this;if(this.$v.customer.fields.$reset(),this.$v.customer.fields.$touch(),this.$v.customer.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var t=u()({},this.customer.fields);t.admission_date=this.customer.fields.admission_date.substr(6,4)+"-"+this.customer.fields.admission_date.substr(3,2)+"-"+this.customer.fields.admission_date.substr(0,2),t.active=t.active.value,t.price_list=t.priceList.value,t.seller_id=this.customer.fields.seller,d["a"].post("/customers",t).then((function(t){var r=t.data;e.$q.notify({message:r.message.content,position:"top",color:r.result?"positive":"warning"}),r.result?(e.$q.loading.hide(),e.$router.push("/customers/".concat(r.id))):e.$q.loading.hide()}))},getEstados:function(){var e=this;this.selectEstados=[],d["a"].get("/branch-offices/states").then((function(t){var r=t.data;e.selectEstados=r.options})).catch((function(e){return e}))},getPostalCodes:function(){var e=arguments,t=this;return l()(i()().mark((function r(){var o;return i()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:"",o=""===o?"0":o,r.next=4,d["a"].get("/branch-offices/postal_codes/".concat(o,"/").concat(t.customer.fields.municipio_id)).then((function(e){var r=e.data;t.postal_codes=r.options})).catch((function(e){return e}));case 4:case"end":return r.stop()}}),r)})))()},labelName:function(){var e=this;return l()(i()().mark((function t(){return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null===e.customer.fields.tradename&&(e.customer.fields.tradename=e.customer.fields.name);case 1:case"end":return t.stop()}}),t)})))()},getMunicipiosbyEstado:function(e){var t=arguments,r=this;return l()(i()().mark((function o(){var s;return i()().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return s=t.length>1&&void 0!==t[1]&&t[1],r.customer.fields.postal_code_id=s?null:r.customer.fields.postal_code_id,r.customer.fields.suburb_id=s?null:r.customer.fields.suburb_id,r.customer.fields.municipio_id=null,r.customer.fields.city_id=null,r.selectMunicipio=[],r.getcities(e),o.next=9,d["a"].get("/branch-offices/municipalities/".concat(e,"/").concat(r.customer.fields.postal_code_id)).then((function(e){var t=e.data;r.selectMunicipio=t.options})).catch((function(e){return e}));case 9:case"end":return o.stop()}}),o)})))()},getcities:function(e){var t=this;return l()(i()().mark((function r(){return i()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.cities=[],r.next=3,d["a"].get("/branch-offices/cities/".concat(e,"/").concat(t.customer.fields.postal_code_id)).then((function(e){var r=e.data;t.cities=r.options})).catch((function(e){return e}));case 3:case"end":return r.stop()}}),r)})))()},getSuburbsByPostalCode:function(e){var t=this;return l()(i()().mark((function r(){return i()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.suburbs=[],t.customer.fields.suburb_id=null,t.customer.fields.municipio_id=null,t.customer.fields.estado_id=null,t.selectMunicipio=[],null===e){r.next=17;break}return t.customer.fields.estado_id=t.postal_codes.filter((function(t){return t.value===e}))[0].state_id,t.options2=t.selectEstados.filter((function(e){return e.value===t.customer.fields.estado_id})),r.next=10,t.getMunicipiosbyEstado(t.customer.fields.estado_id);case 10:return t.customer.fields.municipio_id=t.postal_codes.filter((function(t){return t.value===e}))[0].municipality_id,t.options=t.selectMunicipio.filter((function(e){return e.value===t.customer.fields.municipio_id})),r.next=14,t.getcities(t.customer.fields.estado_id);case 14:t.customer.fields.city_id=t.postal_codes.filter((function(t){return t.value===e}))[0].city_id,t.cityOptions=t.cities.filter((function(e){return e.value===t.customer.fields.city_id})),d["a"].get("/branch-offices/suburbs/".concat(e)).then((function(e){var r=e.data;t.suburbs=r.options,t.suburbs.push({value:0,label:"OTRA"}),t.suburbs_options=r.options})).catch((function(e){return e}));case 17:case"end":return r.stop()}}),r)})))()},filterMunicipio:function(e,t,r){var o=this;t((function(){var t=e.toLowerCase();o.options=o.selectMunicipio.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterEstado:function(e,t,r){var o=this;t((function(){var t=e.toLowerCase();o.options2=o.selectEstados.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterPostalCodes:function(e,t,r){var o=this;t(l()(i()().mark((function t(){var r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.toLowerCase(),t.next=3,o.getPostalCodes(r);case 3:case"end":return t.stop()}}),t)}))))},filterSuburbs:function(e,t,r){var o=this;t((function(){var t=e.toLowerCase();o.suburbs_options=o.suburbs.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))}}},$=x,q=r("2877"),C=r("9989"),k=r("ead5"),E=r("079e"),L=r("27f9"),R=r("0016"),w=r("ddd8"),S=r("7cbe"),O=r("52ee"),D=r("9c40"),P=r("eebe"),N=r.n(P),M=Object(q["a"])($,o,s,!1,null,null,null);t["default"]=M.exports;N()(M,"components",{QPage:C["a"],QBreadcrumbs:k["a"],QBreadcrumbsEl:E["a"],QInput:L["a"],QIcon:R["a"],QSelect:w["a"],QPopupProxy:S["a"],QDate:O["a"],QBtn:D["a"]})}}]);