(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[160],{"95f3":function(e,t,r){"use strict";r.r(t);r("caad"),r("2532"),r("4de4"),r("d3b7"),r("a9e3"),r("b0c0"),r("ac1f"),r("5319");var s=function(){var e=this,t=this,r=t._self._c;return r("q-page",{staticClass:"bg-grey-3"},[r("div",{staticClass:"q-pa-sm panel-header"},[r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-sm-4",staticStyle:{"font-size":"20px"}},[r("div",{staticClass:"q-pa-md q-gutter-sm"},[r("q-breadcrumbs",[r("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),r("q-breadcrumbs-el",{attrs:{label:"Pedidos"}})],1)],1)]),r("div",{staticClass:"col-sm-8"},[r("div",{staticClass:"col-xs-12 col-md-4 offset-md-10 pull-right"},[r("div",[1===t.roleId||2===t.roleId||3===t.roleId||4===t.roleId||7===t.roleId||17===t.roleId||20===t.roleId||25===t.roleId||29===t.roleId||27===t.roleId||17===t.roleId?r("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"green",icon:"fas fa-file-excel"},on:{click:function(e){return t.generateCSV()}}},[r("q-tooltip",[t._v("GENERAR CSV")])],1):t._e(),1===t.roleId||2===t.roleId||3===t.roleId||4===t.roleId||7===t.roleId||17===t.roleId||20===t.roleId||25===t.roleId||29===t.roleId||27===t.roleId||17===t.roleId?r("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"red",icon:"fas fa-file-pdf"},on:{click:function(e){return t.generatePDF()}}},[r("q-tooltip",[t._v("GENERAR PDF")])],1):t._e(),1===t.roleId||3===t.roleId||4===t.roleId||12===t.roleId||20===t.roleId||29===t.roleId||27===t.roleId||22===t.roleId||28===t.roleId||17===t.roleId?r("q-btn",{staticClass:"bg-primary",staticStyle:{"margin-left":"10px",color:"white"},attrs:{icon:"add",label:"Nuevo"},nativeOn:{click:function(e){return t.openModal()}}},[r("q-tooltip",[t._v("Crear Pedido")])],1):t._e()],1)])])])]),r("div",{staticClass:"q-pa-md bg-grey-3"},[r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-md-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",mask:"date",label:"Desde"},model:{value:t.saleDatev1,callback:function(e){t.saleDatev1=e},expression:"saleDatev1"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{"today-btn":""},on:{input:function(e){return t.fetchFromServer()}},model:{value:t.saleDatev1,callback:function(e){t.saleDatev1=e},expression:"saleDatev1"}})],1)])],1)],1),r("div",{staticClass:"col-md-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",mask:"date",label:"Hasta"},model:{value:t.saleDatev2,callback:function(e){t.saleDatev2=e},expression:"saleDatev2"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{"today-btn":""},on:{input:function(e){return t.fetchFromServer()}},model:{value:t.saleDatev2,callback:function(e){t.saleDatev2=e},expression:"saleDatev2"}})],1)])],1)],1),r("div",{staticClass:"col-sm-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.sellerOptionsG,"emit-value":"","map-options":"",label:"Vendedor",disable:t.isnotAdmin},on:{input:function(e){return t.fetchFromServer()}},model:{value:t.sellerG,callback:function(e){t.sellerG=e},expression:"sellerG"}})],1),r("div",{staticClass:"col-sm-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:[{label:"TODOS",value:"TODOS"},{label:"NORMAL",value:0},{label:"ESPECIAL",value:1}],"use-input":"",label:"Pedido","emit-value":"","map-options":""},on:{input:function(e){return t.fetchFromServer()}},model:{value:t.filter_special_order,callback:function(e){t.filter_special_order=e},expression:"filter_special_order"}})],1),r("div",{staticClass:"col-sm-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.filteredCustomerOptions2,"use-input":"",label:"Cliente","emit-value":"","map-options":""},on:{filter:t.filterCustomer,input:function(e){return t.fetchFromServer()}},model:{value:t.customerG,callback:function(e){t.customerG=e},expression:"customerG"}})],1),r("div",{staticClass:"col-sm-2"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.$store.getters["users/roles"].includes(2)?[{label:"TODOS",value:"TODOS"},{label:"AUTORIZADO",value:"AUTORIZADO"},{label:"PARCIAL",value:"PARCIAL"},{label:"REMISIONADO",value:"REMISIONADO"},{label:"ENTREGADO",value:"ENVIADO"}]:[{label:"TODOS",value:"TODOS"},{label:"NUEVO",value:"NUEVO"},{label:"COTIZADO",value:"COTIZADO"},{label:"AUTORIZADO",value:"AUTORIZADO"},{label:"PARCIAL",value:"PARCIAL"},{label:"REMISIONADO",value:"REMISIONADO"},{label:"ENTREGADO",value:"ENVIADO"}],"emit-value":"","map-options":"",label:"Estatus"},on:{input:function(e){return t.fetchFromServer()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)]),r("div",{staticStyle:{"padding-top":"20px"}},[r("q-table",{attrs:{flat:"",bordered:"",data:t.data,columns:t.columns,"row-key":"code",pagination:t.pagination,filter:t.filter},on:{"update:pagination":function(e){t.pagination=e},request:t.qTableRequest},scopedSlots:t._u([{key:"top",fn:function(){return[r("div",{staticStyle:{width:"100%"}},[r("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},on:{input:function(e){t.filter=e.toUpperCase()}},scopedSlots:t._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]},proxy:!0},{key:"body",fn:function(e){return[r("q-tr",{attrs:{props:e}},[r("q-td",{key:"id",staticStyle:{width:"5%","text-align":"center"},attrs:{props:e}},[r("label",{staticClass:"text-primary",staticStyle:{"text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return t.openActions(e.row.id,e.row.status)}}},[t._v(t._s(e.row.id))])]),r("q-td",{key:"old_folio",staticStyle:{width:"10%"},attrs:{props:e}},[t._v(t._s(e.row.old_folio))]),r("q-td",{key:"status",staticStyle:{width:"10%","text-align":"center"},attrs:{props:e}},[r("q-chip",{attrs:{square:"",dense:"",color:"COTIZADO"==e.row.status?"yellow-8":"NUEVO"==e.row.status?"blue-7":"AUTORIZADO"==e.row.status?"green":"PARCIAL"==e.row.status?"red-4":"ENTREGADO"==e.row.status?"purple-6":"CANCELADO"==e.row.status?"red":"red-4","text-color":"white"}},[t._v("\n                      "+t._s(e.row.status)+"\n                    ")])],1),r("q-td",{key:"date",staticStyle:{width:"10%"},attrs:{props:e}},[t._v(t._s(e.row.date))]),r("q-td",{key:"branchofficeorigin",staticStyle:{width:"10%"},attrs:{props:e}},[t._v(t._s(e.row.branchofficeorigin))]),r("q-td",{key:"invoices",staticStyle:{width:"5%","text-align":"center"},attrs:{props:e}},t._l(e.row.array_invoices,(function(e){return r("div",{key:e.id,staticStyle:{display:"inline"}},[r("label",{staticStyle:{"text-decoration":"underline black",cursor:"pointer","padding-left":"10px"},on:{click:function(r){return t.openActionRemision(e)}}},[t._v(t._s(e))])])})),0),r("q-td",{key:"special_order",staticStyle:{width:"20%"},attrs:{props:e}},[r("label",[t._v(t._s(0===e.row.special_order||null===e.row.special_order?"NORMAL":"ESPECIAL"))])]),r("q-td",{key:"customer_name",staticStyle:{width:"20%"},attrs:{props:e}},[r("label",{staticStyle:{"text-decoration":"underline black",cursor:"pointer"},on:{click:function(r){return t.openModalclients(e.row.id_client,e.row.branchofficedestiny)}}},[t._v(t._s(e.row.customer_name))])]),r("q-td",{key:"total",staticStyle:{width:"10%"},attrs:{props:e}},[t._v(t._s("".concat(t.currencyFormatter.format(Number(e.row.montoinbulk)))))]),r("q-td",{key:"user_name",staticStyle:{width:"10%"},attrs:{props:e}},[t._v(t._s(e.row.user_name))])],1)]}}])})],1)])])]),r("q-dialog",{attrs:{persistent:""},model:{value:t.modalPedido,callback:function(e){t.modalPedido=e},expression:"modalPedido"}},[r("q-card",{staticStyle:{"min-width":"90%","min-hight":"100%"}},[r("q-card-section",{staticClass:"bg-primary"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-11 text-h6",staticStyle:{color:"white"}},[t._v("CREAR PEDIDO")]),r("div",{staticClass:"col-sm-1 pull-right"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),r("q-separator"),r("q-card-section",{staticStyle:{"max-height":"70vh"}},[r("div",{staticClass:"text-overline",staticStyle:{"font-size":"16px"}},[t._v("Datos del cliente")]),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.branchOptions,error:t.$v.station.$error,"use-input":"",label:"Estaci√≥n","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":"",rules:t.stationRules},on:{filter:t.filterBranchOffices},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.station,callback:function(e){t.station=e},expression:"station"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.customerOptionsModal,label:"Cliente"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}})],1),r("div",{staticClass:"col-xs-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",mask:"date",label:"Fecha pedido"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"date_range"}})]},proxy:!0}]),model:{value:t.orderDate,callback:function(e){t.orderDate=e},expression:"orderDate"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{mask:"DD/MM/YYYY","today-btn":""},model:{value:t.orderDate,callback:function(e){t.orderDate=e},expression:"orderDate"}})],1)])],1)],1),r("div",{staticClass:"col-xs-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",mask:"date",label:"Fecha compromiso"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"date_range"}})]},proxy:!0}]),model:{value:t.pledgeDate,callback:function(e){t.pledgeDate=e},expression:"pledgeDate"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{mask:"DD/MM/YYYY","today-btn":""},model:{value:t.pledgeDate,callback:function(e){t.pledgeDate=e},expression:"pledgeDate"}})],1)])],1)],1)])])]),r("div",{staticClass:"text-overline",staticStyle:{"font-size":"16px"}},[t._v("Origen de venta")]),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.supplierOptions,error:t.$v.supplier.$error,"use-input":"",label:"Proveedor","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":"",rules:t.supplierRules},on:{filter:t.filterSuppliers},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.supplier,callback:function(e){t.supplier=e},expression:"supplier"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.branch.$error,options:t.branchOffices,label:"Estaci√≥n de env√≠o","emit-value":"","map-options":"",rules:t.branchRules},on:{input:function(e){return t.searchStorage(t.branch)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.branch,callback:function(e){t.branch=e},expression:"branch"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.storageOptions,label:"Almac√©n",rules:t.storageShoppingRules,error:t.$v.storageShopping.$error,disable:t.isnotAdmin},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-warehouse"}})]},proxy:!0}]),model:{value:t.storageShopping,callback:function(e){t.storageShopping=e},expression:"storageShopping"}})],1),r("div",{staticClass:"col-xs-12 col-md-12 text-right"},[r("q-btn",{staticStyle:{"background-color":"#21ba45"},attrs:{flat:"",label:"Crear",color:"white"},on:{click:function(e){return t.createShoppingCart()}}})],1)])])])])],1)],1),r("q-dialog",{attrs:{persistent:""},model:{value:t.modalClient,callback:function(e){t.modalClient=e},expression:"modalClient"}},[r("q-card",{staticStyle:{"min-width":"50%"}},[r("q-card-section",{staticClass:"bg-primary"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-11 text-h6",staticStyle:{color:"white"}},[t._v("DATOS DEL CLIENTE")]),r("div",{staticClass:"col-sm-1 pull-right"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.cleanClient()}}})],1)])]),r("q-separator"),r("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[r("div",{staticClass:"row bg-white"},[r("div",{staticClass:"col q-pa-md"},[t._v("\n              Cliente\n              "),r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-xs-12 col-md-8"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Cliente",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-shopping-cart"}})]},proxy:!0}]),model:{value:t.dataClient.fields.client,callback:function(e){t.$set(t.dataClient.fields,"client",e)},expression:"dataClient.fields.client"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Telefono de contacto",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-shopping-cart"}})]},proxy:!0}]),model:{value:t.dataClient.fields.phone,callback:function(e){t.$set(t.dataClient.fields,"phone",e)},expression:"dataClient.fields.phone"}})],1),r("div",{staticClass:"col-xs-12 col-md-8"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Direccion",disable:"",autogrow:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-shopping-cart"}})]},proxy:!0}]),model:{value:t.dataClient.fields.address,callback:function(e){t.$set(t.dataClient.fields,"address",e)},expression:"dataClient.fields.address"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Plazo",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-shopping-cart"}})]},proxy:!0}]),model:{value:t.dataClient.fields.term,callback:function(e){t.$set(t.dataClient.fields,"term",e)},expression:"dataClient.fields.term"}})],1)]),r("br"),t._v("\n                  Sucursal\n                "),r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-xs-12 col-md-8"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Nombre de la sucursal",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-building"}})]},proxy:!0}]),model:{value:t.dataClient.fields.branchOffice,callback:function(e){t.$set(t.dataClient.fields,"branchOffice",e)},expression:"dataClient.fields.branchOffice"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Telefono",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-phone"}})]},proxy:!0}]),model:{value:t.dataClient.fields.branch_phone,callback:function(e){t.$set(t.dataClient.fields,"branch_phone",e)},expression:"dataClient.fields.branch_phone"}})],1),r("div",{staticClass:"col-xs-12 col-md-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Calle",disable:"",autogrow:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:t.dataClient.fields.branchAddress,callback:function(e){t.$set(t.dataClient.fields,"branchAddress",e)},expression:"dataClient.fields.branchAddress"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"N. Exterior",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.dataClient.fields.outdoor,callback:function(e){t.$set(t.dataClient.fields,"outdoor",e)},expression:"dataClient.fields.outdoor"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"N. Interior",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.dataClient.fields.indoor,callback:function(e){t.$set(t.dataClient.fields,"indoor",e)},expression:"dataClient.fields.indoor"}})],1),r("div",{staticClass:"col-xs-12 col-md-5"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Colonia",disable:"",autogrow:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.dataClient.fields.colony,callback:function(e){t.$set(t.dataClient.fields,"colony",e)},expression:"dataClient.fields.colony"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Municipio",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.dataClient.fields.municipality,callback:function(e){t.$set(t.dataClient.fields,"municipality",e)},expression:"dataClient.fields.municipality"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"CP",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:t.dataClient.fields.CP,callback:function(e){t.$set(t.dataClient.fields,"CP",e)},expression:"dataClient.fields.CP"}})],1)])])])]),r("q-separator")],1)],1),r("q-dialog",{attrs:{persistent:""},model:{value:t.modalClientBranch,callback:function(e){t.modalClientBranch=e},expression:"modalClientBranch"}},[r("q-card",{staticStyle:{"min-width":"50%"}},[r("q-card-section",{staticClass:"bg-primary"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-11 text-h6",staticStyle:{color:"white"}},[t._v("DATOS DE LA SUCURSAL DEL CLIENTE")]),r("div",{staticClass:"col-sm-1 pull-right"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"}})],1)])]),r("q-separator"),r("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row q-col-gutter-xs q-col-gutter-md"},[r("div",{staticClass:"col-xs-12 col-md-8"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Nombre de la sucursal",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-building"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.branchOffice,callback:function(e){t.$set(t.dataClientBranch.fields,"branchOffice",e)},expression:"dataClientBranch.fields.branchOffice"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Telefono",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-phone"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.phone,callback:function(e){t.$set(t.dataClientBranch.fields,"phone",e)},expression:"dataClientBranch.fields.phone"}})],1),r("div",{staticClass:"col-xs-12 col-md-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Calle",disable:"",autogrow:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.branchAddress,callback:function(e){t.$set(t.dataClientBranch.fields,"branchAddress",e)},expression:"dataClientBranch.fields.branchAddress"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"N. Exterior",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.outdoor,callback:function(e){t.$set(t.dataClientBranch.fields,"outdoor",e)},expression:"dataClientBranch.fields.outdoor"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"N. Interior",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.indoor,callback:function(e){t.$set(t.dataClientBranch.fields,"indoor",e)},expression:"dataClientBranch.fields.indoor"}})],1),r("div",{staticClass:"col-xs-12 col-md-5"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Colonia",disable:"",autogrow:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.colony,callback:function(e){t.$set(t.dataClientBranch.fields,"colony",e)},expression:"dataClientBranch.fields.colony"}})],1),r("div",{staticClass:"col-xs-12 col-md-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Municipio",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.municipality,callback:function(e){t.$set(t.dataClientBranch.fields,"municipality",e)},expression:"dataClientBranch.fields.municipality"}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"CP",disable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:t.dataClientBranch.fields.CP,callback:function(e){t.$set(t.dataClientBranch.fields,"CP",e)},expression:"dataClientBranch.fields.CP"}})],1)])])])]),r("q-separator")],1)],1),r("q-dialog",{model:{value:t.cliente_modal,callback:function(e){t.cliente_modal=e},expression:"cliente_modal"}},[r("q-card",{staticStyle:{"min-width":"85%"}},[r("q-card-section",{staticClass:"bg-primary"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-11 text-h6",staticStyle:{color:"white"}},[t._v("REGISTRO DE UN CLIENTE")]),r("div",{staticClass:"col-sm-1 pull-right"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white",flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.cleanNewClient()}}})],1)])]),r("q-separator"),r("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[r("div",{staticClass:"q-pa-md bg-grey-3"},[r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n            Informaci√≥n General\n          ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",disable:"",error:t.$v.customerCreated.fields.serial.$error,label:"C√≥digo",rules:t.serialRules},on:{input:function(e){t.customerCreated.fields.serial=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"code"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.serial,callback:function(e){t.$set(t.customerCreated.fields,"serial",e)},expression:"customerCreated.fields.serial"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.admission_date.$error,mask:"date",label:"Fecha de Alta",rules:t.admissionRules},on:{input:function(e){t.customerCreated.fields.admission_date=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"event"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.admission_date,callback:function(e){t.$set(t.customerCreated.fields,"admission_date",e)},expression:"customerCreated.fields.admission_date"}},[r("q-popup-proxy",{ref:"date",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("div",{staticClass:"col-sm-12"},[r("q-date",{attrs:{color:"secondary","text-color":"white",mask:"DD/MM/YYYY","today-btn":""},on:{input:function(){return e.$refs.date.hide()}},model:{value:t.customerCreated.fields.admission_date,callback:function(e){t.$set(t.customerCreated.fields,"admission_date",e)},expression:"customerCreated.fields.admission_date"}})],1)])],1)],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.name.$error,label:"Raz√≥n social",rules:t.nameRules},on:{input:function(e){t.customerCreated.fields.name=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.name,callback:function(e){t.$set(t.customerCreated.fields,"name",e)},expression:"customerCreated.fields.name"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:[{label:"ACTIVO",value:!0},{label:"INACTIVO",value:!1}],label:"Estatus"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:t.customerCreated.fields.active.value?"battery_full":"battery_alert"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.active,callback:function(e){t.$set(t.customerCreated.fields,"active",e)},expression:"customerCreated.fields.active"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.contact_name.$error,label:"Nombre contacto",rules:t.contactNameRules},on:{input:function(e){t.customerCreated.fields.contact_name=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-id-card"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.contact_name,callback:function(e){t.$set(t.customerCreated.fields,"contact_name",e)},expression:"customerCreated.fields.contact_name"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.rfc.$error,label:"RFC",rules:t.rfcRules},on:{input:function(e){t.customerCreated.fields.rfc=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"insert_drive_file"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.rfc,callback:function(e){t.$set(t.customerCreated.fields,"rfc",e)},expression:"customerCreated.fields.rfc"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.email.$error,label:"Direcci√≥n de correo electr√≥nico",rules:t.emailRulesCreated},on:{input:function(e){t.customerCreated.fields.email=e.toLowerCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.email,callback:function(e){t.$set(t.customerCreated.fields,"email",e)},expression:"customerCreated.fields.email"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.email2.$error,label:"Direcci√≥n de correo electr√≥nico 2",rules:t.email2Rules},on:{input:function(e){t.customerCreated.fields.email2=e.toLowerCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.email2,callback:function(e){t.$set(t.customerCreated.fields,"email2",e)},expression:"customerCreated.fields.email2"}})],1)])])]),r("br"),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n            Informaci√≥n Comercial\n          ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Nombre comercial"},on:{input:function(e){t.customerCreated.fields.tradename=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.tradename,callback:function(e){t.$set(t.customerCreated.fields,"tradename",e)},expression:"customerCreated.fields.tradename"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.contact_phone.$error,label:"Tel√©fono",rules:t.contactPhoneRules},on:{input:function(e){t.customerCreated.fields.contact_phone=e.replace(/[^0-9]/g,"").substr(0,20)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"contact_phone"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.contact_phone,callback:function(e){t.$set(t.customerCreated.fields,"contact_phone",e)},expression:"customerCreated.fields.contact_phone"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.contact_phone_res.$error,label:"Tel√©fono 2",rules:t.contactPhoneRulesRes},on:{input:function(e){t.customerCreated.fields.contact_phone_res=e.replace(/[^0-9]/g,"").substr(0,20)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"contact_phone"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.contact_phone_res,callback:function(e){t.$set(t.customerCreated.fields,"contact_phone_res",e)},expression:"customerCreated.fields.contact_phone_res"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.payment_method.$error,label:"Forma de pago","map-options":"",options:[{label:"CONTADO",value:"CONTADO"},{label:"CREDITO",value:"CREDITO"}],rules:t.paymentMethodRules,"emit-value":""},on:{input:function(e){return t.methodSelected()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"payment"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.payment_method,callback:function(e){t.$set(t.customerCreated.fields,"payment_method",e)},expression:"customerCreated.fields.payment_method"}})],1),t.enableFields?r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.credit_days.$error,label:"D√≠as de Cr√©dito",rules:t.creditDayRules,mask:"#","reverse-fill-mask":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"far fa-clock"}})]},proxy:!0}],null,!1,2330399323),model:{value:t.customerCreated.fields.credit_days,callback:function(e){t.$set(t.customerCreated.fields,"credit_days",e)},expression:"customerCreated.fields.credit_days"}})],1):t._e(),t.enableFields?r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.credit_limit.$error,label:"L√≠mite de Cr√©dito",rules:t.creditLimitRules},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}],null,!1,2568092296),model:{value:t.customerCreated.fields.credit_limit,callback:function(e){t.$set(t.customerCreated.fields,"credit_limit",e)},expression:"customerCreated.fields.credit_limit"}})],1):t._e(),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.currency.$error,label:"Moneda",rules:t.currencyRules,options:t.currencyOptions,"emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.currency,callback:function(e){t.$set(t.customerCreated.fields,"currency",e)},expression:"customerCreated.fields.currency"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.priceList.$error,rules:t.priceListRules,options:[{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"}],label:"Precio de lista"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-tag"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.priceList,callback:function(e){t.$set(t.customerCreated.fields,"priceList",e)},expression:"customerCreated.fields.priceList"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",label:"Descuento Autorizado",rules:t.discountRules,error:t.$v.customerCreated.fields.discount.$error,disable:!t.$store.getters["users/roles"].includes(1)&&!t.$store.getters["users/roles"].includes(25),filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-percent"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.discount,callback:function(e){t.$set(t.customerCreated.fields,"discount",e)},expression:"customerCreated.fields.discount"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.seller.$error,rules:t.sellerRulesCreated,options:t.sellerOptions,label:"Vendedor","emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-id-badge"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.seller,callback:function(e){t.$set(t.customerCreated.fields,"seller",e)},expression:"customerCreated.fields.seller"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3 text-center"},[r("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:t.channelOptions,label:"Canal","emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-id-badge"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.channel_id,callback:function(e){t.$set(t.customerCreated.fields,"channel_id",e)},expression:"customerCreated.fields.channel_id"}})],1)])])]),r("br"),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n            Domicilio Corporativo\n          ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.street.$error,label:"Calle",rules:t.streetRules},on:{input:function(e){t.customerCreated.fields.street=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.street,callback:function(e){t.$set(t.customerCreated.fields,"street",e)},expression:"customerCreated.fields.street"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.outdoor_number.$error,label:"N√∫mero ext.",rules:t.outdoorNumberRules},on:{input:function(e){t.customerCreated.fields.outdoor_number=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.outdoor_number,callback:function(e){t.$set(t.customerCreated.fields,"outdoor_number",e)},expression:"customerCreated.fields.outdoor_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.indoor_number.$error,label:"N√∫mero int.",rules:t.indoorNumberRules},on:{input:function(e){t.customerCreated.fields.indoor_number=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.indoor_number,callback:function(e){t.$set(t.customerCreated.fields,"indoor_number",e)},expression:"customerCreated.fields.indoor_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.city.$error,label:"Ciudad",rules:t.cityRules},on:{input:function(e){t.customerCreated.fields.city=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.city,callback:function(e){t.$set(t.customerCreated.fields,"city",e)},expression:"customerCreated.fields.city"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.municipality.$error,label:"Municipio",rules:t.municipalityRules},on:{input:function(e){t.customerCreated.fields.municipality=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.municipality,callback:function(e){t.$set(t.customerCreated.fields,"municipality",e)},expression:"customerCreated.fields.municipality"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3 col-md-3 col-lg-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.suburb.$error,label:"Colonia",rules:t.suburbRules},on:{input:function(e){t.customerCreated.fields.suburb=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.suburb,callback:function(e){t.$set(t.customerCreated.fields,"suburb",e)},expression:"customerCreated.fields.suburb"}})],1),r("div",{staticClass:"col-xs-12 col-sm-2"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.zip_code.$error,label:"CP",rules:t.zipCodeRules},on:{input:function(e){t.customerCreated.fields.zip_code=e.replace(/[^0-9]/g,"").substr(0,5)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.zip_code,callback:function(e){t.$set(t.customerCreated.fields,"zip_code",e)},expression:"customerCreated.fields.zip_code"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.state.$error,label:"Estado",rules:t.stateRules},on:{input:function(e){t.customerCreated.fields.state=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.state,callback:function(e){t.$set(t.customerCreated.fields,"state",e)},expression:"customerCreated.fields.state"}})],1),r("div",{staticClass:"col-xs-12 col-sm-3"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:t.$v.customerCreated.fields.country.$error,label:"Pa√≠s",rules:t.countryRules},on:{input:function(e){t.customerCreated.fields.country=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"map"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.country,callback:function(e){t.$set(t.customerCreated.fields,"country",e)},expression:"customerCreated.fields.country"}})],1)])])]),r("br"),r("div",{staticClass:"row bg-white border-panel"},[r("div",{staticClass:"col q-pa-md"},[r("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[t._v("\n            Requerimientos\n          ")]),r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",type:"textarea",label:"Requerimientos especiales"},on:{input:function(e){t.customerCreated.fields.requirements=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-user-tag"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.requirements,callback:function(e){t.$set(t.customerCreated.fields,"requirements",e)},expression:"customerCreated.fields.requirements"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6"},[r("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",type:"textarea",label:"Documentos requeridos"},on:{input:function(e){t.customerCreated.fields.documents=e.toUpperCase()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"fas fa-file-alt"}})]},proxy:!0}]),model:{value:t.customerCreated.fields.documents,callback:function(e){t.$set(t.customerCreated.fields,"documents",e)},expression:"customerCreated.fields.documents"}})],1)])])])])]),r("q-separator"),r("q-card-section",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-9 pull-right"}),r("div",{staticClass:"col-sm-3 pull-right"},[r("q-btn",{attrs:{color:"positive",icon:"save",label:"Guardar"},on:{click:function(e){return t.createcustomerCreated()}}})],1)])])],1)],1)],1)},a=[],o=r("ded3"),l=r.n(o),i=r("7ec2"),n=r.n(i),c=r("c973"),d=r.n(c),u=(r("14d9"),r("99af"),r("e260"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("aabb")),f=r("b5ae"),m=f.required,p=f.requiredIf,h=f.email,C=f.maxLength,v=f.minLength,b=f.integer,g=f.minValue,y=f.decimal,_={name:"IndexShoppingCarts",validations:{customer:{required:m},branch:{required:m},station:{required:m},supplier:{required:m},seller:{required:m},taxInvoice:{},storageShopping:{},commercial_terms:{},validity:{},lab:{},loan:{},customerEmail:{email:h},customerCreated:{fields:{serial:{required:m,maxLength:C(10)},admission_date:{required:m},name:{required:m,maxLength:C(100)},contact_name:{maxLength:C(100)},contact_phone:{minLength:v(10),maxLength:C(20),integer:b,minValue:g(1)},discount:{decimal:y,minValue:g(1)},contact_phone_res:{minLength:v(10),maxLength:C(20),integer:b,minValue:g(1)},street:{required:m,maxLength:C(100)},outdoor_number:{required:m,maxLength:C(10)},indoor_number:{maxLength:C(10)},suburb:{required:m,maxLength:C(100)},municipality:{maxLength:C(100)},country:{required:m,maxLength:C(100)},state:{required:m,maxLength:C(100)},city:{maxLength:C(100)},zip_code:{required:m,maxLength:C(5),integer:b,minValue:g(1)},rfc:{required:m,maxLength:C(20)},term:{maxLength:C(100)},payment_method:{required:m,maxLength:C(100)},currency:{required:m},seller:{required:m},priceList:{required:m},email:{required:m,email:h},email2:{email:h},email3:{email:h},email4:{email:h},credit_days:{required:p((function(){return this.enableFields}))},credit_limit:{required:p((function(){return this.enableFields})),decimal:y}}}},data:function(){return{filter_special_order:"TODOS",special_order:0,currencyFormatter:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),icons:["fas fa-star","fas fa-anchor","fas fa-check","fas fa-file-alt","fas fa-thumbs-up"],currencyOptions:[],cliente_modal:!1,ratingModel:5,formatter:new Intl.NumberFormat("en-US"),role:null,taxInvoice:null,modalPedido:!1,modalClient:!1,modalClientBranch:!1,type_order:1,customer:null,saleDatev1:null,saleDatev2:null,clientofficeDestiny:null,station:null,supplier:null,customerG:"TODOS",branch:null,seller:null,sellerG:"TODOS",status:"TODOS",loan:0,payment_method:null,storageShopping:null,storageOptions:[],customerOptions:[],customerOptionsG:[],customerOptionsFilter:[],officeClientsOptions:[],branchOptions:this.branchOfficeOptions,supplierOptions:this.optionsSuppliers,branchOfficeOptions:[],optionsSuppliers:[],sellerOptions:[],sellerOptionsG:[],branchOffices:[],filteredCustomerOptions:[],filteredCustomerOptions2:[],commercial_terms:null,validity:null,emailfactura:null,selectLoan:[{label:"NO",value:0},{label:"SI",value:1}],lab:null,dataClient:{fields:{id:null,client:null,address:null,phone:null,term:null,branchOffice:null,branchAddress:null,indoor:null,outdoor:null,colony:null,municipality:null,CP:null,branch_phone:null}},customerCreated:{fields:{serial:null,name:null,seller:null,tradename:null,contact_name:null,contact_phone:null,contact_phone_res:null,street:null,outdoor_number:null,indoor_number:null,suburb:null,municipality:null,state:null,country:null,city:null,zip_code:null,rfc:null,term:null,payment_method:null,currency:null,active:{label:"ACTIVO",value:!0},priceList:null,email:null,email2:null,email3:null,email4:null,admission_date:null,branch_id:9,credit_days:null,credit_limit:null,channel_id:null,documents:null,discount:null,requirements:null,postal_code_id:null,municipio_id:null,suburb_id:null}},dataClientBranch:{fields:{id:null,branchOffice:null,branchAddress:null,indoor:null,outdoor:null,colony:null,municipality:null,CP:null,phone:null}},pagination:{sortBy:"code",descending:!0,page:1,rowsNumber:0,rowsPerPage:25},columns:[{name:"id",align:"right",label:"# PEDIDO",field:"id",style:"width: 5%",sortable:!0,sort:function(e,t){return Number(e,10)-Number(t,10)}},{name:"old_folio",align:"center",label:"FOLIO ANTERIOR",field:"old_folio",style:"width: 10%",sortable:!0},{name:"status",align:"center",label:"STATUS",field:"status",style:"width: 10%",sortable:!0},{name:"date",align:"center",label:"FECHA",field:"date",style:"width: 10%",sortable:!0},{name:"branchofficeorigin",align:"center",label:"ESTACI√ìN",field:"branchofficeorigin",style:"width: 10%",sortable:!0},{name:"invoices",align:"center",label:"REMISI√ìN",field:"invoices",style:"width: 5%",sortable:!0,sort:function(e,t){return Number(e,10)-Number(t,10)}},{name:"special_order",align:"CENTER",label:"PEDIDO",field:"special_order",style:"width: 20%",sortable:!0},{name:"customer_name",align:"CENTER",label:"CLIENTE",field:"customer_name",style:"width: 20%",sortable:!0},{name:"total",align:"CENTER",label:"MONTO",field:"total",style:"width: 10%",sortable:!0},{name:"user_name",align:"CENTER",label:"VENDEDOR",field:"user_name",style:"width: 10%",sortable:!0}],data:[],filter:"",sellerFlag:[],dateShopping:null,orderDate:null,pledgeDate:null,commentShopping:null,customerOptionsModal:[],optionContacts:[],optionsContactsFilter:[],customerOptionsByBranch:[],createOrder:!1,auxCliente:null,customerEmail:null,channelOptions:[],enableFields:!1}},computed:{emailRules:function(e){var t=this;return[function(e){return t.$v.customerEmail.email||"El campo Direcci√≥n de correo electr√≥nico debe contener una direcci√≥n de correo electr√≥nico v√°lida."}]},isnotAdmin:function(){var e=this.$store.getters["users/rol"],t=!1;return 1!==e&&4!==e&&3!==e&&20!==e&&29!==e&&27!==e&&22!==e&&17!==e&&(t=!0),t},storageShoppingRules:function(){var e=this;return[function(t){return e.$v.storageShopping.required||"El campo Almac√©n es requerido."}]},customerRules:function(e){var t=this;return[function(e){return t.$v.customer.required||"El campo Nombre es requerido."}]},serialRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.serial.required||"El campo C√≥digo es requerido."},function(e){return t.$v.customerCreated.fields.serial.maxLength||"El campo C√≥digo no debe exceder los 10 d√≠gitos."}]},sellerRulesCreated:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.seller.required||"El campo Vendedor es requerido."}]},discountRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.discount.decimal||"El campo Descuento debe ser n√∫merico."},function(e){return t.$v.customerCreated.fields.discount.minValue||"El campo Descuento debe ser positivo."}]},admissionRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.admission_date.required||"El campo Fecha de alta es requerido."}]},nameRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.name.required||"El campo Nombre es requerido."},function(e){return t.$v.customerCreated.fields.name.maxLength||"El campo Nombre no debe exceder los 100 d√≠gitos."}]},contactNameRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.contact_name.maxLength||"El campo Nombre Contacto no debe exceder los 100 d√≠gitos."}]},creditDayRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.credit_days.required||"El campo D√≠as de Cr√©dito es requerido."}]},creditLimitRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.credit_limit.required||"El campo L√≠mite de Cr√©dito es requerido."},function(e){return t.$v.customerCreated.fields.credit_limit.decimal||"El campo L√≠mite de Cr√©dito debe ser n√∫merico."}]},contactPhoneRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.contact_phone.integer||"El campo Tel√©fono debe ser num√©rico."},function(e){return t.$v.customerCreated.fields.contact_phone.minValue||"El campo Tel√©fono debe ser positivo."},function(e){return t.$v.customerCreated.fields.contact_phone.minLength||"El campo Tel√©fono debe tener al menos 10 d√≠gitos."},function(e){return t.$v.customerCreated.fields.contact_phone.maxLength||"El campo Tel√©fono no debe exceder los 20 d√≠gitos."}]},contactPhoneRulesRes:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.contact_phone_res.integer||"El campo Tel√©fono debe ser num√©rico."},function(e){return t.$v.customerCreated.fields.contact_phone_res.minValue||"El campo Tel√©fono debe ser positivo."},function(e){return t.$v.customerCreated.fields.contact_phone_res.minLength||"El campo Tel√©fono debe tener al menos 10 d√≠gitos."},function(e){return t.$v.customerCreated.fields.contact_phone_res.maxLength||"El campo Tel√©fono no debe exceder los 20 d√≠gitos."}]},streetRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.street.required||"El campo Calle es requerido."},function(e){return t.$v.customerCreated.fields.street.maxLength||"El campo Calle no debe exceder los 100 d√≠gitos."}]},outdoorNumberRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.outdoor_number.required||"El campo N√∫mero ext. es requerido."},function(e){return t.$v.customerCreated.fields.outdoor_number.maxLength||"El campo N√∫mero ext. no debe exceder los 10 d√≠gitos."}]},indoorNumberRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.indoor_number.maxLength||"El campo N√∫mero int. no debe exceder los 10 d√≠gitos."}]},suburbRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.suburb.required||"El campo Colonia es requerido."},function(e){return t.$v.customerCreated.fields.suburb.maxLength||"El campo Colonia no debe exceder los 100 d√≠gitos."}]},municipalityRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.municipality.maxLength||"El campo Municipio no debe exceder los 100 d√≠gitos."}]},stateRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.state.required||"El campo Estado es requerido."},function(e){return t.$v.customerCreated.fields.state.maxLength||"El campo Estado no debe exceder los 100 d√≠gitos."}]},countryRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.country.required||"El campo Pa√≠s es requerido."}]},cityRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.city.maxLength||"El campo Ciudad no debe exceder los 100 d√≠gitos."}]},zipCodeRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.zip_code.required||"El campo CP es requerido."},function(e){return t.$v.customerCreated.fields.zip_code.integer||"El campo CP debe ser num√©rico."},function(e){return t.$v.customerCreated.fields.zip_code.minValue||"El campo CP debe ser positivo."},function(e){return t.$v.customerCreated.fields.zip_code.maxLength||"El campo CP no debe exceder los 5 d√≠gitos."}]},rfcRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.rfc.required||"El campo RFC es requerido."},function(e){return t.$v.customerCreated.fields.rfc.maxLength||"El campo RFC no debe exceder los 20 d√≠gitos."}]},termRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.term.required||"El campo Plazo es requerido."},function(e){return t.$v.customerCreated.fields.term.maxLength||"El campo Plazo no debe exceder los 20 d√≠gitos."}]},paymentMethodRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.payment_method.required||"El campo Forma de pago es requerido."},function(e){return t.$v.customerCreated.fields.payment_method.maxLength||"El campo Forma de pago no debe exceder los 100 d√≠gitos."}]},priceListRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.priceList.required||"El campo Precio de lista es requerido."}]},currencyRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.currency.required||"El campo Moneda es requerido."}]},emailRulesCreated:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.email.required||"El campo Direcci√≥n de correo electr√≥nico es requerido."},function(e){return t.$v.customerCreated.fields.email.email||"El campo Direcci√≥n de correo electr√≥nico debe contener una direcci√≥n de correo electr√≥nico v√°lida."}]},email2Rules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.email2.email||"El campo Direcci√≥n de correo electr√≥nico 2 debe contener una direcci√≥n de correo electr√≥nico v√°lida."}]},email3Rules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.email3.email||"El campo Direcci√≥n de correo electr√≥nico 3 debe contener una direcci√≥n de correo electr√≥nico v√°lida."}]},email4Rules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.email4.email||"El campo Direcci√≥n de correo electr√≥nico 4 debe contener una direcci√≥n de correo electr√≥nico v√°lida."}]},customerCreatedZipCodeRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.postal_code_id.required||"El campo Codigo postal es requerido."}]},customerCreatedsuburbRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.suburb_id.required||"El campo Colonia es requerido."}]},customerCreatedSuburbRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.suburb.required||"El campo Colonia es requerido."}]},customerCreatedbetween_streetRules:function(e){var t=this;return[function(e){return t.$v.customerCreated.fields.between_street.required||"El campo Entre calles es requerido."}]},stationRules:function(e){var t=this;return[function(e){return t.$v.station.required||"La estaci√≥n es requerida."}]},supplierRules:function(e){var t=this;return[function(e){return t.$v.supplier.required||"El proveedor es requerido."}]},branchRules:function(e){var t=this;return[function(e){return t.$v.branch.required||"El campo de Sucursal es requerido."}]},sellerRules:function(e){var t=this;return[function(e){return t.$v.seller.required||"El campo de Vendedor es requerido."}]},roleId:function(){var e=this.$store.getters["users/rol"];return parseInt(e)},haspermissionv1:function(){var e=!1;return(this.$store.getters["users/roles"].includes(1)||this.$store.getters["users/roles"].includes(20)||this.$store.getters["users/roles"].includes(3)||this.$store.getters["users/roles"].includes(4)||this.$store.getters["users/roles"].includes(7)||this.$store.getters["users/roles"].includes(25)||this.$store.getters["users/roles"].includes(17))&&(e=!0),e},haspermissionv2:function(){var e=!1;return(this.$store.getters["users/roles"].includes(1)||this.$store.getters["users/roles"].includes(3)||this.$store.getters["users/roles"].includes(4)||this.$store.getters["users/roles"].includes(20)||this.$store.getters["users/roles"].includes(12))&&(e=!0),e},filterSelleroptions:function(){var e=this;return null!=this.branch?this.sellerOptions.filter((function(t){return t.branch_office_id===e.branch||0===t.branch_office_id})):[]}},beforeRouteEnter:function(e,t,r){r((function(e){var t=e.$store.getters["users/rol"];console.log(t),1===t||3===t||7===t||2===t||20===t||4===t||27===t||22===t||29===t||28===t||17===t?r():r("/")}))},mounted:function(){console.log(this.$store.getters["users/id"]),this.getClients(),this.getSellers(),this.fetchFromServer(),this.getBranchOffices(),this.getSuppliers(),this.getCurrencies()},methods:{getClientsToFilter:function(){var e=this,t=this.$store.getters["users/id"];u["a"].get("/customers/getCustomersBySeller/".concat(t)).then((function(t){var r=t.data;e.customerOptionsFilter=r.options}))},filterCustomer:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.filteredCustomerOptions2=s.customerOptionsFilter.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},methodSelected:function(){"CREDITO"===this.customerCreated.fields.payment_method?this.enableFields=!0:(this.enableFields=!1,this.customerCreated.fields.credit_days=null,this.customerCreated.fields.credit_limit=null),console.log(this.enableFields)},checkRemision:function(){1===this.taxInvoice.value&&1===this.loan&&(this.$q.notify({message:"Para una remisi√≥n el pedido no debe ser tipo prestamo.",position:"top",color:"warning"}),this.taxInvoice={label:"FACTURA",value:0})},checkLoan:function(){1===this.loan?this.taxInvoice={label:"FACTURA",value:0}:this.taxInvoice=null},searchStorage:function(e){var t=this;this.storageShopping=null,u["a"].get("/storages/getStoragesOfBranch/".concat(e)).then((function(e){var r=e.data;if(r.result){t.storageOptions=r.storage,console.log(r.storage);var s=r.storage.filter((function(e){return 39===e.value})),a=r.storage.filter((function(e){return 44===e.value})),o=r.storage.filter((function(e){return 47===e.value})),l=r.storage.filter((function(e){return 46===e.value}));9!==t.branch.value&&9!==t.branch||(t.storageShopping={label:s[0].label,value:s[0].value}),12!==t.branch.value&&12!==t.branch||(t.storageShopping={label:a[0].label,value:a[0].value}),13!==t.branch.value&&13!==t.branch||(t.storageShopping={label:o[0].label,value:o[0].value}),14!==t.branch.value&&14!==t.branch||(t.storageShopping={label:l[0].label,value:l[0].value})}})).catch()},getClients:function(){var e=this,t=this.$store.getters["users/id"];u["a"].get("/customers/getCustomersBySeller/".concat(t)).then((function(t){var r=t.data;e.customerOptions=r.options,e.customerOptionsG=e.customerOptions,e.customerOptionsG.push({label:"TODOS",value:"TODOS"}),e.customerOptionsFilter=r.options}))},getSellers:function(){var e=this;u["a"].get("/users/getSeller").then((function(t){var r=t.data;e.sellerOptions=r.options,e.sellerOptionsG=r.options2,e.sellerOptionsG.push({label:"TODOS",value:"TODOS"}),e.$q.loading.hide()}))},fetchFromServer:function(){this.$q.loading.show(),this.qTableRequest({pagination:this.pagination,filter:this.filter})},qTableRequest:function(e){var t=this;return d()(n()().mark((function r(){var s;return n()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pagination=e.pagination,t.filter=e.filter,t.role=t.$store.getters["users/roles"][0],t.$q.loading.show(),t.data=[],s=[],s.customer=t.customerG,s.status=t.status,s.seller=t.sellerG,s.sellerId=t.$store.getters["users/id"],s.saleDatev1=t.saleDatev1,s.saleDatev2=t.saleDatev2,s.sellerId=t.$store.getters["users/id"],s.pagination=t.pagination,s.filter=t.filter,s.filter_special_order=t.filter_special_order,r.next=18,u["a"].post("/shopping-carts/getGridByPagination",s).then((function(e){var r=e.data;t.$q.loading.hide(),t.data=r.shoppingCarts,t.pagination.rowsNumber=r.productsCount})).catch((function(e){return e}));case 18:case"end":return r.stop()}}),r)})))()},getOfficebyClient:function(){var e=this,t=[];t.customer=this.customer;var r=this.customer;u["a"].get("/customer-contacts/getContacts/".concat(r)).then((function(t){var r=t.data;r.result&&(e.optionContacts=r.contacts)})),u["a"].get("/customers/".concat(r)).then((function(t){var r=t.data;r.result&&(e.payment_method=r.customer.payment_method,e.customerEmail=r.customer.email)})),null!=r&&u["a"].get("/customer-tax-companies/getcustomerTaxCompanyByClient/".concat(r)).then((function(t){var r=t.data;r.result&&(e.auxCliente=r.customerTaxCompanies.yesornotdatafs)}))},getBranchOffices:function(){var e=this;u["a"].get("/branch-offices/branchOptions").then((function(t){var r=t.data;e.branchOfficeOptions=r.options}))},filterBranchOffices:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.branchOptions=s.branchOfficeOptions.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},getSuppliers:function(){var e=this;u["a"].get("/suppliers/options").then((function(t){var r=t.data;e.optionsSuppliers=r.options}))},filterSuppliers:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.supplierOptions=s.optionsSuppliers.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},openSelectedRow:function(e,t){"NUEVO"===t?this.$router.push("/shopping-carts/".concat(e)):this.$router.push("/shopping-carts/orders/".concat(e))},createShoppingCart:function(){var e=this;if(this.$v.customer.$reset(),this.$v.customer.$touch(),this.$v.branch.$reset(),this.$v.branch.$touch(),this.$v.seller.$reset(),this.$v.seller.$touch(),this.$v.station.$reset(),this.$v.station.$touch(),this.$v.taxInvoice.$reset(),this.$v.taxInvoice.$touch(),this.$v.supplier.$reset(),this.$v.supplier.$touch(),this.$v.storageShopping.$reset(),this.$v.storageShopping.$touch(),this.$v.commercial_terms.$reset(),this.$v.commercial_terms.$touch(),this.$v.validity.$reset(),this.$v.validity.$touch(),this.$v.lab.$reset(),this.$v.lab.$touch(),this.$v.loan.$reset(),this.$v.loan.$touch(),this.$v.customerEmail.$reset(),this.$v.customerEmail.$touch(),this.$v.customerEmail.$error||this.$v.customer.$error||this.$v.branch.$error||this.$v.seller.$error||this.$v.station.$error||this.$v.storageShopping.$error||this.$v.supplier.$error||this.$v.loan.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var t=[];t.customerId=this.customer,t.branchOfficeId=this.branch,t.sellerId=this.seller.value,t.station=this.station,t.supplier=this.supplier,t.storage_id=this.storageShopping.value,t.type_order=this.type_order,t.commercial_terms=this.commercial_terms,t.validity=this.validity,t.lab=this.lab,t.loan=this.loan,t.special_order=this.special_order,t.orderDate=this.$formatDate(this.orderDate),t.pledgeDate=this.$formatDate(this.pledgeDate),t.contact_client_id=this.contactCustomer,t.email=this.customerEmail,u["a"].post("/shopping-carts",t).then((function(t){var r=t.data;e.$q.notify({message:r.message.content,position:"top",color:r.result?"positive":"warning"}),r.result?(e.$q.loading.hide(),e.$router.push("/shopping-carts/".concat(r.shoppingCart.id))):e.$q.loading.hide()})),this.$q.loading.hide()},openModal:function(){var e=this;this.modalPedido=!0,this.seller={label:this.$store.getters["users/nickname"],value:this.$store.getters["users/id"]},u["a"].get("/branch-offices/options/IndexShopping").then((function(t){var r=t.data;e.branchOffices=r.options,console.log(e.branchOffices),e.branch=r.options[0].value,e.searchStorage(r.options[0].value),e.$q.loading.hide()}))},filtrarClientes:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.filteredCustomerOptions=s.customerOptions.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1&&"TODOS"!==e.label}))}))},filtrarContacts:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.optionsContactsFilter=s.optionContacts.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1&&"TODOS"!==e.label}))}))},filtrarClientes2:function(e,t,r){var s=this;t((function(){var t=e.toLowerCase();s.filteredCustomerOptions2=s.customerOptionsG.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterGrid:function(){var e=this;this.data=[];var t=[];t.customer=this.customerG,t.status=this.status,t.seller=this.sellerG,t.sellerId=this.$store.getters["users/id"],t.saleDatev1=this.saleDatev1,t.saleDatev2=this.saleDatev2,t.filter_special_order=this.filter_special_order,console.log(t),u["a"].post("/shopping-carts/getGrid",t).then((function(t){var r=t.data;r.result&&(e.data=r.shoppingCarts)}))},openModalclients:function(e,t){var r=this,s=[];s.id=e,s.branch=t,console.log(s),u["a"].post("/customers/getDataClient",s).then((function(e){var t=e.data;t.result&&(r.modalClient=!0,r.dataClient.fields.id=t.data[0].id,r.dataClient.fields.branch=t.data[0].branch,r.dataClient.fields.client=t.data[0].name_client,r.dataClient.fields.address=t.data[0].address,r.dataClient.fields.phone=t.data[0].contact_phone,r.dataClient.fields.term=t.data[0].term,r.dataClient.fields.branchOffice=t.data[0].branch_name,r.dataClient.fields.branchAddress=t.data[0].branch_street,r.dataClient.fields.outdoor=t.data[0].branch_outdoor_number,r.dataClient.fields.indoor=t.data[0].branch_int_number,r.dataClient.fields.colony=t.data[0].branch_colony,r.dataClient.fields.municipality=t.data[0].branch_municipality,r.dataClient.fields.CP=t.data[0].branch_zip_code,r.dataClient.fields.branch_phone=t.data[0].branch_phone_number)}))},cleanClient:function(){this.dataClient.fields.id=null,this.dataClient.fields.branch=null,this.dataClient.fields.client=null,this.dataClient.fields.address=null,this.dataClient.fields.phone=null,this.dataClient.fields.term=null,this.dataClient.fields.branchOffice=null,this.dataClient.fields.branchAddress=null,this.dataClient.fields.outdoor=null,this.dataClient.fields.indoor=null,this.dataClient.fields.colony=null,this.dataClient.fields.municipality=null,this.dataClient.fields.CP=null,this.dataClient.fields.branch_phone=null},cleanNewClient:function(){this.customerCreated.fields.serial=null,this.customerCreated.fields.name=null,this.customerCreated.fields.seller=null,this.customerCreated.fields.tradename=null,this.customerCreated.fields.contact_name=null,this.customerCreated.fields.contact_phone=null,this.customerCreated.fields.contact_phone_res=null,this.customerCreated.fields.street=null,this.customerCreated.fields.outdoor_number=null,this.customerCreated.fields.indoor_number=null,this.customerCreated.fields.suburb=null,this.customerCreated.fields.municipality=null,this.customerCreated.fields.state=null,this.customerCreated.fields.country=null,this.customerCreated.fields.city=null,this.customerCreated.fields.zip_code=null,this.customerCreated.fields.rfc=null,this.customerCreated.fields.term=null,this.customerCreated.fields.payment_method=null,this.customerCreated.fields.currency=null,this.customerCreated.fields.active={label:"ACTIVO",value:!0},this.customerCreated.fields.priceList=null,this.customerCreated.fields.email=null,this.customerCreated.fields.email2=null,this.customerCreated.fields.email3=null,this.customerCreated.fields.email4=null,this.customerCreated.fields.admission_date=null,this.customerCreated.fields.branch_id=9,this.customerCreated.fields.credit_days=null,this.customerCreated.fields.credit_limit=null,this.customerCreated.fields.channel_id=null,this.customerCreated.fields.documents=null,this.customerCreated.fields.discount=null,this.customerCreated.fields.requirements=null,this.customerCreated.fields.postal_code_id=null,this.customerCreated.fields.municipio_id=null,this.customerCreated.fields.suburb_id=null},openModalclientsBranch:function(e){var t=this,r=[];r.id=e,u["a"].post("/customers/getDataClientBranch",r).then((function(e){var r=e.data;console.log(r),r.result&&(t.modalClientBranch=!0,t.dataClientBranch.fields.id=r.data[0].id,t.dataClientBranch.fields.branchOffice=r.data[0].name,t.dataClientBranch.fields.branchAddress=r.data[0].street,t.dataClientBranch.fields.outdoor=r.data[0].outdoor_number,t.dataClientBranch.fields.indoor=r.data[0].int_number,t.dataClientBranch.fields.colony=r.data[0].colony,t.dataClientBranch.fields.municipality=r.data[0].municipality,t.dataClientBranch.fields.CP=r.data[0].zip_code,t.dataClientBranch.fields.phone=r.data[0].phone_number)}))},openActions:function(e,t){"NUEVO"===t?this.$router.push("/shopping-carts/".concat(e)):this.$router.push("/shopping-carts/orders/".concat(e))},openActionRemision:function(e){this.$router.push("/storage-exits/".concat(e))},addCliente:function(){var e=this;this.cliente_modal=!0,u["a"].get("customers/getLastCode").then((function(t){e.customerCreated.fields.serial=t.data.data.nextserial,console.log(t.data)}))},createCustomer:function(){var e=this;if(this.$v.customerCreate.fields.$reset(),this.$v.customerCreate.fields.$touch(),this.$v.customerCreate.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var t=l()({},this.customerCreate.fields);t.admission_date=this.customerCreate.fields.admission_date.substr(6,4)+"-"+this.customerCreate.fields.admission_date.substr(3,2)+"-"+this.customerCreate.fields.admission_date.substr(0,2),t.active=t.active.value,t.price_list=t.priceList.value,u["a"].post("/customers",t).then((function(t){var r=t.data;e.$q.notify({message:r.message.content,position:"top",color:r.result?"positive":"warning"}),r.result?(e.$q.loading.hide(),e.getClients(),e.customer={value:r.id,label:r.name},e.getOfficebyClient(),e.cliente_modal=!1):(e.$q.loading.hide(),e.cliente_modal=!1)}))},createcustomerCreated:function(){var e=this;if(this.$v.customerCreated.fields.$reset(),this.$v.customerCreated.fields.$touch(),this.$v.customerCreated.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var t=l()({},this.customerCreated.fields);t.admission_date=this.customerCreated.fields.admission_date.substr(6,4)+"-"+this.customerCreated.fields.admission_date.substr(3,2)+"-"+this.customerCreated.fields.admission_date.substr(0,2),t.active=t.active.value,t.price_list=t.priceList.value,t.seller_id=this.customerCreated.fields.seller,u["a"].post("/customers",t).then((function(t){var r=t.data;e.$q.notify({message:r.message.content,position:"top",color:r.result?"positive":"warning"}),r.result?(e.getClients(),e.cleanNewClient(),e.cliente_modal=!1,e.$q.loading.hide()):(e.$q.loading.hide(),e.cleanNewClient(),e.cliente_modal=!1),e.cleanNewClient(),e.cliente_modal=!1}))},generatePDF:function(){var e=this,t=[];if(t.customer=this.customerG,t.status=this.status,t.seller=this.sellerG,this.saleDatev1){t.saleDatev1=this.saleDatev1;while(t.saleDatev1.includes("/"))t.saleDatev1=t.saleDatev1.replace("/","-")}else t.saleDatev1=null;if(this.saleDatev2){t.saleDatev2=this.saleDatev2;while(t.saleDatev2.includes("/"))t.saleDatev2=t.saleDatev2.replace("/","-")}else t.saleDatev2=null;t.specialorder=this.filter_special_order;var r=this.$store.getters["users/id"],s="http://api.alpez.beta.wasp.mx/"+"shopping-carts/getPdfFromShoppingCarts/".concat(t.customer,"/").concat(t.status,"/").concat(t.seller,"/").concat(t.saleDatev1,"/").concat(t.saleDatev2,"/").concat(r,"/").concat(t.specialorder);this.$q.loading.show(),u["a"].fileDownload(s).then((function(t){var r=t.data,s=window.URL.createObjectURL(new Blob([r],{type:"application/pdf"})),a=document.createElement("a");a.href=s,a.setAttribute("download","Reporte_de_Ventas.pdf"),document.body.appendChild(a),e.$q.loading.hide(),a.click()}))},getCurrencies:function(){var e=this;u["a"].get("/currencies/options").then((function(t){var r=t.data;e.currencyOptions=r.options,e.customerCreated.fields.currency=4,e.$q.loading.hide()}))},generateCSV:function(){var e=this,t=[];if(t.customer=this.customerG,t.status=this.status,t.seller=this.sellerG,this.saleDatev1){t.saleDatev1=this.saleDatev1;while(t.saleDatev1.includes("/"))t.saleDatev1=t.saleDatev1.replace("/","-")}else t.saleDatev1=null;if(this.saleDatev2){t.saleDatev2=this.saleDatev2;while(t.saleDatev2.includes("/"))t.saleDatev2=t.saleDatev2.replace("/","-")}else t.saleDatev2=null;t.specialorder=this.filter_special_order;var r=this.$store.getters["users/id"],s="http://api.alpez.beta.wasp.mx/"+"shopping-carts/getCSVFromShoppingCarts/".concat(t.customer,"/").concat(t.status,"/").concat(t.seller,"/").concat(t.saleDatev1,"/").concat(t.saleDatev2,"/").concat(r,"/").concat(t.specialorder);this.$q.loading.show(),u["a"].fileDownload(s).then((function(t){var r=t.data,s=window.URL.createObjectURL(new Blob([r],{type:"application/csv"})),a=document.createElement("a");a.href=s,a.setAttribute("download","Reporte_Ventas.csv"),document.body.appendChild(a),e.$q.loading.hide(),a.click()}))}},watch:{station:function(e){var t=this;0===e.value&&null===e.value||(this.customer={value:null,label:null},u["a"].get("/branch-offices/customer/".concat(this.station)).then((function(e){var r=e.data;t.customerOptionsModal=r.customers,t.customerOptionsModal.length>0&&(t.customer={value:t.customerOptionsModal[0].value,label:t.customerOptionsModal[0].label})})))}}},q=_,x=r("2877"),$=r("9989"),k=r("ead5"),S=r("079e"),O=r("9c40"),w=r("05c0"),D=r("ddd8"),E=r("7cbe"),R=r("52ee"),I=r("0016"),L=r("eaac"),A=r("27f9"),N=r("bd08"),T=r("db86"),P=r("b047"),B=r("daf4"),F=r("24e8"),U=r("f09f"),G=r("a370"),M=r("eb85"),V=r("4b7e"),z=r("7f67"),Q=r("eebe"),Y=r.n(Q),Z=Object(x["a"])(q,s,a,!1,null,null,null);t["default"]=Z.exports;Y()(Z,"components",{QPage:$["a"],QBreadcrumbs:k["a"],QBreadcrumbsEl:S["a"],QBtn:O["a"],QTooltip:w["a"],QSelect:D["a"],QPopupProxy:E["a"],QDate:R["a"],QIcon:I["a"],QTable:L["a"],QInput:A["a"],QTr:N["a"],QTd:T["a"],QChip:P["a"],QRating:B["a"],QDialog:F["a"],QCard:U["a"],QCardSection:G["a"],QSeparator:M["a"],QCardActions:V["a"]}),Y()(Z,"directives",{ClosePopup:z["a"]})}}]);