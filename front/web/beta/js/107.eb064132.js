(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[107],{"85f6":function(e,t,o){"use strict";o.r(t);o("caad"),o("2532"),o("b0c0"),o("a4d3"),o("e01a"),o("ac1f"),o("5319");var i=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"bg-grey-3"},[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-9"},[t("div",{staticClass:"q-pa-md q-gutter-sm"},[t("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[t("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),t("q-breadcrumbs-el",{attrs:{label:"Artículos",to:"/products"}}),t("q-breadcrumbs-el",{attrs:{label:"Editar"},domProps:{textContent:e._s(e.product.fields.product_code+e.product.fields.code)}})],1)],1)]),t("div",{staticClass:"col-sm-3"})])]),t("div",{staticClass:"q-pa-md bg-grey-3"},[t("div",{staticClass:"row bg-white border-panel"},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.categoryOptions,label:"Categorías",rules:e.categoryRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-cubes"}})]},proxy:!0}]),model:{value:e.product.fields.category,callback:function(t){e.$set(e.product.fields,"category",t)},expression:"product.fields.category"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.filteredLineOptions,label:"Subcategoría",rules:e.lineRules},on:{input:e.updateProductFields},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-grip-lines-vertical"}})]},proxy:!0}]),model:{value:e.product.fields.line,callback:function(t){e.$set(e.product.fields,"line",t)},expression:"product.fields.line"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.unitOptions,label:"Unidad",rules:e.unitRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-grip-lines-vertical"}})]},proxy:!0}]),model:{value:e.product.fields.unit,callback:function(t){e.$set(e.product.fields,"unit",t)},expression:"product.fields.unit"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-select",{attrs:{filled:"",color:"dark","bg-color":"secondary",label:"Marca",options:e.options,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{filter:e.filterMarcas},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-grip-lines-vertical"}})]},proxy:!0},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No hay Resultados\n                          ")])],1)]},proxy:!0}]),model:{value:e.mark,callback:function(t){e.mark=t},expression:"mark"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.product.fields.code.$error,label:"Código",rules:e.codeRules},on:{input:function(t){e.product.fields.code=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fingerprint"}})]},proxy:!0}]),model:{value:e.product.fields.code,callback:function(t){e.$set(e.product.fields,"code",t)},expression:"product.fields.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3 text-center"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:[{label:"ACTIVO",value:!0},{label:"INACTIVO",value:!1}],label:"Estatus",disable:!e.$store.getters["users/roles"].includes(1)},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:e.product.fields.active.value?"battery_full":"battery_alert"}})]},proxy:!0}]),model:{value:e.product.fields.active,callback:function(t){e.$set(e.product.fields,"active",t)},expression:"product.fields.active"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.product.fields.name.$error,label:"Nombre",rules:e.nameRules},on:{input:function(t){e.product.fields.name=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.product.fields.name,callback:function(t){e.$set(e.product.fields,"name",t)},expression:"product.fields.name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",autogrow:"",rules:e.weightRules,error:e.$v.product.fields.weight.$error,label:"Peso KG"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-weight-hanging"}})]},proxy:!0}]),model:{value:e.product.fields.weight,callback:function(t){e.$set(e.product.fields,"weight",t)},expression:"product.fields.weight"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.product.fields.rebasa_code.$error,label:"Código Interno",rules:e.codeRebasa},on:{input:function(t){e.product.fields.rebasa_code=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.product.fields.rebasa_code,callback:function(t){e.$set(e.product.fields,"rebasa_code",t)},expression:"product.fields.rebasa_code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.product.fields.supplier_code.$error,label:"Código de proveedor",rules:e.codeSuplier},on:{input:function(t){e.product.fields.supplier_code=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-box-open"}})]},proxy:!0}]),model:{value:e.product.fields.supplier_code,callback:function(t){e.$set(e.product.fields,"supplier_code",t)},expression:"product.fields.supplier_code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","use-input":"","input-debounce":"0","emit-value":"",label:"Clave producto servicio",options:e.claveProdOptions,clear:""},on:{filter:e.searchClave},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-key"}})]},proxy:!0},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n          No results\n        ")])],1)]},proxy:!0},{key:"append",fn:function(){return[null!==e.product.fields.clave_producto_id?t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){t.stopPropagation(),e.product.fields.clave_producto_id=null}}}):e._e()]},proxy:!0}]),model:{value:e.product.fields.clave_producto_id,callback:function(t){e.$set(e.product.fields,"clave_producto_id",t)},expression:"product.fields.clave_producto_id"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",autogrow:"",error:e.$v.product.fields.barcode.$error,label:"Código de barras"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"view_week"}})]},proxy:!0}]),model:{value:e.product.fields.barcode,callback:function(t){e.$set(e.product.fields,"barcode",t)},expression:"product.fields.barcode"}})],1),t("div",{staticClass:"col-xs-12 col-sm-7"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",autogrow:"",label:"Descripción"},on:{input:function(t){e.product.fields.description=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.product.fields.description,callback:function(t){e.$set(e.product.fields,"description",t)},expression:"product.fields.description"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5"},[t("q-input",{attrs:{color:"dark",type:"textarea","bg-color":"secondary",filled:"",autogrow:"",label:"Información adicional"},on:{input:function(t){e.product.fields.additional_information=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.product.fields.additional_information,callback:function(t){e.$set(e.product.fields,"additional_information",t)},expression:"product.fields.additional_information"}})],1)]),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticStyle:{"font-weight":"normal"}},[t("span",{staticClass:"fs25"},[e._v("Precios del producto")]),t("br"),t("br"),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.prices.fields.a.$error,label:"Precio A",rules:e.priceARules},on:{input:function(t){e.prices.fields.a=t.replace(/[^0-9\\.]/g,"")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-dollar-sign"}})]},proxy:!0}]),model:{value:e.prices.fields.a,callback:function(t){e.$set(e.prices.fields,"a",t)},expression:"prices.fields.a"}})],1),t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.prices.fields.b.$error,label:"Precio B",rules:e.priceBRules},on:{input:function(t){e.prices.fields.b=t.replace(/[^0-9\\.]/g,"")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-dollar-sign"}})]},proxy:!0}]),model:{value:e.prices.fields.b,callback:function(t){e.$set(e.prices.fields,"b",t)},expression:"prices.fields.b"}})],1),t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.prices.fields.c.$error,label:"Precio C",rules:e.priceCRules},on:{input:function(t){e.prices.fields.c=t.replace(/[^0-9\\.]/g,"")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-dollar-sign"}})]},proxy:!0}]),model:{value:e.prices.fields.c,callback:function(t){e.$set(e.prices.fields,"c",t)},expression:"prices.fields.c"}})],1),t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.prices.fields.d.$error,label:"Precio D",rules:e.priceDRules},on:{input:function(t){e.prices.fields.d=t.replace(/[^0-9\\.]/g,"")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-dollar-sign"}})]},proxy:!0}]),model:{value:e.prices.fields.d,callback:function(t){e.$set(e.prices.fields,"d",t)},expression:"prices.fields.d"}})],1),t("div",{staticClass:"col-xs-12 col-sm-2"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.prices.fields.e.$error,label:"Precio Mostrador",rules:e.priceERules},on:{input:function(t){e.prices.fields.e=t.replace(/[^0-9\\.]/g,"")}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-dollar-sign"}})]},proxy:!0}]),model:{value:e.prices.fields.e,callback:function(t){e.$set(e.prices.fields,"e",t)},expression:"prices.fields.e"}})],1)])])]),t("div",{staticClass:"row q-mb-sm q-mt-md"},[t("div",{staticClass:"col-xs-12 col-sm-2 offset-sm-10 pull-right"},[t("q-btn",{attrs:{color:"positive",icon:"save",label:"Actualizar"},on:{click:function(t){return e.updateProduct()}}})],1)]),t("div",{staticClass:"q-pa-xs"},[t("div",{staticClass:"q-gutter-y-md",staticStyle:{width:"100%"}},[t("q-card",[t("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("q-tab",{attrs:{name:"equivalence",icon:"fas fa-cubes",label:"EQUIVALENCIA"}}),t("q-tab",{attrs:{name:"bom",icon:"fas fa-cubes",label:"BOM"}}),t("q-tab",{attrs:{name:"minimum-stock",icon:"fas fa-cubes",label:"STOCKS"}}),t("q-tab",{attrs:{name:"work",icon:"fas fa-hard-hat",label:"MANO DE OBRA"}})],1),t("q-separator"),t("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("q-tab-panel",{attrs:{name:"bom"}},[t("div",{staticStyle:{"background-color":"white"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-12"},[t("q-btn",{staticClass:"float-right",attrs:{clas:"border-panel",color:"positive",icon:"add",label:"Agregar"},on:{click:function(t){e.modalBom=!0}}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.modalBom,callback:function(t){e.modalBom=t},expression:"modalBom"}},[t("q-card",{staticStyle:{"min-width":"100%"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("BOM")])]),t("q-card-section",[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-4"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.bom.fields.category.$error,label:"Categorías",rules:e.bomcategoryRules,options:e.options1,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{input:function(t){return e.getLinesByCategories()},filter:e.filterCategory},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-cubes"}})]},proxy:!0},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No hay Resultados\n                    ")])],1)]},proxy:!0}]),model:{value:e.bom.fields.category,callback:function(t){e.$set(e.bom.fields,"category",t)},expression:"bom.fields.category"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4"},[t("q-select",{attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.bom.fields.product.$error,label:"Producto",options:e.options2,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{filter:e.filterProduct},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-grip-lines-vertical"}})]},proxy:!0},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No hay Resultados\n                    ")])],1)]},proxy:!0}]),model:{value:e.bom.fields.product,callback:function(t){e.$set(e.bom.fields,"product",t)},expression:"bom.fields.product"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.bom.fields.cantidad.$error,label:"Cantidad",rules:e.CantidadRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.bom.fields.cantidad,callback:function(t){e.$set(e.bom.fields,"cantidad",t)},expression:"bom.fields.cantidad"}})],1)])]),t("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"red"},nativeOn:{click:function(t){return e.closeModalBomEdit()}}}),!1===e.editar_bom?t("q-btn",{attrs:{label:"Agregar",color:"green"},nativeOn:{click:function(t){return e.saveBom()}}}):e._e(),!0===e.editar_bom?t("q-btn",{attrs:{label:"Agregar",color:"green"},nativeOn:{click:function(t){return e.updateBom()}}}):e._e()],1)],1)],1)],1)])]),t("q-table",{attrs:{flat:"",bordered:"",data:e.dataBom,columns:e.columns,"row-key":"nombre",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"code",staticClass:"cursor-pointer",staticStyle:{"text-align":"center","text-decoration":"underline"},attrs:{flat:"",props:o},nativeOn:{click:function(t){return e.editSelectedRow(o.row.material_id)}}},[e._v(e._s(o.row.code))]),t("q-td",{key:"name",staticClass:"pull-left",attrs:{props:o}},[e._v(e._s(o.row.name))]),t("q-td",{key:"unit",attrs:{props:o}},[e._v(e._s(o.row.unit))]),t("q-td",{key:"amount",attrs:{props:o}},[e._v(e._s(o.row.amount))]),t("q-td",{key:"lastoc",attrs:{props:o}},[e._v(e._s("".concat(e.currencyFormatter.format(o.row.lastprice))))]),t("q-td",{key:"total",attrs:{props:o}},[e._v(e._s("".concat(e.currencyFormatter.format(o.row.lastprice*o.row.amount))))]),t("q-td",{key:"actions",staticClass:"pull-left",attrs:{props:o}},[t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"blue",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(t){return e.editSelectedRowBomModal(o.row)}}},[t("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("EDITAR")])],1),t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"red",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(t){return e.deleteSelectedRowBom(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("ELIMINAR")])],1)],1)],1)]}}])})],1),t("q-tab-panel",{attrs:{name:"work"}},[t("div",{staticStyle:{"background-color":"white"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-12"},[t("q-btn",{staticClass:"float-right",attrs:{clas:"border-panel",color:"positive",icon:"add",label:"Agregar"},on:{click:function(t){return e.ModalWorks()}}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.modalWork,callback:function(t){e.modalWork=t},expression:"modalWork"}},[t("q-card",{staticStyle:{"min-width":"50%"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("MANO DE OBRA")])]),t("q-card-section",[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-6 col-sm-6"},[t("q-select",{staticClass:"dark",attrs:{borderless:"","bg-color":"secondary",filled:"",error:e.$v.work.fields.work_id.$error,label:"Mano de Obra",options:e.selectWork,"emit-value":"","map-options":""},model:{value:e.work.fields.work_id,callback:function(t){e.$set(e.work.fields,"work_id",t)},expression:"work.fields.work_id"}})],1),t("div",{staticClass:"col-xs-6 col-sm-6"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.work.fields.time_job.$error,label:"Tiempo/Minutos",rules:e.timeRules},on:{input:function(t){e.work.fields.time_job=t.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-clock"}})]},proxy:!0}]),model:{value:e.work.fields.time_job,callback:function(t){e.$set(e.work.fields,"time_job",t)},expression:"work.fields.time_job"}})],1),t("div",{staticClass:"col-xs-6 col-sm-6"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.work.fields.minimal.$error,label:"Mínimo",rules:e.minimalRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"close_fullscreen"}})]},proxy:!0}]),model:{value:e.work.fields.minimal,callback:function(t){e.$set(e.work.fields,"minimal",t)},expression:"work.fields.minimal"}})],1),t("div",{staticClass:"col-xs-6 col-sm-6"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.work.fields.factor.$error,label:"Factor",rules:e.factorRules},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fact_check"}})]},proxy:!0}]),model:{value:e.work.fields.factor,callback:function(t){e.$set(e.work.fields,"factor",t)},expression:"work.fields.factor"}})],1)])]),t("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"red"},nativeOn:{click:function(t){return e.closeModalWorkEdit()}}}),!1===e.editar_work?t("q-btn",{attrs:{label:"Agregar",color:"green"},nativeOn:{click:function(t){return e.saveWork()}}}):e._e(),!0===e.editar_work?t("q-btn",{attrs:{label:"Actualizar",color:"green"},nativeOn:{click:function(t){return e.updateWork()}}}):e._e()],1)],1)],1)],1)])]),t("q-table",{attrs:{flat:"",bordered:"",data:e.dataWork,columns:e.columnswork,"row-key":"nombre",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"name",staticClass:"pull-left",attrs:{props:o}},[e._v(e._s(o.row.name))]),t("q-td",{key:"price_hour",staticClass:"pull-right",attrs:{props:o}},[e._v("$"+e._s(o.row.price_hour))]),t("q-td",{key:"price_minute",staticClass:"pull-right",attrs:{props:o}},[e._v("$"+e._s(o.row.price_minute))]),t("q-td",{key:"time_job",staticClass:"pull-right",attrs:{props:o}},[e._v(e._s(o.row.time_job))]),t("q-td",{key:"price_qty",staticClass:"pull-right",attrs:{props:o}},[e._v("$"+e._s(o.row.price_qty))]),t("q-td",{key:"actions",staticClass:"pull-left",attrs:{props:o}},[t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"blue",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(t){return e.editSelectedRowBomWork(o.row)}}},[t("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("EDITAR")])],1),t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"red",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(t){return e.deleteSelectedRowWork(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-positive"}},[e._v("ELIMINAR")])],1)],1)],1)]}}])},[t("q-tr",{attrs:{slot:"bottom-row"},slot:"bottom-row"},[t("q-td"),t("q-td"),t("q-td"),t("q-td"),t("q-td",{staticStyle:{"text-align":"right"}},[t("strong",[e._v("Total: $"+e._s(e.tot))])])],1)],1)],1),t("q-tab-panel",{attrs:{name:"equivalence"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-4 col-sm-4"},[t("q-select",{attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.equivalence.fields.product.$error,label:"Producto",options:e.optionsProducts,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{filter:e.filterProducts},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-grip-lines-vertical"}})]},proxy:!0},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No hay Resultados\n                    ")])],1)]},proxy:!0}]),model:{value:e.equivalence.fields.product,callback:function(t){e.$set(e.equivalence.fields,"product",t)},expression:"equivalence.fields.product"}})],1),!1===e.cndEdit?t("div",{staticClass:"col-sm-4 col-md-8 pull-right"},[t("q-btn",{staticClass:"pull-right",staticStyle:{"margin-left":"20px,"},attrs:{color:"positive",icon:"add",label:"Agregar"},nativeOn:{click:function(t){return e.AddEquivalence()}}})],1):e._e(),t("div",{staticClass:"col-sm-6 col-md-4 pull-right"}),!0===e.cndEdit?t("div",{staticClass:"col-sm- col-md-2 pull-right"},[t("q-btn",{staticClass:"pull-left",staticStyle:{width:"145px"},attrs:{color:"red",icon:"fas fa-times-circle",label:"Cancelar"},nativeOn:{click:function(t){return e.Cancelar()}}})],1):e._e(),!0===e.cndEdit?t("div",{staticClass:"col-sm- col-md-2 pull-right"},[t("q-btn",{staticClass:"pull-right",staticStyle:{width:"145px"},attrs:{color:"positive",icon:"save",label:"Editar"},nativeOn:{click:function(t){return e.EditEquivalence()}}})],1):e._e()])]),t("div",{staticStyle:{"background-color":"white"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("q-dialog",{attrs:{persistent:""},model:{value:e.modalWork,callback:function(t){e.modalWork=t},expression:"modalWork"}},[t("q-card",{staticStyle:{"min-width":"50%"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Destajo")])]),t("q-card-section"),t("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}})],1)],1)],1)])]),t("q-table",{attrs:{flat:"",bordered:"",data:e.dataEquivalence,columns:e.columnsEquivalence,"row-key":"nombre",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"name",staticClass:"pull-left",attrs:{props:o}},[e._v(e._s(o.row.name))]),t("q-td",{key:"actions",staticClass:"pull-left",attrs:{props:o}},[t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"secondary",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(t){return e.editSelectedRowEquivalente(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-secondary"}},[e._v("EDITAR")])],1),t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"red",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(t){return e.deleteSelectedRowEquivalente(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("ELIMINAR")])],1)],1)],1)]}}])})],1),t("q-tab-panel",{attrs:{name:"minimum-stock"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-3 text-center"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.branchesList,rules:e.branchOfficeRules,error:e.$v.stocks.fields.branch_id.$error,label:"Estación"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:e.stocks.fields.branch_id,callback:function(t){e.$set(e.stocks.fields,"branch_id",t)},expression:"stocks.fields.branch_id"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3 text-center"},[t("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.filteredStorageOptions,rules:e.storageRules,error:e.$v.stocks.fields.storage.$error,label:"Almacén"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"store"}})]},proxy:!0}]),model:{value:e.stocks.fields.storage,callback:function(t){e.$set(e.stocks.fields,"storage",t)},expression:"stocks.fields.storage"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Mínimo operación",error:e.$v.stocks.fields.storage.$error,rules:e.CantidadRulesMinOperation},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.stocks.fields.min_operation,callback:function(t){e.$set(e.stocks.fields,"min_operation",t)},expression:"stocks.fields.min_operation"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.stocks.fields.stock.$error,label:"Stock mínimo",rules:e.CantidadRulesStock},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.stocks.fields.stock,callback:function(t){e.$set(e.stocks.fields,"stock",t)},expression:"stocks.fields.stock"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Máximo operación",error:e.$v.stocks.fields.storage.$error,rules:e.CantidadRulesMaxOperation},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.stocks.fields.max_operation,callback:function(t){e.$set(e.stocks.fields,"max_operation",t)},expression:"stocks.fields.max_operation"}})],1),t("div",{staticClass:"col-xs-12 col-sm-3"},[t("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Capacidad",error:e.$v.stocks.fields.storage.$error,rules:e.CantidadRulesCapacity},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.stocks.fields.capacity,callback:function(t){e.$set(e.stocks.fields,"capacity",t)},expression:"stocks.fields.capacity"}})],1),!1===e.cndEdits?t("div",{staticClass:"col-sm-4 col-md-12 pull-right"},[t("q-btn",{staticClass:"pull-right",staticStyle:{"margin-left":"20px,"},attrs:{color:"positive",icon:"add",label:"Agregar"},nativeOn:{click:function(t){return e.AddStocks()}}})],1):e._e(),!0===e.cndEdits?t("div",{staticClass:"col-sm- col-md-12 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"pull-left",staticStyle:{"margin-left":"20px,"},attrs:{color:"red",icon:"fas fa-times-circle",label:"Cancelar"},nativeOn:{click:function(t){return e.CancelarStocks()}}}),t("q-btn",{staticClass:"pull-right",staticStyle:{"margin-left":"20px,"},attrs:{color:"positive",icon:"save",label:"Editar"},nativeOn:{click:function(t){return e.EditStocks()}}})],1)]):e._e()])]),t("div",{staticStyle:{"background-color":"white"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("q-dialog",{attrs:{persistent:""},model:{value:e.modalWork,callback:function(t){e.modalWork=t},expression:"modalWork"}},[t("q-card",{staticStyle:{"min-width":"50%"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Destajo")])]),t("q-card-section"),t("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}})],1)],1)],1)])]),t("q-table",{attrs:{flat:"",bordered:"",data:e.dataStocks,columns:e.columnsStocks,"row-key":"nombre",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"name",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.name))]),t("q-td",{key:"sucursal",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.sucursal))]),t("q-td",{key:"almacen",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.almacen))]),t("q-td",{key:"min_operation",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.min_operation))]),t("q-td",{key:"stock",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.stock))]),t("q-td",{key:"max_operation",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.max_operation))]),t("q-td",{key:"capacity",staticClass:"pull-center",attrs:{props:o}},[e._v(e._s(o.row.capacity))]),t("q-td",{key:"actions",staticClass:"pull-right",attrs:{props:o}},[t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"secondary",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(t){return e.editSelectedRowStocks(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-secondary"}},[e._v("EDITAR")])],1),t("q-btn",{staticClass:"action-btn",staticStyle:{"text-align":"left"},attrs:{color:"red",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(t){return e.deleteSelectedRowStocks(o.row.id)}}},[t("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("ELIMINAR")])],1)],1)],1)]}}])})],1)],1)],1)],1)])])])])])},s=[],r=o("ded3"),a=o.n(r),l=(o("4de4"),o("d3b7"),o("25f0"),o("14d9"),o("159b"),o("3c65"),o("b680"),o("a9e3"),o("99af"),o("c35a"),o("aabb")),n=o("b5ae"),c=n.required,d=n.maxLength,u=n.decimal,p=n.helpers,f=n.integer,m=p.regex("cantidad",/[0-9]+$/),v=p.regex("num",/[0-9]+$/),b={name:"EditProduct",mark:{},validations:{product:{fields:{name:{required:c,maxLength:d(100)},old_code:{maxLength:d(40)},code:{required:c,maxLength:d(40)},family:{required:c},rebasa_code:{maxLength:d(40)},supplier_code:{maxLength:d(40)},category:{required:c},line:{required:c},unit:{required:c},barcode:{maxLength:d(20),integer:f},weight:{required:c,decimal:u}}},bom:{fields:{category:{},product:{required:c},cantidad:{required:c,cantidad:m}}},work:{fields:{work_id:{required:c},time_job:{required:c,num:v},minimal:{required:c,decimal:u},factor:{required:c,decimal:u}}},prices:{fields:{a:{decimal:u},b:{decimal:u},c:{decimal:u},d:{decimal:u},e:{decimal:u}}},equivalence:{fields:{idedit:{},product:{required:c}}},stocks:{fields:{idedit:{},branch_id:{required:c},storage:{required:c},stock:{required:c},min_operation:{required:c},max_operation:{required:c},capacity:{required:c}}}},data:function(){return{formatter:new Intl.NumberFormat("en-US"),currencyFormatter:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),tot:0,tab:"bom",editar_bom:!1,editar_work:!1,modalBom:!1,modalWork:!1,options1:this.categoryOptions,options2:this.ProductsOptionsbyLines,options:this.markOptions,optionsProducts:this.familyOptions,branchesList:[],storageOptions:[],mark:null,cndEdit:!1,cndEdits:!1,product:{fields:{id:null,name:null,code:null,family:null,category:null,line:null,active:{value:!0,label:"ACTIVO"},old_code:null,unit:null,rebasa_code:null,supplier_code:null,code_temp:null,description:null,barcode:null,weight:null,additional_information:null}},bom:{fields:{idedit:null,category:null,product:null,cantidad:null}},work:{fields:{idedit:null,product_id:null,time_job:null,work_id:null,minimal:null,factor:null}},prices:{fields:{a:null,b:null,c:null,d:null,e:null}},equivalence:{fields:{idedit:null,product:null}},stocks:{fields:{idedit:null,branch_id:null,storage:null,stock:null,min_operation:null,max_operation:null,capacity:null}},columns:[{name:"code",align:"center",label:"CÓDIGO",field:"code",sortable:!1},{name:"name",align:"center",label:"NOMBRE",field:"name",sortable:!1},{name:"unit",align:"center",label:"UNIDAD",field:"unit",sortable:!1},{name:"amount",align:"center",label:"CANTIDAD",field:"amount",sortable:!1},{name:"lastoc",align:"center",label:"COSTO ÚLTIMA COMPRA",field:"lastoc",sortable:!1},{name:"total",align:"center",label:"COSTO TOTAL",field:"total",sortable:!1},{name:"actions",align:"center",label:"ACCIONES",field:"actions",sortable:!1}],columnswork:[{name:"name",align:"center",label:"NOMBRE",field:"name",sortable:!1},{name:"price_hour",align:"center",label:" COSTO POR HORA",field:"price_hour",sortable:!1},{name:"price_minute",align:"center",label:" COSTO POR MINUTO",field:"price_minute",sortable:!1},{name:"time_job",align:"center",label:"TIEMPO REQUERIDO",field:"time_job",sortable:!1},{name:"price_qty",align:"center",label:" TOTAL REQUERIDO",field:"price_qty",sortable:!1},{name:"actions",align:"center",label:"ACCIONES",field:"actions",sortable:!1}],columnsEquivalence:[{name:"name",align:"center",label:"NOMBRE",field:"name",sortable:!1},{name:"actions",align:"center",label:"ACCIONES",field:"actions",sortable:!1}],columnsStocks:[{name:"name",align:"center",label:"PRODUCTO",field:"name",sortable:!1},{name:"sucursal",align:"center",label:"ESTACIÓN",field:"sucursal",sortable:!1},{name:"almacen",align:"center",label:"ALMACEN",field:"almacen",sortable:!1},{name:"min_operation",align:"center",label:"MIN OPERACIÓN",field:"min_operation",sortable:!1},{name:"stock",align:"center",label:"STOCK MIN",field:"stock",sortable:!1},{name:"max_operation",align:"center",label:"MAX OPERACIÓN",field:"max_operation",sortable:!1},{name:"capacity",align:"center",label:"CAPACIDAD",field:"capacity",sortable:!1},{name:"actions",align:"center",label:"ACCIONES",field:"actions",sortable:!1}],pagination:{sortBy:"id",descending:!1,rowsPerPage:25},categoryOptions:[],lineOptions:[],markOptions:[],lineOptionsbyCategories:[],ProductsOptionsbyLines:[],unitOptions:[],familyOptions:[],claveProdOptions:[],dataBom:[],dataWork:[],dataStocks:[],selectWork:[],dataEquivalence:[]}},computed:{filteredStorageOptions:function(){var e=this;return null!=this.stocks.fields.branch_id&&null!=this.stocks.fields.branch_id.value?this.storageOptions.filter((function(t){return t.branchOffice===e.stocks.fields.branch_id.value})):[]},branchOfficeRules:function(e){var t=this;return[function(e){return t.$v.stocks.fields.branch_id.required||"El campo Sucursal es requerido."}]},storageRules:function(e){var t=this;return[function(e){return t.$v.stocks.fields.storage.required||"El campo Almacén es requerido."}]},roleId:function(){var e=this.$store.getters["users/rol"];return parseInt(e)},unitRules:function(e){var t=this;return[function(e){return t.$v.product.fields.unit.required||"El campo Unidad es requerido."}]},nameRules:function(e){var t=this;return[function(e){return t.$v.product.fields.name.required||"El campo Nombre es requerido."},function(e){return t.$v.product.fields.name.maxLength||"El campo Nombre no debe exceder los 100 dígitos."}]},codeRules:function(e){var t=this;return[function(e){return t.$v.product.fields.code.required||"El campo Código es requerido."},function(e){return t.$v.product.fields.code.maxLength||"El campo Código no debe exceder los 40 dígitos."}]},codeRulesErp:function(e){var t=this;return[function(e){return t.$v.product.fields.code.required||"El campo Código es requerido."},function(e){return t.$v.product.fields.code.maxLength||"El campo Código no debe exceder los 40 dígitos."}]},codeRebasa:function(e){var t=this;return[function(e){return t.$v.product.fields.rebasa_code.maxLength||"El campo Código no debe exceder los 40 dígitos."}]},codeSuplier:function(e){var t=this;return[function(e){return t.$v.product.fields.supplier_code.maxLength||"El campo Código no debe exceder los 40 dígitos."}]},categoryRules:function(e){var t=this;return[function(e){return t.$v.product.fields.category.required||"El campo Categorías es requerido."}]},lineRules:function(e){var t=this;return[function(e){return t.$v.product.fields.line.required||"El campo Líneas es requerido."}]},bomcategoryRules:function(e){var t=this;return[function(e){return t.$v.bom.fields.category||"El campo Categorías es requerido."}]},bomproductsRules:function(e){var t=this;return[function(e){return t.$v.bom.fields.product.required||"El campo Productos es requerido."}]},priceARules:function(e){var t=this;return[function(e){return t.$v.prices.fields.a.decimal||"El campo Precio A debe ser un número válido."}]},priceBRules:function(e){var t=this;return[function(e){return t.$v.prices.fields.b.decimal||"El campo Precio B debe ser un número válido."}]},priceCRules:function(e){var t=this;return[function(e){return t.$v.prices.fields.c.decimal||"El campo Precio C debe ser un número válido."}]},priceDRules:function(e){var t=this;return[function(e){return t.$v.prices.fields.d.decimal||"El campo Precio D debe ser un número válido."}]},priceERules:function(e){var t=this;return[function(e){return t.$v.prices.fields.e.decimal||"El campo Precio E debe ser un número válido."}]},barcodeRules:function(e){var t=this;return[function(e){return t.$v.product.fields.barcode.required||"El campo Código de barras es requerido."},function(e){return t.$v.product.fields.barcode.maxLength||"El campo Código de barras no debe exceder 20 dígitos."},function(e){return t.$v.product.fields.barcode.integer||"El campo Código de barras es numérico."}]},weightRules:function(e){var t=this;return[function(e){return t.$v.product.fields.weight.decimal||"El campo Peso es numérico."}]},filteredLineOptions:function(){var e=this;return null!=this.product.fields.category&&null!=this.product.fields.category.value?this.lineOptions.filter((function(t){return t.category===e.product.fields.category.value})):[]},CantidadRules:function(e){var t=this;return[function(e){return t.$v.bom.fields.cantidad.required||"El campo Cantidad es requerido"},function(e){return t.$v.bom.fields.cantidad.cantidad||"El campo Cantidad debe ser númerico"}]},CantidadRulesStock:function(e){var t=this;return[function(e){return t.$v.stocks.fields.stock.required||"El campo stock es requerido"}]},CantidadRulesMinOperation:function(e){var t=this;return[function(e){return t.$v.stocks.fields.min_operation.required||"El campo Mínimo operación es requerido"}]},CantidadRulesMaxOperation:function(e){var t=this;return[function(e){return t.$v.stocks.fields.max_operation.required||"El campo Máximo operación es requerido"}]},CantidadRulesCapacity:function(e){var t=this;return[function(e){return t.$v.stocks.fields.capacity.required||"El campo Capacidad es requerido"}]},timeRules:function(){var e=this;return[function(t){return e.$v.work.fields.time_job.required||"El campo Tiempo/Minutos es requerido."}]},minimalRules:function(){var e=this;return[function(t){return e.$v.work.fields.minimal.required||"El campo Mínimo es requerido."},function(t){return e.$v.work.fields.minimal.decimal||"El campo Mínimo es numérico."}]},factorRules:function(){var e=this;return[function(t){return e.$v.work.fields.factor.required||"El campo Factor es requerido."},function(t){return e.$v.work.fields.factor.decimal||"El campo Factor es numérico."}]}},beforeRouteEnter:function(e,t,o){o((function(e){var t=e.$store.getters["users/rol"];console.log(t),1===t||3===t||7===t||2===t||20===t||4===t||27===t||22===t?o():o("/")}))},mounted:function(){this.fetchFromServer(),this.getCategories(),this.getLines(),this.getProducts(),this.getUnits(),this.getMarks(),this.fetchFromServerEquivalence(),this.fetchFromServerBom(),this.fetchFromServerStocks(),this.getWork(),this.fetchFromServerWorks(),this.getBranchesList(),this.getStoragesList()},methods:{PadLeft:function(e,t){return e.toString().length<t?this.PadLeft("0"+e,t):e},fetchFromServer:function(){var e=this;this.$q.loading.show();var t=this.$route.params.id;l["a"].get("/products/".concat(t)).then((function(o){var i=o.data;i.product?(e.product.fields=i.product,e.product.fields.category={value:i.product.category_id,label:i.product.category},e.product.fields.line={value:i.product.line_id,label:i.product.line},e.product.fields.code=e.PadLeft(i.product.code,5),e.product.fields.unit={value:i.product.unit_id,label:i.product.unit},e.product.fields.description=i.product.description,e.product.fields.barcode=i.product.barcode,e.product.fields.rebasa_code=i.product.rebasa_code,e.product.fields.supplier_code=i.product.supplier_code,e.mark={value:i.product.mark_id,label:i.product.mark_name},i.product.active?e.product.fields.active={value:!0,label:"ACTIVO"}:e.product.fields.active={value:!1,label:"INACTIVO"},null==i.product.family_id?e.product.fields.family={value:null,label:"NINGUNO"}:e.product.fields.family={value:i.product.family_id,label:i.product.family},l["a"].get("/products-prices/".concat(t)).then((function(t){var o=t.data;o.productsPrices.forEach((function(t){switch(t.price_level){case"A":e.prices.fields.a=t.price;break;case"B":e.prices.fields.b=t.price;break;case"C":e.prices.fields.c=t.price;break;case"D":e.prices.fields.d=t.price;break;case"E":e.prices.fields.e=t.price;break}}))})),e.$q.loading.hide()):e.$router.push("/products")}))},getCategories:function(){var e=this;l["a"].get("/categories/options").then((function(t){var o=t.data;e.categoryOptions=o.options}))},getLines:function(){var e=this;l["a"].get("/lines/options").then((function(t){var o=t.data;e.lineOptions=o.options}))},getMarks:function(){var e=this;l["a"].get("/marks/options").then((function(t){var o=t.data;e.markOptions=o.options}))},getUnits:function(){var e=this;l["a"].get("/units/options").then((function(t){var o=t.data;e.unitOptions=o.options}))},getProducts:function(){var e=this;this.ProductsOptionsbyLines=[];var t=this.$route.params.id;l["a"].get("/products/options").then((function(o){var i=o.data;e.familyOptions=i.options.filter((function(e){return null==e.family&&e.value!==t})),e.familyOptions.unshift({value:null,label:"NINGUNO"})}))},getLinesByCategories:function(){var e=this;this.ProductsOptionsbyLines=[],l["a"].get("/products/category1/".concat(this.bom.fields.category)).then((function(t){var o=t.data;e.ProductsOptionsbyLines=o.products,e.ProductsOptionsbyLines.unshift({value:null,label:"NINGUNO"})}))},getLinesByCategoriesEdit:function(e){var t=this;this.ProductsOptionsbyLines=[],l["a"].get("/products/category1/".concat(e)).then((function(e){var o=e.data;t.ProductsOptionsbyLines=o.products,t.ProductsOptionsbyLines.unshift({value:null,label:"NINGUNO"})}))},filterCategory:function(e,t,o){var i=this;t((function(){var t=e.toLowerCase();i.options1=i.categoryOptions.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterProduct:function(e,t,o){var i=this;t((function(){var t=e.toLowerCase();i.options2=i.ProductsOptionsbyLines.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterProducts:function(e,t,o){var i=this;t((function(){var t=e.toLowerCase();i.optionsProducts=i.familyOptions.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},filterMarcas:function(e,t,o){var i=this;t((function(){var t=e.toLowerCase();i.options=i.markOptions.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}))},fetchFromServerBom:function(){var e=this;l["a"].get("/bom/".concat(this.$route.params.id)).then((function(t){var o=t.data;e.dataBom=o.bom}))},saveBom:function(){var e=this;if(this.$v.bom.fields.$reset(),this.$v.bom.fields.$touch(),this.$v.bom.fields.$error)return this.$q.notify({message:"Por favor revise los campos.",color:"red",position:"top"}),!1;this.$q.loading.show();var t=a()({},this.bom.fields);t.id=this.$route.params.id,l["a"].post("/bom",t).then((function(t){var o=t.data;o.result&&(e.fetchFromServerBom(),e.bom.fields.line=null,e.bom.fields.product=null,e.bom.fields.cantidad=null),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),e.$q.loading.hide()}))},editSelectedRowBomModal:function(e){this.bom.fields.idedit=e.id,this.bom.fields.category={id:e.category_id,label:e.category_name},this.bom.fields.line={id:e.line_id,label:e.line_name},this.bom.fields.product={id:e.material_id,label:e.product_name},this.bom.fields.cantidad=e.amount,this.editar_bom=!0,this.modalBom=!0,this.getLinesByCategoriesEdit(e.category_id)},editSelectedRowBomWork:function(e){this.getWork(),this.work.fields.idedit=e.id,this.work.fields.work_id={id:e.work_id,label:e.name},this.work.fields.time_job=e.time_job,this.work.fields.minimal=e.minimal,this.work.fields.factor=e.factor,this.editar_work=!0,this.modalWork=!0},closeModalBomEdit:function(){this.ProductsOptionsbyLines=[],this.bom.fields.category=null,this.bom.fields.line=null,this.bom.fields.product=null,this.bom.fields.cantidad=null,this.editar_bom=!1},closeModalWorkEdit:function(){this.selectWork=[],this.work.fields.time_job=null,this.work.fields.product_id=null,this.work.fields.work_id=null,this.work.fields.minimal=null,this.work.fields.factor=null,this.editar_work=!1},updateBom:function(){var e=this;if(this.$v.bom.fields.$reset(),this.$v.bom.fields.$touch(),this.$v.bom.fields.$error)return this.$q.notify({message:"Por favor revise los campos.",color:"red",position:"top"}),!1;this.$q.loading.show();var t=a()({},this.bom.fields);t.id=this.$route.params.id,l["a"].put("/bom/".concat(this.bom.fields.idedit),t).then((function(t){var o=t.data;o.result&&(e.fetchFromServerBom(),e.bom.fields.category=null,e.bom.fields.line=null,e.bom.fields.product=null,e.bom.fields.cantidad=null),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),e.editar_bom=!1,e.modalBom=!1,e.$q.loading.hide()}))},updateWork:function(){var e=this;if(this.$v.work.fields.$reset(),this.$v.work.fields.$touch(),this.$v.work.fields.$error)return this.$q.notify({message:"Por favor revise los campos.",color:"red",position:"top"}),!1;this.$q.loading.show();var t=a()({},this.work.fields);t.id=this.$route.params.id,t.minimal=Number(this.work.fields.minimal).toFixed(2),t.factor=Number(this.work.fields.factor).toFixed(7),l["a"].put("/works-products/".concat(this.work.fields.idedit),t).then((function(t){var o=t.data;o.result&&e.fetchFromServerWorks(),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),e.editar_work=!1,e.modalWork=!1,e.work.fields.work_id=null,e.$q.loading.hide()}))},deleteSelectedRowBom:function(e){var t=this;this.$q.dialog({message:"¿Desea eliminar el Componente?",ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){t.$q.loading.show(),l["a"].delete("/bom/".concat(e)).then((function(e){var o=e.data;o.result&&t.fetchFromServerBom(),t.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),t.$q.loading.hide()}))})).onCancel((function(){}))},updateProductFields:function(){this.$v.product.fields.$reset(),this.$v.product.fields.$touch()},updateProduct:function(){var e=this;if(this.$v.product.fields.$reset(),this.$v.product.fields.$touch(),this.$v.product.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var t=[];t.id=Number(this.product.fields.id),t.name=this.product.fields.name,t.description=this.product.fields.description,t.code=this.product.fields.code,t.line_id=Number(this.product.fields.line.value),t.active=Number(this.product.fields.active.value),t.clave_producto_id=this.product.fields.clave_producto_id,t.unit_id=this.product.fields.unit,t.barcode=this.product.fields.barcode,t.rebasa_code=this.product.fields.rebasa_code,t.supplier_code=this.product.fields.supplier_code,t.weight=this.product.fields.weight,t.mark=this.mark,t.additional_information=this.product.fields.additional_information,null!=this.product.fields.family&&null!=this.product.fields.family.value&&(t.family_id=Number(this.product.fields.family.value)),l["a"].put("/products/".concat(t.id),t).then((function(t){var o=t.data;e.$q.notify({message:o.message.content,position:"top",color:o.result?"positive":"warning"}),o.result?(e.$q.loading.hide(),e.updatePrices(),e.fetchFromServer()):e.$q.loading.hide()}))},updatePrices:function(){var e=this,t=[],o=[];null!=this.prices.fields.a&&o.push({price_level:"A",price:Number(this.prices.fields.a)}),null!=this.prices.fields.b&&o.push({price_level:"B",price:Number(this.prices.fields.b)}),null!=this.prices.fields.c&&o.push({price_level:"C",price:Number(this.prices.fields.c)}),null!=this.prices.fields.d&&o.push({price_level:"D",price:Number(this.prices.fields.d)}),null!=this.prices.fields.e&&o.push({price_level:"E",price:Number(this.prices.fields.e)}),t.prices=o,l["a"].put("/products/".concat(this.$route.params.id,"/prices"),t).then((function(t){var o=t.data;e.$q.notify({message:o.message.content,position:"top",color:o.result?"positive":"warning"}),o.result&&e.fetchFromServer()}))},searchClave:function(e,t){var o=this;if(e.length<3)return!1;t((function(){l["a"].get("/products/searchClave/".concat(e)).then((function(e){var t=e.data;o.claveProdOptions=t.claves}))}))},editSelectedRow:function(e){this.$router.push("/products/".concat(e)),this.fetchFromServer(),this.getCategories(),this.getLines(),this.getProducts(),this.getUnits(),this.fetchFromServerBom(),this.fetchFromServerWorks()},ModalWorks:function(){this.getWork(),this.work.fields.time_job=null,this.work.fields.product_id=null,this.work.fields.work_id=null,this.modalWork=!0},getWork:function(){var e=this;this.selectWork=[],l["a"].get("/works/options").then((function(t){var o=t.data;e.selectWork=o.options,e.selectWork.unshift({value:null,label:"NINGUNO"})}))},saveWork:function(){var e=this;if(this.$v.work.fields.$reset(),this.$v.work.fields.$touch(),this.$v.work.fields.$error)return this.$q.notify({message:"Por favor selecione una opcion.",color:"warning",position:"top"}),!1;this.modalWork=!1;var t=a()({},this.work.fields);t.id=Number(this.product.fields.id),t.minimal=Number(this.work.fields.minimal).toFixed(2),t.factor=Number(this.work.fields.factor).toFixed(7),l["a"].post("/works-products",t).then((function(t){var o=t.data;o.result&&(e.work.fields.time_job=null,e.work.fields.product_id=null,e.work.fields.work_id=null,e.fetchFromServerWorks()),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"})}))},fetchFromServerWorks:function(){var e=this,t=this.$route.params.id;t&&(this.$q.loading.show(),l["a"].get("/works-products/getby/".concat(t)).then((function(t){var o=t.data;e.dataWork=o.info,e.tot=o.tot})).catch((function(e){return e})),this.$q.loading.hide())},deleteSelectedRowWork:function(e){var t=this;this.$q.dialog({message:"¿Desea eliminar la Mano de Obra?",ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){t.$q.loading.show(),l["a"].delete("/works-products/".concat(e)).then((function(e){var o=e.data;o.result&&t.fetchFromServerWorks(),t.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),t.$q.loading.hide()}))})).onCancel((function(){}))},AddEquivalence:function(){var e=this,t=this.$route.params.id;if(this.$v.equivalence.fields.$reset(),this.$v.equivalence.fields.$touch(),this.$v.equivalence.fields.$error)return this.$q.notify({message:"Por favor selecione una opcion.",color:"warning",position:"top"}),!1;var o=a()({},this.equivalence.fields);o.id=t,l["a"].post("/equivalence/",o).then((function(t){var o=t.data;o.result&&(e.equivalence.fields.product=null,e.fetchFromServerEquivalence(),e.fetchFromServer()),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"})}))},fetchFromServerEquivalence:function(){var e=this,t=this.$route.params.id;t&&(this.$q.loading.show(),l["a"].get("/equivalence/getbyProduct/".concat(t)).then((function(t){var o=t.data;e.dataEquivalence=o.equivalence,console.log(o.equivalence)})).catch((function(e){return e})),this.$q.loading.hide())},deleteSelectedRowEquivalente:function(e){var t=this;this.$q.dialog({message:"¿Desea eliminar el Equivalente?",ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){t.$q.loading.show(),l["a"].delete("/equivalence/".concat(e)).then((function(e){var o=e.data;o.result&&t.fetchFromServerEquivalence(),t.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),t.$q.loading.hide()}))})).onCancel((function(){}))},editSelectedRowEquivalente:function(e){var t=this;this.equivalence.fields.idedit=e;var o=this.$route.params.id;l["a"].get("/equivalence/get/".concat(e,"/").concat(o)).then((function(e){var o=e.data;console.log(o.info),t.equivalence.fields.product={value:o.info[0].equivalence_id,label:o.info[0].name}})),this.cndEdit=!0},Cancelar:function(){this.cndEdit=!1,this.equivalence.fields.product=null,this.equivalence.fields.idedit=null},EditEquivalence:function(){var e=this;if(this.$v.equivalence.fields.$reset(),this.$v.equivalence.fields.$touch(),this.$v.equivalence.fields.$error)return this.$q.notify({message:"Por favor selecione una opcion.",color:"warning",position:"top"}),!1;this.cndEdit=!1,this.$q.loading.show();var t=a()({},this.equivalence.fields);l["a"].put("/equivalence/EditEquivalence",t).then((function(t){var o=t.data;o.result&&(e.cndEdit=!1,e.equivalence.fields.product=null,e.fetchFromServerEquivalence()),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),e.$q.loading.hide()}))},AddStocks:function(){var e=this,t=this.$route.params.id;if(this.$v.stocks.fields.$reset(),this.$v.stocks.fields.$touch(),this.$v.stocks.fields.$error)return this.$q.notify({message:"Por favor selecione una opcion.",color:"warning",position:"top"}),!1;var o=a()({},this.stocks.fields);o.id=t,l["a"].post("/minimum-stock/",o).then((function(t){var o=t.data;o.result&&(e.stocks.fields.product=null,e.stocks.fields.idedit=null,e.stocks.fields.stock=null,e.stocks.fields.branch_id=null,e.stocks.fields.storage=null,e.stocks.fields.min_operation=null,e.stocks.fields.max_operation=null,e.stocks.fields.capacity=null,e.fetchFromServerStocks(),e.fetchFromServer()),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"})}))},fetchFromServerStocks:function(){var e=this,t=this.$route.params.id;t&&(this.$q.loading.show(),l["a"].get("/minimum-stock/getbyProduct/".concat(t)).then((function(t){var o=t.data;e.dataStocks=o.equivalence})).catch((function(e){return e})),this.$q.loading.hide())},deleteSelectedRowStocks:function(e){var t=this;this.$q.dialog({message:"¿Desea eliminar el stock minimo?",ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){t.$q.loading.show(),l["a"].delete("/minimum-stock/".concat(e)).then((function(e){var o=e.data;o.result&&t.fetchFromServerStocks(),t.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),t.$q.loading.hide()}))})).onCancel((function(){}))},editSelectedRowStocks:function(e){var t=this;this.stocks.fields.idedit=e;var o=this.$route.params.id;l["a"].get("/minimum-stock/get/".concat(e,"/").concat(o)).then((function(e){var o=e.data;console.log(o.info),t.stocks.fields.storage={value:o.info[0].almacen_id,label:o.info[0].almacen},t.stocks.fields.branch_id={value:o.info[0].sucursal_id,label:o.info[0].sucursal},t.stocks.fields.stock=o.info[0].stock,t.stocks.fields.min_operation=o.info[0].min_operation,t.stocks.fields.max_operation=o.info[0].max_operation,t.stocks.fields.capacity=o.info[0].capacity})),this.cndEdits=!0},CancelarStocks:function(){this.cndEdits=!1,this.stocks.fields.idedit=null,this.stocks.fields.stock=null,this.stocks.fields.branch_id=null,this.stocks.fields.storage=null,this.stocks.fields.min_operation=null,this.stocks.fields.max_operation=null,this.stocks.fields.capacity=null},EditStocks:function(){var e=this;if(this.$v.stocks.fields.$reset(),this.$v.stocks.fields.$touch(),this.$v.stocks.fields.$error)return this.$q.notify({message:"Por favor selecione una opcion.",color:"warning",position:"top"}),!1;this.cndEdits=!1,this.$q.loading.show();var t=a()({},this.stocks.fields);console.log(t),l["a"].put("/minimum-stock/EditEquivalence",t).then((function(t){var o=t.data;o.result&&(e.cndEdits=!1,e.stocks.fields.product=null,e.stocks.fields.idedit=null,e.stocks.fields.stock=null,e.stocks.fields.branch_id=null,e.stocks.fields.storage=null,e.stocks.fields.min_operation=null,e.stocks.fields.max_operation=null,e.stocks.fields.capacity=null,e.fetchFromServerStocks()),e.$q.notify({message:o.message.content,color:o.result?"positive":"red",position:"top"}),e.$q.loading.hide()}))},getBranchesList:function(){var e=this;l["a"].get("branch-offices/options").then((function(t){e.branchesList=t.data.options}))},getStoragesList:function(){var e=this;l["a"].get("storages/options").then((function(t){e.storageOptions=t.data.options}))},currencyFormat:function(e){return Number.parseFloat(e).toFixed(5).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}},h=b,g=o("2877"),k=o("9989"),q=o("ead5"),y=o("079e"),_=o("ddd8"),$=o("0016"),C=o("66e5"),w=o("4074"),x=o("27f9"),S=o("9c40"),O=o("f09f"),E=o("429b"),R=o("7460"),P=o("eb85"),A=o("adad"),N=o("823b"),L=o("24e8"),I=o("a370"),B=o("4b7e"),M=o("eaac"),F=o("bd08"),W=o("db86"),T=o("05c0"),D=o("7f67"),U=o("eebe"),Q=o.n(U),j=Object(g["a"])(h,i,s,!1,null,null,null);t["default"]=j.exports;Q()(j,"components",{QPage:k["a"],QBreadcrumbs:q["a"],QBreadcrumbsEl:y["a"],QSelect:_["a"],QIcon:$["a"],QItem:C["a"],QItemSection:w["a"],QInput:x["a"],QBtn:S["a"],QCard:O["a"],QTabs:E["a"],QTab:R["a"],QSeparator:P["a"],QTabPanels:A["a"],QTabPanel:N["a"],QDialog:L["a"],QCardSection:I["a"],QCardActions:B["a"],QTable:M["a"],QTr:F["a"],QTd:W["a"],QTooltip:T["a"]}),Q()(j,"directives",{ClosePopup:D["a"]})}}]);