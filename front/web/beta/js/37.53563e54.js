(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{f7ab:function(e,i,t){"use strict";t.r(i);t("b0c0");var s=function(){var e=this,i=e._self._c;return i("q-page",{staticClass:"bg-grey-3"},[i("div",{staticClass:"q-pa-sm panel-header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-9"},[i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[i("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),i("q-breadcrumbs-el",{attrs:{label:"Estaciones",to:"/branch-offices"}}),i("q-breadcrumbs-el",{attrs:{label:"Nueva Estación"}})],1)],1)]),i("div",{staticClass:"col-sm-3 pull-right"},[i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-btn",{attrs:{color:"positive",icon:"save",label:"Guardar"},on:{click:function(i){return e.createBranchOffice()}}})],1)])])]),i("div",{staticClass:"q-pa-md bg-grey-3"},[i("div",{staticClass:"row bg-white border-panel"},[i("div",{staticClass:"col q-pa-md"},[i("div",{staticClass:"row q-mb-sm"}),i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.code.$error,label:"Código",rules:e.codeRules},on:{input:function(i){e.branchOffice.fields.code=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.code,callback:function(i){e.$set(e.branchOffice.fields,"code",i)},expression:"branchOffice.fields.code"}})],1),i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.name.$error,label:"Nombre",rules:e.nameRules},on:{input:function(i){e.branchOffice.fields.name=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.name,callback:function(i){e.$set(e.branchOffice.fields,"name",i)},expression:"branchOffice.fields.name"}})],1),i("div",{staticClass:"col-xs-2 col-sm-4 col-md-4 col-lg-4"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.address.$error,label:"Calle",rules:e.addressRules},on:{input:function(i){e.branchOffice.fields.address=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.address,callback:function(i){e.$set(e.branchOffice.fields,"address",i)},expression:"branchOffice.fields.address"}})],1),i("div",{staticClass:"col-xs-2 col-sm-2 col-md-2 col-ld-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.outdoor_number.$error,label:"Número exterior",rules:e.outdoor_numberRules},on:{input:function(i){e.branchOffice.fields.outdoor_number=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.outdoor_number,callback:function(i){e.$set(e.branchOffice.fields,"outdoor_number",i)},expression:"branchOffice.fields.outdoor_number"}})],1),i("div",{staticClass:"col-xs-2 col-sm-2 col-md-2 col-ld-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Número interior"},on:{input:function(i){e.branchOffice.fields.indoor_number=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.indoor_number,callback:function(i){e.$set(e.branchOffice.fields,"indoor_number",i)},expression:"branchOffice.fields.indoor_number"}})],1),i("div",{staticClass:"col-xs-2 col-sm-3 col-md-3 col-lg-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.between_street.$error,label:"Entre calles",rules:e.between_streetRules},on:{input:function(i){e.branchOffice.fields.between_street=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.between_street,callback:function(i){e.$set(e.branchOffice.fields,"between_street",i)},expression:"branchOffice.fields.between_street"}})],1),i("div",{staticClass:"col-xs-12 col-sm-2 col-md-2 col-lg-2"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",rules:e.cpRules,error:e.$v.branchOffice.fields.postal_code_id.$error,options:e.postal_codes,label:"Código Postal","use-input":"","emit-value":"","map-options":""},on:{filter:e.filterPostalCodes,input:function(i){return e.getSuburbsByPostalCode(e.branchOffice.fields.postal_code_id)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.postal_code_id,callback:function(i){e.$set(e.branchOffice.fields,"postal_code_id",i)},expression:"branchOffice.fields.postal_code_id"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3 col-md-3 col-lg-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.suburbs_options,rules:e.suburbRules,error:e.$v.branchOffice.fields.suburb_id.$error,label:"Colonia","use-input":"","emit-value":"","map-options":""},on:{filter:e.filterSuburbs},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.suburb_id,callback:function(i){e.$set(e.branchOffice.fields,"suburb_id",i)},expression:"branchOffice.fields.suburb_id"}})],1),i("div",{staticClass:"col-xs-2 col-sm-2"},[i("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.branchOffice.fields.municipio_id.$error,label:"Municipio",options:e.options,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{filter:e.filterMunicipio,input:function(i){return e.getPostalCodes()}},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                  No hay Resultados\n                ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.municipio_id,callback:function(i){e.$set(e.branchOffice.fields,"municipio_id",i)},expression:"branchOffice.fields.municipio_id"}})],1),i("div",{staticClass:"col-xs-2 col-sm-2"},[i("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",label:"Ciudad",options:e.cityOptions,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"",disable:!0,"map-options":""},on:{filter:e.filterCity},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                    No hay Resultados\n                  ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.city_id,callback:function(i){e.$set(e.branchOffice.fields,"city_id",i)},expression:"branchOffice.fields.city_id"}})],1),i("div",{staticClass:"col-xs-3 col-sm-2"},[i("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.branchOffice.fields.estado_id.$error,label:"ESTADO",options:e.options2,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{input:function(i){return e.getMunicipiosbyEstado(e.branchOffice.fields.estado_id,!0)},filter:e.filterEstado},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                    No hay Resultados\n                  ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.estado_id,callback:function(i){e.$set(e.branchOffice.fields,"estado_id",i)},expression:"branchOffice.fields.estado_id"}})],1),i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.serie.$error,rules:e.serieRules,label:"Serie facturación"},on:{input:function(i){e.branchOffice.fields.serie=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.serie,callback:function(i){e.$set(e.branchOffice.fields,"serie",i)},expression:"branchOffice.fields.serie"}})],1),i("div",{staticClass:"col-xs-12 col-sm-2"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.serie_pagos.$error,rules:e.serie_pagosRules,label:"Serie pagos facturación"},on:{input:function(i){e.branchOffice.fields.serie_pagos=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.serie_pagos,callback:function(i){e.$set(e.branchOffice.fields,"serie_pagos",i)},expression:"branchOffice.fields.serie_pagos"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",options:e.clusterOptions,label:"Cluster"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.cluster_id,callback:function(i){e.$set(e.branchOffice.fields,"cluster_id",i)},expression:"branchOffice.fields.cluster_id"}})],1),i("div",{staticClass:"col-xs-12 col-sm-3"},[i("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",options:e.customerOptions,label:"Cliente"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fa solid fa-user"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.customer_id,callback:function(i){e.$set(e.branchOffice.fields,"customer_id",i)},expression:"branchOffice.fields.customer_id"}})],1)])])]),i("br"),i("div",{staticClass:"row bg-white border-panel"},[i("div",{staticClass:"col q-pa-md"},[i("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[e._v("\n          Datos Bancarios\n        ")]),i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 col-lg-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"RFC Banco"},on:{input:function(i){e.branchOffice.fields.rfc_banco=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.rfc_banco,callback:function(i){e.$set(e.branchOffice.fields,"rfc_banco",i)},expression:"branchOffice.fields.rfc_banco"}})],1),i("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 col-lg-3"},[i("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Cuenta Bancaria"},on:{input:function(i){e.branchOffice.fields.cuenta=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.cuenta,callback:function(i){e.$set(e.branchOffice.fields,"cuenta",i)},expression:"branchOffice.fields.cuenta"}})],1)])])])])])},r=[],n=t("ded3"),o=t.n(n),c=t("7ec2"),a=t.n(c),l=t("c973"),f=t.n(l),u=(t("ac1f"),t("5319"),t("14d9"),t("99af"),t("4de4"),t("d3b7"),t("aabb")),d=t("b5ae"),p=d.required,b=d.maxLength,h={name:"NewBranchOffice",validations:{branchOffice:{fields:{name:{required:p,maxLength:b(50)},address:{required:p,maxLength:b(100)},codigo_postal:{},estado_id:{},municipio_id:{},code:{required:p,maxLength:b(20)},city:{},serie:{required:p},serie_pagos:{required:p},postal_code_id:{required:p},suburb_id:{required:p},indoor_number:{},outdoor_number:{required:p},between_street:{required:p}}}},data:function(){return{branchOffice:{fields:{name:null,address:null,codigo_postal:null,estado_id:null,municipio_id:null,code:null,city:null,serie:null,serie_pagos:null,postal_code_id:null,suburb_id:null,indoor_number:null,outdoor_number:null,municipality:null,state:null,between_street:null,city_id:null,cluster_id:null,customer_id:null}},selectEstados:[],selectMunicipio:[],selectMunicipios:[],options:this.selectMunicipio,options2:this.selectEstados,postal_codes:[],postal_codes_options:[],suburbs:[],suburbs_options:[],cities:[],cityOptions:[],clusterOptions:[],customerOptions:[]}},created:function(){this.loadAll()},computed:{nameRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.name.required||"El campo Nombre es requerido."},function(e){return i.$v.branchOffice.fields.name.maxLength||"El campo Nombre no debe exceder los 50 dígitos."}]},cityRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.city.required||"La ciudad es requeridoa."}]},codeRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.code.required||"El campo codigo es requerido."},function(e){return i.$v.branchOffice.fields.code.maxLength||"El campo codigo no debe exceder los 20 dígitos."}]},addressRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.address.required||"El campo Calle es requerido."},function(e){return i.$v.branchOffice.fields.address.maxLength||"El campo Calle no debe exceder los 100 dígitos."}]},cpRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.postal_code_id.required||"El campo código postal es requerido."}]},serieRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.serie.required||"El campo serie facturacion es requerido."}]},serie_pagosRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.serie_pagos.required||"El campo serie pagos facturacion es requerido."}]},outdoor_numberRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.outdoor_number.required||"El campo Número exterior es requerido."}]},suburbRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.suburb_id.required||"El campo Colonia es requerido."}]},between_streetRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.between_street.required||"El campo Entre calles es requerido."}]}},methods:{loadAll:function(){var e=this;return f()(a()().mark((function i(){return a()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.getEstados(),e.getPostalCodes(),e.getClustersList(),e.getCustomerList();case 4:case"end":return i.stop()}}),i)})))()},isNumber:function(e,i){switch(i){case"codigo_postal":this.branchOffice.fields.codigo_postal=this.branchOffice.fields.codigo_postal.replace(/[^0-9.]/g,""),this.$v.branchOffice.fields.codigo_postal.$touch();break;default:break}},createBranchOffice:function(){var e=this;if(this.$v.branchOffice.fields.$reset(),this.$v.branchOffice.fields.$touch(),this.$v.branchOffice.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=o()({},this.branchOffice.fields);u["a"].post("/branch-offices",i).then((function(i){var t=i.data;e.$q.notify({message:t.message.content,position:"top",color:t.result?"positive":"warning"}),t.result?(e.$q.loading.hide(),e.$router.push("/branch-offices")):e.$q.loading.hide()}))},getEstados:function(){var e=this;this.selectEstados=[],u["a"].get("/branch-offices/states").then((function(i){var t=i.data;e.selectEstados=t.options})).catch((function(e){return e}))},getPostalCodes:function(){var e=arguments,i=this;return f()(a()().mark((function t(){var s;return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:"",s=""===s?"0":s,t.next=4,u["a"].get("/branch-offices/postal_codes/".concat(s,"/").concat(i.branchOffice.fields.municipio_id)).then((function(e){var t=e.data;i.postal_codes=t.options})).catch((function(e){return e}));case 4:case"end":return t.stop()}}),t)})))()},getMunicipiosbyEstado:function(e){var i=arguments,t=this;return f()(a()().mark((function s(){var r;return a()().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],t.branchOffice.fields.postal_code_id=r?null:t.branchOffice.fields.postal_code_id,t.branchOffice.fields.municipio_id=null,t.branchOffice.fields.city_id=null,t.selectMunicipio=[],t.getcities(e),s.next=8,u["a"].get("/branch-offices/municipalities/".concat(e,"/").concat(t.branchOffice.fields.postal_code_id)).then((function(e){var i=e.data;t.selectMunicipio=i.options})).catch((function(e){return e}));case 8:case"end":return s.stop()}}),s)})))()},getcities:function(e){var i=this;return f()(a()().mark((function t(){return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i.cities=[],t.next=3,u["a"].get("/branch-offices/cities/".concat(e,"/").concat(i.branchOffice.fields.postal_code_id)).then((function(e){var t=e.data;i.cities=t.options})).catch((function(e){return e}));case 3:case"end":return t.stop()}}),t)})))()},getSuburbsByPostalCode:function(e){var i=this;return f()(a()().mark((function t(){return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.suburbs=[],i.branchOffice.fields.suburb_id=null,i.branchOffice.fields.municipio_id=null,i.branchOffice.fields.estado_id=null,i.branchOffice.fields.city_id=null,i.selectMunicipio=[],null===e){t.next=18;break}return i.branchOffice.fields.estado_id=i.postal_codes.filter((function(i){return i.value===e}))[0].state_id,i.options2=i.selectEstados.filter((function(e){return e.value===i.branchOffice.fields.estado_id})),t.next=11,i.getMunicipiosbyEstado(i.branchOffice.fields.estado_id);case 11:return i.branchOffice.fields.municipio_id=i.postal_codes.filter((function(i){return i.value===e}))[0].municipality_id,i.options=i.selectMunicipio.filter((function(e){return e.value===i.branchOffice.fields.municipio_id})),t.next=15,i.getcities(i.branchOffice.fields.estado_id);case 15:i.branchOffice.fields.city_id=i.postal_codes.filter((function(i){return i.value===e}))[0].city_id,i.cityOptions=i.cities.filter((function(e){return e.value===i.branchOffice.fields.city_id})),u["a"].get("/branch-offices/suburbs/".concat(e)).then((function(e){var t=e.data;i.suburbs=t.options})).catch((function(e){return e}));case 18:case"end":return t.stop()}}),t)})))()},filterMunicipio:function(e,i,t){var s=this;i((function(){var i=e.toLowerCase();s.options=s.selectMunicipio.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterEstado:function(e,i,t){var s=this;i((function(){var i=e.toLowerCase();s.options2=s.selectEstados.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterPostalCodes:function(e,i,t){var s=this;i(f()(a()().mark((function i(){var t;return a()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t=e.toLowerCase(),i.next=3,s.getPostalCodes(t);case 3:case"end":return i.stop()}}),i)}))))},filterSuburbs:function(e,i,t){var s=this;i((function(){var i=e.toLowerCase();s.suburbs_options=s.suburbs.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterCity:function(e,i,t){var s=this;i((function(){var i=e.toLowerCase();s.cityOptions=s.cities.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},getClustersList:function(){var e=this;u["a"].get("supercluster/getOptions").then((function(i){e.clusterOptions=i.data.options}))},getCustomerList:function(){var e=this;u["a"].get("customers/options").then((function(i){e.customerOptions=i.data.options}))}}},m=h,_=t("2877"),v=t("9989"),O=t("ead5"),g=t("079e"),q=t("9c40"),y=t("27f9"),x=t("0016"),C=t("ddd8"),$=t("66e5"),k=t("4074"),w=t("eebe"),E=t.n(w),S=Object(_["a"])(m,s,r,!1,null,null,null);i["default"]=S.exports;E()(S,"components",{QPage:v["a"],QBreadcrumbs:O["a"],QBreadcrumbsEl:g["a"],QBtn:q["a"],QInput:y["a"],QIcon:x["a"],QSelect:C["a"],QItem:$["a"],QItemSection:k["a"]})}}]);