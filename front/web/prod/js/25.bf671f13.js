(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"149d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"q-pa-sm panel-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("span",{staticClass:"q-ml-md grey-8 fs28 page-title"},[t._v("Detalles del pedido")])]),a("div",{staticClass:"col-sm-4 pull-right"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-breadcrumbs",{attrs:{align:"right"}},[a("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:"Detalles del pedido"}})],1)],1)])])]),a("div",{staticClass:"q-pa-md bg-grey-3"},[a("div",{staticClass:"row bg-white border-panel"},[a("div",{staticClass:"col q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 pull-right"},[a("q-btn",{staticStyle:{"margin-right":"15px"},attrs:{color:"primary",icon:"check",label:"Solicitar"},on:{click:t.request}})],1)]),a("div",{staticClass:"q-pa-md"},[t.shoppingCartBaleDetails.length>0?a("q-table",{attrs:{title:"Fibra",dense:"","hide-bottom":"",data:t.shoppingCartBaleDetails,columns:t.baleColumns,"row-key":"product_name"},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"product_name",attrs:{props:e}},[t._v(t._s(e.row.product_name))]),a("q-td",{key:"line_name",attrs:{props:e}},[t._v(t._s(e.row.line_name))]),a("q-td",{key:"category_name",attrs:{props:e}},[t._v(t._s(e.row.category_name))]),a("q-td",{key:"qty",attrs:{props:e}},[t._v(t._s(t.formatter.format(e.row.qty)+" KG."))]),a("q-td",{key:"unit_price",attrs:{props:e}},[t._v(t._s(t.currencyFormatter.format(e.row.unit_price)+" "))]),a("q-td",{key:"amount",attrs:{props:e}},[t._v(t._s(""+t.currencyFormatter.format(e.row.amount)))]),a("q-td",{key:"product_photo",attrs:{props:e}},[a("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.serverUrl+"assets/images/products/"+e.row.product_photo,"spinner-color":"white",ratio:1},scopedSlots:t._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full flex flex-center bg-gray text-white"},[t._v("\n                        SIN IMAGEN\n                      ")])]},proxy:!0}],null,!0)})],1),a("q-td",{key:"actions",attrs:{props:e}},[a("q-btn",{attrs:{color:"negative",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(a){return t.removeBaleDetail(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-negative"}},[t._v("Eliminar")])],1)],1)],1)]}}],null,!1,2270369749)}):t._e(),t.shoppingCartInBulkDetails.length>0?a("br"):t._e(),t.shoppingCartInBulkDetails.length>0?a("q-table",{attrs:{title:"Fibra abierta",dense:"","hide-bottom":"",data:t.shoppingCartInBulkDetails,columns:t.inBulkColumns,"row-key":"product_name"},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"product_name",attrs:{props:e}},[t._v(t._s(e.row.product_name))]),a("q-td",{key:"line_name",attrs:{props:e}},[t._v(t._s(e.row.line_name))]),a("q-td",{key:"category_name",attrs:{props:e}},[t._v(t._s(e.row.category_name))]),a("q-td",{key:"qty",attrs:{props:e}},[t._v(t._s(t.formatter.format(e.row.qty)+" KG."))]),a("q-td",{key:"unit_price",attrs:{props:e}},[t._v(t._s(t.currencyFormatter.format(e.row.unit_price)+" "))]),a("q-td",{key:"amount",attrs:{props:e}},[t._v(t._s(t.currencyFormatter.format(e.row.amount)+" "))]),a("q-td",{key:"product_photo",attrs:{props:e}},[a("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.serverUrl+"assets/images/products/"+e.row.product_photo,"spinner-color":"white",ratio:1},scopedSlots:t._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full flex flex-center bg-gray text-white"},[t._v("\n                        SIN IMAGEN\n                      ")])]},proxy:!0}],null,!0)})],1),a("q-td",{key:"actions",attrs:{props:e}},[a("q-btn",{attrs:{color:"negative",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(a){return t.removeInBulkDetail(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-negative"}},[t._v("Eliminar")])],1)],1)],1)]}}],null,!1,1815608520)}):t._e(),t.shoppingCartLaminateDetails.length>0?a("br"):t._e(),t.shoppingCartLaminateDetails.length>0?a("q-table",{attrs:{title:"Laminado",dense:"","hide-bottom":"",data:t.shoppingCartLaminateDetails,columns:t.laminateColumns,"row-key":"product_name"},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"product_name",attrs:{props:e}},[t._v(t._s(e.row.product_name))]),a("q-td",{key:"line_name",attrs:{props:e}},[t._v(t._s(e.row.line_name))]),a("q-td",{key:"category_name",attrs:{props:e}},[t._v(t._s(e.row.category_name))]),a("q-td",{key:"qty",attrs:{props:e}},[t._v(t._s(t.formatter.format(e.row.qty)+" KG."))]),a("q-td",{key:"unit_price",attrs:{props:e}},[t._v(t._s(""+t.currencyFormatter.format(e.row.unit_price)))]),a("q-td",{key:"amount",attrs:{props:e}},[t._v(t._s(""+t.currencyFormatter.format(e.row.amount)))]),a("q-td",{key:"product_photo",attrs:{props:e}},[a("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.serverUrl+"assets/images/products/"+e.row.product_photo,"spinner-color":"white",ratio:1},scopedSlots:t._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full flex flex-center bg-gray text-white"},[t._v("\n                        SIN IMAGEN\n                      ")])]},proxy:!0}],null,!0)})],1),a("q-td",{key:"actions",attrs:{props:e}},[a("q-btn",{attrs:{color:"negative",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(a){return t.removeLaminateDetail(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-negative"}},[t._v("Eliminar")])],1)],1)],1)]}}],null,!1,821959080)}):t._e()],1),a("div",{staticClass:"q-pa-md pull-right"},[a("h4",[t._v("IMPORTE TOTAL: "+t._s(t.currencyFormatter.format(t.totalPrice)+" MXN"))])])])])])])},n=[],o=(a("d3b7"),a("159b"),a("a9e3"),a("aabb")),i={name:"ShoppingCart",data:function(){return{serverUrl:"https://api_alpez.wasp.mx/",formatter:new Intl.NumberFormat("en-US"),currencyFormatter:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),baleColumns:[{name:"product_name",align:"left",label:"Producto",field:"product_name",sortable:!0},{name:"line_name",align:"left",label:"Línea",field:"line_name",sortable:!0},{name:"category_name",align:"left",label:"Categoría",field:"category_name",sortable:!0},{name:"qty",align:"right",label:"Cantidad",field:"qty",sortable:!0},{name:"unit_price",align:"right",label:"Precio kg.",field:"unit_price",sortable:!0},{name:"amount",align:"right",label:"Importe",field:"amount",sortable:!0},{name:"product_photo",align:"center",label:"Foto",field:"product_photo",sortable:!1},{name:"actions",align:"center",label:"Acciones",field:"actions",sortable:!1}],inBulkColumns:[{name:"product_name",align:"left",label:"Producto",field:"product_name",sortable:!0},{name:"line_name",align:"left",label:"Línea",field:"line_name",sortable:!0},{name:"category_name",align:"left",label:"Categoría",field:"category_name",sortable:!0},{name:"qty",align:"right",label:"Cantidad",field:"qty",sortable:!0},{name:"unit_price",align:"right",label:"Precio kg.",field:"unit_price",sortable:!0},{name:"amount",align:"right",label:"Importe",field:"amount",sortable:!0},{name:"product_photo",align:"center",label:"Foto",field:"product_photo",sortable:!1},{name:"actions",align:"center",label:"Acciones",field:"actions",sortable:!1}],laminateColumns:[{name:"product_name",align:"left",label:"Producto",field:"product_name",sortable:!0},{name:"line_name",align:"left",label:"Línea",field:"line_name",sortable:!0},{name:"category_name",align:"left",label:"Categoría",field:"category_name",sortable:!0},{name:"qty",align:"right",label:"Cantidad",field:"qty",sortable:!0},{name:"unit_price",align:"right",label:"Precio kg.",field:"unit_price",sortable:!0},{name:"amount",align:"right",label:"Importe",field:"amount",sortable:!0},{name:"product_photo",align:"center",label:"Foto",field:"product_photo",sortable:!1},{name:"actions",align:"center",label:"Acciones",field:"actions",sortable:!1}],shoppingCartBaleDetails:[],shoppingCartInBulkDetails:[],shoppingCartLaminateDetails:[]}},mounted:function(){this.fetchFromServer()},computed:{totalPrice:function(){var t=0;return this.shoppingCartBaleDetails.forEach((function(e){t+=Number(e.amount)})),this.shoppingCartInBulkDetails.forEach((function(e){t+=Number(e.amount)})),this.shoppingCartLaminateDetails.forEach((function(e){t+=Number(e.amount)})),t}},methods:{fetchFromServer:function(){var t=this;this.$q.loading.show(),o["a"].get("/shopping-cart-bale-details").then((function(e){var a=e.data;t.shoppingCartBaleDetails=a.details,o["a"].get("/shopping-cart-in-bulk-details").then((function(e){var a=e.data;t.shoppingCartInBulkDetails=a.details,o["a"].get("/shopping-cart-laminate-details").then((function(e){var a=e.data;t.shoppingCartLaminateDetails=a.details,t.$q.loading.hide()}))}))}))},request:function(){var t=this;this.$q.loading.show(),o["a"].put("/shopping-carts/request").then((function(e){var a=e.data;t.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning"}),a.result?(t.$router.push("/"),t.$q.loading.hide()):t.$q.loading.hide()}))},removeBaleDetail:function(t){var e=this;this.$q.loading.show(),o["a"].delete("/shopping-cart-bale-details/".concat(t)).then((function(t){var a=t.data;e.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning"}),a.result?o["a"].get("/shopping-cart-bale-details").then((function(t){var a=t.data;e.shoppingCartBaleDetails=a.details,e.$q.loading.hide()})):e.$q.loading.hide()}))},removeInBulkDetail:function(t){var e=this;this.$q.loading.show(),o["a"].delete("/shopping-cart-in-bulk-details/".concat(t)).then((function(t){var a=t.data;e.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning"}),a.result?o["a"].get("/shopping-cart-in-bulk-details").then((function(t){var a=t.data;e.shoppingCartInBulkDetails=a.details,e.$q.loading.hide()})):e.$q.loading.hide()}))},removeLaminateDetail:function(t){var e=this;this.$q.loading.show(),o["a"].delete("/shopping-cart-laminate-details/".concat(t)).then((function(t){var a=t.data;e.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning"}),a.result?o["a"].get("/shopping-cart-laminate-details").then((function(t){var a=t.data;e.shoppingCartLaminateDetails=a.details,e.$q.loading.hide()})):e.$q.loading.hide()}))}}},l=i,s=a("2877"),c=a("9989"),p=a("ead5"),d=a("079e"),u=a("9c40"),m=a("eaac"),g=a("bd08"),h=a("db86"),_=a("068f"),f=a("05c0"),b=a("eebe"),y=a.n(b),q=Object(s["a"])(l,r,n,!1,null,null,null);e["default"]=q.exports;y()(q,"components",{QPage:c["a"],QBreadcrumbs:p["a"],QBreadcrumbsEl:d["a"],QBtn:u["a"],QTable:m["a"],QTr:g["a"],QTd:h["a"],QImg:_["a"],QTooltip:f["a"]})}}]);