(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[189],{f55f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-grey-3"},[a("div",{staticClass:"q-pa-sm panel-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[a("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:"Embarques"}})],1)],1)]),a("div",{staticClass:"col-xs-6 col-md-4 pull-right"},[a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-btn",{attrs:{color:"primary",icon:"add",label:"Nuevo"},nativeOn:{click:function(e){return t.$router.push("/trips/new")}}})],1)])])]),a("div",{staticClass:"q-pa-md bg-grey-3"},[a("div",{staticClass:"row bg-white border-panel"},[a("div",{staticClass:"col q-pa-md"},[a("q-table",{attrs:{flat:"",bordered:"",data:t.data,columns:t.columns,"row-key":"code",pagination:t.pagination,filter:t.filter},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticStyle:{width:"100%"}},[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},on:{input:function(e){t.filter=e.toUpperCase()}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"folio",staticStyle:{"text-align":"center"},attrs:{props:e}},[t._v(t._s(e.row.folio))]),a("q-td",{key:"invoice_id",staticStyle:{"text-align":"left"},attrs:{props:e}},[a("label",{staticClass:"text-primary",staticStyle:{"text-decoration":"underline",cursor:"pointer"},on:{click:function(a){return t.$router.push("/storage-exits/"+e.row.invoice_id)}}},[t._v(t._s(e.row.invoice_id))])]),a("q-td",{key:"customer",staticStyle:{"text-align":"left"},attrs:{props:e}},[t._v(t._s(e.row.customer))]),a("q-td",{key:"type",staticStyle:{"text-align":"left"},attrs:{props:e}},[t._v(t._s(e.row.type))]),a("q-td",{key:"brand",staticStyle:{"text-align":"left"},attrs:{props:e}},[t._v(t._s(e.row.brand))]),a("q-td",{key:"model",staticStyle:{"text-align":"left"},attrs:{props:e}},[t._v(t._s(e.row.model))]),a("q-td",{key:"economic_number",staticStyle:{"text-align":"left"},attrs:{props:e}},[t._v(t._s(e.row.economic_number))]),a("q-td",{key:"sucursal",staticStyle:{"text-align":"right"},attrs:{props:e}},[t._v(t._s(e.row.sucursal))]),a("q-td",{key:"date",staticStyle:{"text-align":"right"},attrs:{props:e}},[t._v(t._s(e.row.date))]),a("q-td",{key:"status",staticStyle:{"text-align":"center"},attrs:{props:e}},[a("q-chip",{attrs:{square:"",dense:"",color:t.colorTimbrado[e.row.status_timbrado],"text-color":"white"}},[t._v(t._s(t.statusTimbrado[e.row.status_timbrado]))])],1),a("q-td",{key:"actions",staticClass:"pull-left",staticStyle:{width:"18%","text-align":"center"},attrs:{props:e}},[a("q-btn",{attrs:{color:"primary",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(a){return t.editSelectedRow(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v("Editar")])],1),a("q-btn",{attrs:{color:"red",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(a){return t.deleteSelectedRow(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red"}},[t._v("Eliminar")])],1)],1)],1)]}}])})],1)])])])},s=[],i=(a("caad"),a("2532"),a("aabb")),n={name:"IndexRanges",data:function(){return{pagination:{sortBy:"name",descending:!1,rowsPerPage:25},columns:[{name:"folio",align:"center",label:"FOLIO",field:"folio",sortable:!0},{name:"invoice_id",align:"center",label:"REMISION",field:"invoice_id",sortable:!0},{name:"customer",align:"center",label:"CLIENTE",field:"customer",sortable:!0},{name:"type",align:"center",label:"VEHÍCULO",field:"type",sortable:!0},{name:"brand",align:"center",label:"MARCA",field:"brand",sortable:!0},{name:"model",align:"center",label:"MODELO",field:"model",sortable:!0},{name:"economic_number",align:"center",label:"NÚMERO DE UNIDAD",field:"economic_number",sortable:!0},{name:"sucursal",align:"center",label:"ESTACIÓN",field:"sucursal",sortable:!0},{name:"date",align:"center",label:"FECHA DE SALIDA",field:"date",sortable:!0},{name:"status",align:"center",label:"ESTATUS",field:"status",sortable:!0},{name:"actions",align:"center",label:"ACCIONES",field:"actions",style:"width: 18%",sortable:!1}],data:[],filter:"",statusTimbrado:["NUEVO","TIMBRADO","CANCELADO","CANCELANDO","TIMBRANDO","CANCELANDO","ERROR","ERROR AL CANCELAR"],colorTimbrado:["blue-6","green-6","purple-6","warning","warning","warning","red-6","red-6"]}},beforeCreate:function(){this.$store.getters["users/roles"].includes(1)||this.$store.getters["users/roles"].includes(3)||this.$store.getters["users/roles"].includes(7)||this.$store.getters["users/roles"].includes(8)||this.$router.push("/")},mounted:function(){this.fetchFromServer()},methods:{fetchFromServer:function(){var t=this;this.$q.loading.show(),i["a"].get("/trips").then((function(e){var a=e.data;t.data=a.trips,t.$q.loading.hide()}))},editSelectedRow:function(t){this.$router.push("/trips/".concat(t))},deleteSelectedRow:function(t){var e=this;this.$q.dialog({title:"Confirmación",message:"¿Desea eliminar este Embarque",persistent:!0,ok:{label:"Aceptar",color:"green"},cancel:{label:"Cancelar",color:"red"}}).onOk((function(){i["a"].delete("/trips/".concat(t)).then((function(t){var a=t.data;console.log(a),e.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning",icon:a.result?"thumb_up":"close"}),a.result&&e.fetchFromServer()}))})).onCancel((function(){}))}}},o=n,l=a("2877"),c=a("9989"),d=a("ead5"),u=a("079e"),p=a("9c40"),b=a("eaac"),m=a("27f9"),f=a("0016"),g=a("bd08"),y=a("db86"),v=a("b047"),h=a("05c0"),q=a("eebe"),w=a.n(q),_=Object(l["a"])(o,r,s,!1,null,null,null);e["default"]=_.exports;w()(_,"components",{QPage:c["a"],QBreadcrumbs:d["a"],QBreadcrumbsEl:u["a"],QBtn:p["a"],QTable:b["a"],QInput:m["a"],QIcon:f["a"],QTr:g["a"],QTd:y["a"],QChip:v["a"],QTooltip:h["a"]})}}]);