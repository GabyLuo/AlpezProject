(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[129],{"455a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("div",{staticClass:"q-pa-sm panel-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-8"},[s("span",{staticClass:"q-ml-md grey-8 fs28 page-title"},[e._v("Pedidos solicitados")])]),s("div",{staticClass:"col-sm-4 pull-right"},[s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-breadcrumbs",{attrs:{align:"right"}},[s("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),s("q-breadcrumbs-el",{attrs:{label:"Pedidos solicitados"}})],1)],1)])])]),s("div",{staticClass:"q-pa-md bg-grey-3"},[s("div",{staticClass:"row bg-white border-panel"},[s("div",{staticClass:"col q-pa-md"},[s("q-table",{attrs:{flat:"",bordered:"",data:e.data,columns:e.columns,"row-key":"id",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"id",attrs:{props:t}},[e._v(e._s(t.row.id))]),s("q-td",{key:"customerName",attrs:{props:t}},[e._v(e._s(t.row.customer_name))]),s("q-td",{key:"userName",attrs:{props:t}},[e._v(e._s(t.row.user_name))]),s("q-td",{key:"userEmail",attrs:{props:t}},[e._v(e._s(t.row.user_email))]),s("q-td",{key:"comments",attrs:{props:t}},[e._v(e._s(t.row.comments))]),s("q-td",{key:"actions",attrs:{props:t}},[s("q-btn",{attrs:{color:"primary",icon:"remove_red_eye",flat:"",size:"10px"},nativeOn:{click:function(s){return e.editSelectedRow(t.row.id)}}},[s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[e._v("Ver")])],1),s("q-btn",{attrs:{color:"primary",icon:"edit",flat:"",size:"10px"},nativeOn:{click:function(s){return e.changeStatusRow(t.row.id)}}},[s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[e._v("Editar")])],1)],1)],1)]}}])})],1)])])])},r=[],o=(s("a9e3"),s("caad"),s("2532"),s("aabb")),n={name:"IndexRequestedOrders",data:function(){return{pagination:{sortBy:"id",descending:!0,rowsPerPage:50},columns:[{name:"id",align:"center",label:"#",field:"id",sortable:!0,sort:function(e,t){return Number(e,10)-Number(t,10)}},{name:"customerName",align:"center",label:"Cliente",field:"customerName",sortable:!0},{name:"userName",align:"center",label:"Usuario",field:"userName",sortable:!0},{name:"userEmail",align:"center",label:"E-mail",field:"userEmail",sortable:!0},{name:"comments",align:"center",label:"Comentarios",field:"comments",sortable:!0},{name:"actions",align:"center",label:"Acciones",field:"actions",sortable:!1}],data:[]}},beforeCreate:function(){this.$store.getters["users/roles"].includes(1)||this.$store.getters["users/roles"].includes(3)||this.$store.getters["users/roles"].includes(7)||this.$store.getters["users/roles"].includes(17)||this.$router.push("/")},mounted:function(){this.fetchFromServer()},methods:{fetchFromServer:function(){var e=this;this.$q.loading.show(),o["a"].get("/shopping-carts/requested").then((function(t){var s=t.data;e.data=s.orders,e.$q.loading.hide()}))},editSelectedRow:function(e){this.$router.push("/requested-orders/".concat(e))},changeStatusRow:function(e){var t=this,s=[];s.cartId=Number(e),o["a"].post("/shopping-carts/changeStatus",s).then((function(s){var a=s.data;a.result?t.$router.push("/shopping-carts/".concat(e)):t.$q.notify({message:a.message.content,position:"top",color:a.result?"positive":"warning"})}))}}},i=n,l=s("2877"),c=s("9989"),d=s("ead5"),u=s("079e"),m=s("eaac"),p=s("bd08"),b=s("db86"),g=s("9c40"),h=s("05c0"),f=s("eebe"),q=s.n(f),v=Object(l["a"])(i,a,r,!1,null,null,null);t["default"]=v.exports;q()(v,"components",{QPage:c["a"],QBreadcrumbs:d["a"],QBreadcrumbsEl:u["a"],QTable:m["a"],QTr:p["a"],QTd:b["a"],QBtn:g["a"],QTooltip:h["a"]})}}]);