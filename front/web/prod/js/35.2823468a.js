(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{"433f":function(e,i,s){"use strict";s.r(i);var a=function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("q-page",{staticClass:"bg-grey-3"},[s("div",{staticClass:"q-pa-sm panel-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-9"},[s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-breadcrumbs",{staticStyle:{"font-size":"20px"},attrs:{align:"left"}},[s("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/"}}),s("q-breadcrumbs-el",{attrs:{label:"Estaciones",to:"/branch-offices"}}),s("q-breadcrumbs-el",{attrs:{label:"Editar"},domProps:{textContent:e._s(e.branchOffice.fields.name)}})],1)],1)]),s("div",{staticClass:"col-sm-3 pull-right"},[s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-btn",{attrs:{color:"positive",icon:"save",label:"Actualizar"},on:{click:function(i){return e.updateBranchOffice()}}})],1)])])]),s("div",{staticClass:"q-pa-md bg-grey-3"},[s("div",{staticClass:"row bg-white border-panel"},[s("div",{staticClass:"col q-pa-md"},[s("div",{staticClass:"row q-mb-sm"},[s("div",{staticClass:"col-sm-1 offset-11 pull-right"},[s("q-btn",{staticStyle:{visibility:"hidden"},attrs:{color:"primary",label:"Editar"}})],1)]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-sm-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.code.$error,label:"Código",rules:e.codeRules},on:{input:function(i){e.branchOffice.fields.code=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.code,callback:function(i){e.$set(e.branchOffice.fields,"code",i)},expression:"branchOffice.fields.code"}})],1),s("div",{staticClass:"col-xs-22 col-sm-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.name.$error,label:"Nombre",rules:e.nameRules},on:{input:function(i){e.branchOffice.fields.name=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-signature"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.name,callback:function(i){e.$set(e.branchOffice.fields,"name",i)},expression:"branchOffice.fields.name"}})],1),s("div",{staticClass:"col-xs-2 col-sm-4 col-md-4 col-lg-4"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.address.$error,label:"Calle",rules:e.addressRules},on:{input:function(i){e.branchOffice.fields.address=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.address,callback:function(i){e.$set(e.branchOffice.fields,"address",i)},expression:"branchOffice.fields.address"}})],1),s("div",{staticClass:"col-xs-2 col-sm-2 col-md-2 col-ld-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.outdoor_number.$error,label:"Número exterior",rules:e.outdoor_numberRules},on:{input:function(i){e.branchOffice.fields.outdoor_number=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.outdoor_number,callback:function(i){e.$set(e.branchOffice.fields,"outdoor_number",i)},expression:"branchOffice.fields.outdoor_number"}})],1),s("div",{staticClass:"col-xs-2 col-sm-2 col-md-2 col-ld-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Número interior"},on:{input:function(i){e.branchOffice.fields.indoor_number=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.indoor_number,callback:function(i){e.$set(e.branchOffice.fields,"indoor_number",i)},expression:"branchOffice.fields.indoor_number"}})],1),s("div",{staticClass:"col-xs-2 col-sm-3 col-md-3 col-lg-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.between_street.$error,label:"Entre calles",rules:e.between_streetRules},on:{input:function(i){e.branchOffice.fields.between_street=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.between_street,callback:function(i){e.$set(e.branchOffice.fields,"between_street",i)},expression:"branchOffice.fields.between_street"}})],1),s("div",{staticClass:"col-xs-12 col-sm-2 col-md-2 col-lg-2"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",rules:e.cpRules,error:e.$v.branchOffice.fields.postal_code_id.$error,options:e.postal_codes,label:"Código Postal","use-input":"","emit-value":"","map-options":""},on:{filter:e.filterPostalCodes,input:function(i){return e.getSuburbsByPostalCode(e.branchOffice.fields.postal_code_id)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-mail-bulk"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.postal_code_id,callback:function(i){e.$set(e.branchOffice.fields,"postal_code_id",i)},expression:"branchOffice.fields.postal_code_id"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3 col-md-3 col-lg-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"",options:e.suburbs_options,rules:e.suburbRules,error:e.$v.branchOffice.fields.suburb_id.$error,label:"Colonia","use-input":"","emit-value":"","map-options":""},on:{filter:e.filterSuburbs},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.suburb_id,callback:function(i){e.$set(e.branchOffice.fields,"suburb_id",i)},expression:"branchOffice.fields.suburb_id"}})],1),s("div",{staticClass:"col-xs-2 col-sm-2"},[s("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.branchOffice.fields.municipio_id.$error,label:"Municipio",options:e.options,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{filter:e.filterMunicipio},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n                  No hay Resultados\n                ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.municipio_id,callback:function(i){e.$set(e.branchOffice.fields,"municipio_id",i)},expression:"branchOffice.fields.municipio_id"}})],1),s("div",{staticClass:"col-xs-2 col-sm-2"},[s("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",label:"Ciudad",options:e.cityOptions,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"",disable:!0,"map-options":""},on:{filter:e.filterCity},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n                  No hay Resultados\n                ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.city_id,callback:function(i){e.$set(e.branchOffice.fields,"city_id",i)},expression:"branchOffice.fields.city_id"}})],1),s("div",{staticClass:"col-xs-3 col-sm-2"},[s("q-select",{staticClass:"uppcase",attrs:{filled:"",color:"dark","bg-color":"secondary",error:e.$v.branchOffice.fields.estado_id.$error,label:"ESTADO",options:e.options2,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":""},on:{input:function(i){return e.getMunicipiosbyEstado(e.branchOffice.fields.estado_id,!0)},filter:e.filterEstado},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n                    No hay Resultados\n                  ")])],1)]},proxy:!0}]),model:{value:e.branchOffice.fields.estado_id,callback:function(i){e.$set(e.branchOffice.fields,"estado_id",i)},expression:"branchOffice.fields.estado_id"}})],1),s("div",{staticClass:"col-xs-12 col-sm-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.serie.$error,rules:e.serieRules,label:"Serie facturación"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.serie,callback:function(i){e.$set(e.branchOffice.fields,"serie",i)},expression:"branchOffice.fields.serie"}})],1),s("div",{staticClass:"col-xs-12 col-sm-2"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.branchOffice.fields.serie_pagos.$error,rules:e.serie_pagosRules,label:"Serie pagos facturacion"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.serie_pagos,callback:function(i){e.$set(e.branchOffice.fields,"serie_pagos",i)},expression:"branchOffice.fields.serie_pagos"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",options:e.clusterOptions,label:"Cluster"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.cluster_id,callback:function(i){e.$set(e.branchOffice.fields,"cluster_id",i)},expression:"branchOffice.fields.cluster_id"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",options:e.customerOptions,label:"Cliente"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fa solid fa-user"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.customer_id,callback:function(i){e.$set(e.branchOffice.fields,"customer_id",i)},expression:"branchOffice.fields.customer_id"}})],1)])])]),s("br"),s("div",{staticClass:"row bg-white border-panel"},[s("div",{staticClass:"col q-pa-md"},[s("div",{staticClass:"row",staticStyle:{"padding-bottom":"15px"}},[e._v("\n          Datos Bancarios\n        ")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 col-lg-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"RFC Banco"},on:{input:function(i){e.branchOffice.fields.rfc_banco=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.rfc_banco,callback:function(i){e.$set(e.branchOffice.fields,"rfc_banco",i)},expression:"branchOffice.fields.rfc_banco"}})],1),s("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 col-lg-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Cuenta Bancaria"},on:{input:function(i){e.branchOffice.fields.cuenta=i.toUpperCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:e.branchOffice.fields.cuenta,callback:function(i){e.$set(e.branchOffice.fields,"cuenta",i)},expression:"branchOffice.fields.cuenta"}})],1)])])]),s("br"),s("div",{staticClass:"bg-white border-panel"},[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.currentTab,callback:function(i){e.currentTab=i},expression:"currentTab"}},[s("q-tab",{attrs:{name:"almacenes",label:"Almacenes"}}),s("q-tab",{attrs:{name:"fiscales",label:"Datos fiscales"}})],1),s("q-tab-panels",{attrs:{animated:""},model:{value:e.currentTab,callback:function(i){e.currentTab=i},expression:"currentTab"}},[s("q-tab-panel",{attrs:{name:"almacenes"}},[s("div",{staticStyle:{"font-weight":"normal"}},[s("div",{staticClass:"q-col-gutter-xs",staticStyle:{padding:"2%"}},[s("q-table",{attrs:{flat:"",bordered:"",data:e.storages,columns:e.storageColumns,"row-key":"code",pagination:e.pagination},on:{"update:pagination":function(i){e.pagination=i}},scopedSlots:e._u([{key:"body",fn:function(i){return[s("q-tr",{attrs:{props:i}},[s("q-td",{key:"code",attrs:{props:i}},[e._v(e._s(i.row.code))]),s("q-td",{key:"name",attrs:{props:i}},[e._v(e._s(i.row.name))])],1)]}}])})],1)])]),s("q-tab-panel",{attrs:{name:"fiscales"}},[s("div",{staticStyle:{"font-weight":"normal"}},[s("div",{staticClass:"row q-col-gutter-xs",staticStyle:{padding:"2%"}},[s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.razon_social.$error,label:"Razon social"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.razon_social,callback:function(i){e.$set(e.fiscal.fields,"razon_social",i)},expression:"fiscal.fields.razon_social"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.rfc.$error,label:"RFC"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.rfc,callback:function(i){e.$set(e.fiscal.fields,"rfc",i)},expression:"fiscal.fields.rfc"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.lugar_expedicion.$error,label:"Código postal",type:"“number”",maxlength:"5"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.lugar_expedicion,callback:function(i){e.$set(e.fiscal.fields,"lugar_expedicion",i)},expression:"fiscal.fields.lugar_expedicion"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",error:e.$v.fiscal.fields.metodo_pago.$error,label:"Método de pago",options:e.metodoPagoOptions},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.metodo_pago,callback:function(i){e.$set(e.fiscal.fields,"metodo_pago",i)},expression:"fiscal.fields.metodo_pago"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","emit-value":"","map-options":"",error:e.$v.fiscal.fields.forma_pago.$error,label:"Forma de pago",options:e.formaPagoOptions},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.forma_pago,callback:function(i){e.$set(e.fiscal.fields,"forma_pago",i)},expression:"fiscal.fields.forma_pago"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-select",{attrs:{color:"dark","bg-color":"secondary",filled:"","map-options":"",error:e.$v.fiscal.fields.uso_cfdi.$error,label:"Uso CFDI",options:e.usoCFDIOptions},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.uso_cfdi,callback:function(i){e.$set(e.fiscal.fields,"uso_cfdi",i)},expression:"fiscal.fields.uso_cfdi"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",error:e.$v.fiscal.fields.email.$error,label:"Dirección de correo electrónico"},on:{input:function(i){e.fiscal.fields.email=i.toLowerCase()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.fiscal.fields.email,callback:function(i){e.$set(e.fiscal.fields,"email",i)},expression:"fiscal.fields.email"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-input",{attrs:{color:"dark","bg-color":"secondary",filled:"",label:"Serie"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.fiscal.fields.serie,callback:function(i){e.$set(e.fiscal.fields,"serie",i)},expression:"fiscal.fields.serie"}})],1),s("div",{staticClass:"col-xs-12 pull-right"},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:null==e.fiscal.fields.id,expression:"fiscal.fields.id == null"}],staticStyle:{height:"100%","margin-right":"5px"},attrs:{color:"primary",icon:"add",label:"Agregar"},on:{click:function(i){return e.addFiscal()}}}),s("q-btn",{directives:[{name:"show",rawName:"v-show",value:null!=e.fiscal.fields.id,expression:"fiscal.fields.id != null"}],staticStyle:{height:"100%","margin-right":"5px"},attrs:{color:"positive",icon:"save",label:"Guardar"},on:{click:function(i){return e.updateFiscal()}}}),s("q-btn",{directives:[{name:"show",rawName:"v-show",value:null!=e.fiscal.fields.id,expression:"fiscal.fields.id != null"}],staticStyle:{height:"100%","margin-right":"5px"},attrs:{color:"negative",icon:"cancel",label:"Cancelar"},on:{click:function(i){return e.cancelEditFormulaFiscal()}}})],1)]),s("div",{staticClass:"q-col-gutter-xs",staticStyle:{padding:"2%"}},[s("q-table",{attrs:{flat:"",bordered:"",data:e.fiscales,columns:e.fiscalesColumns,"row-key":"name",pagination:e.pagination},on:{"update:pagination":function(i){e.pagination=i}},scopedSlots:e._u([{key:"body",fn:function(i){return[s("q-tr",{attrs:{props:i}},[s("q-td",{key:"razon_social",attrs:{props:i}},[e._v(e._s(i.row.razon_social))]),s("q-td",{key:"rfc",attrs:{props:i}},[e._v(e._s(i.row.rfc))]),s("q-td",{key:"lugar_expedicion",attrs:{props:i}},[e._v(e._s(i.row.lugar_expedicion))]),"PUE"===i.row.metodo_pago?s("q-td",{key:"metodo_pago",attrs:{props:i}},[e._v("PUE - Pago en una sola exhibición")]):s("q-td",{key:"metodo_pago",attrs:{props:i}},[e._v("PPD - Pago en parcialidades")]),s("q-td",{key:"forma_pago",attrs:{props:i}},[e._v(e._s(i.row.forma_pago_label))]),s("q-td",{key:"uso_cfdi",staticStyle:{"text-align":"center"},attrs:{props:i}},[e._v(e._s(i.row.uso_cfdi_label))]),s("q-td",{key:"actions",staticStyle:{width:"10%"},attrs:{props:i}},[s("q-btn",{attrs:{color:"primary",icon:"fas fa-edit",flat:"",size:"10px"},nativeOn:{click:function(s){return e.editSelectedRowFiscal(i.row)}}},[s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[e._v("Editar")])],1),s("q-btn",{attrs:{color:"negative",icon:"fas fa-trash-alt",flat:"",size:"10px"},nativeOn:{click:function(s){return e.deleteSelectedRowFiscal(i.row.id)}}},[s("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("Eliminar")])],1)],1)],1)]}}])})],1)])])],1)],1)])])},t=[],o=s("ded3"),r=s.n(o),n=s("7ec2"),c=s.n(n),l=s("c973"),f=s.n(l),d=(s("b0c0"),s("ac1f"),s("5319"),s("99af"),s("4de4"),s("d3b7"),s("aabb")),u=s("b5ae"),p=u.required,b=u.maxLength,m=u.email,h={name:"NewBranchOffice",validations:{branchOffice:{fields:{name:{required:p,maxLength:b(50)},address:{required:p,maxLength:b(100)},codigo_postal:{},estado_id:{},municipio_id:{},code:{required:p,maxLength:b(20)},city:{},serie:{required:p},serie_pagos:{required:p},postal_code_id:{required:p},suburb_id:{required:p},indoor_number:{},outdoor_number:{required:p},between_street:{required:p}}},fiscal:{fields:{razon_social:{required:p},rfc:{required:p},lugar_expedicion:{required:p},metodo_pago:{required:p},forma_pago:{required:p},uso_cfdi:{required:p},email:{required:p,email:m}}}},data:function(){return{branchOffice:{fields:{name:null,address:null,codigo_postal:null,estado_id:null,municipio_id:null,code:null,city:null,rfc_banco:null,cuenta:null,serie:null,serie_pagos:null,postal_code_id:null,suburb_id:null,indoor_number:null,outdoor_number:null,municipality:null,state:null,between_street:null,city_id:null,cluster_id:null,customer_id:null}},storages:[],storageColumns:[{name:"code",align:"left",label:"Código",field:"code",sortable:!0},{name:"name",align:"left",label:"Nombre",field:"name",sortable:!0}],pagination:{rowsPerPage:50},fiscal:{fields:{id:null,razon_social:"",rfc:"",lugar_expedicion:"",metodo_pago:"PUE",forma_pago:"",uso_cfdi:"",email:null,serie:null}},currentTab:"almacenes",storageOptions:[],selectEstados:[],selectMunicipio:[],selectMunicipios:[],options:this.selectMunicipio,options2:this.selectEstados,postal_codes:[],postal_codes_options:[],suburbs:[],suburbs_options:[],cities:[],cityOptions:[],fiscales:[],fiscalesColumns:[{name:"razon_social",align:"center",label:"Razon social".toUpperCase(),field:"razon_social",sortable:!0},{name:"rfc",align:"center",label:"RFC".toUpperCase(),field:"rfc",sortable:!0},{name:"lugar_expedicion",align:"center",label:"Código Postal".toUpperCase(),field:"lugar_expedicion",sortable:!0},{name:"metodo_pago",align:"center",label:"Método de pago".toUpperCase(),field:"metodo_pago",sortable:!0},{name:"forma_pago",align:"center",label:"Forma de pago".toUpperCase(),field:"forma_pago",sortable:!0},{name:"uso_cfdi",align:"center",label:"Uso CFDI".toUpperCase(),field:"uso_cfdi",sortable:!0},{name:"actions",align:"center",label:"Acciones".toUpperCase(),field:"actions",style:"width: 10%",sortable:!1}],metodoPagoOptions:[{label:"PUE - Pago en una sola exhibición",value:"PUE"},{label:"PPD - Pago en parcialidades",value:"PPD"}],formaPagoOptions:[],usoCFDIOptions:[],clusterOptions:[],customerOptions:[]}},created:function(){var e=this;return f()(c()().mark((function i(){return c()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.getEstados(),e.fetchFromServer(),e.getClustersList(),e.getCustomerList();case 4:case"end":return i.stop()}}),i)})))()},computed:{nameRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.name.required||"El campo Nombre es requerido."},function(e){return i.$v.branchOffice.fields.name.maxLength||"El campo Nombre no debe exceder los 50 dígitos."}]},cityRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.city.required||"La ciudad es requeridoa."}]},codeRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.code.required||"El campo codigo es requerido."},function(e){return i.$v.branchOffice.fields.code.maxLength||"El campo codigo no debe exceder los 20 dígitos."}]},addressRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.address.required||"El campo Dirección es requerido."},function(e){return i.$v.branchOffice.fields.address.maxLength||"El campo Dirección no debe exceder los 100 dígitos."}]},cpRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.postal_code_id.required||"El campo código postal es requerido."}]},serieRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.serie.required||"El campo serie facturacion es requerido."}]},serie_pagosRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.serie_pagos.required||"El campo serie pagos facturacion es requerido."}]},outdoor_numberRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.outdoor_number.required||"El campo Número exterior es requerido."}]},suburbRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.suburb_id.required||"El campo Colonia es requerido."}]},between_streetRules:function(e){var i=this;return[function(e){return i.$v.branchOffice.fields.between_street.required||"El campo Entre calles es requerido."}]}},methods:{isNumber:function(e,i){switch(i){case"codigo_postal":this.branchOffice.fields.codigo_postal=this.branchOffice.fields.codigo_postal.replace(/[^0-9.]/g,""),this.$v.branchOffice.fields.codigo_postal.$touch();break;default:break}},fetchFromServer:function(){var e=this;return f()(c()().mark((function i(){var s;return c()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.$q.loading.show(),s=e.$route.params.id,d["a"].get("/branch-offices/".concat(s)).then(function(){var i=f()(c()().mark((function i(a){var t,o;return c()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t=a.data,t.branchOffice){i.next=5;break}e.$router.push("/branch-offices"),i.next=14;break;case 5:return e.branchOffice.fields=t.branchOffice,o=t.branchOffice.suburb_id,e.branchOffice.fields.municipio_id=null,i.next=10,e.getPostalCodes(e.branchOffice.fields.postal_code_id);case 10:e.getSuburbsByPostalCode(e.branchOffice.fields.postal_code_id),e.branchOffice.fields.suburb_id=o,d["a"].get("/storages/branch-office/".concat(s)).then((function(i){var s=i.data;e.storages=s.storages,e.$q.loading.hide()})),d["a"].get("/invoices/formaPagoOptions").then((function(i){var a=i.data;e.formaPagoOptions=a.options,d["a"].get("/invoices/usoCFDIOptions").then((function(i){var a=i.data;e.usoCFDIOptions=a.options,d["a"].get("/branch-offices-tax-companies/branchOffice/".concat(s)).then((function(i){var s=i.data;e.fiscales=s.branchOfficeTaxCompanies}))})),e.$q.loading.hide()}));case 14:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 3:case"end":return i.stop()}}),i)})))()},updateBranchOffice:function(){var e=this;if(this.$v.branchOffice.fields.$reset(),this.$v.branchOffice.fields.$touch(),this.$v.branchOffice.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=r()({},this.branchOffice.fields);d["a"].put("/branch-offices/".concat(this.$route.params.id),i).then((function(i){var s=i.data;e.$q.notify({message:s.message.content,position:"top",color:s.result?"positive":"warning"}),s.result?(e.$q.loading.hide(),e.$router.push("/branch-offices")):e.$q.loading.hide()}))},addFiscal:function(){var e=this;if(this.$v.fiscal.fields.$reset(),this.$v.fiscal.fields.$touch(),this.$v.fiscal.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=r()({},this.fiscal.fields);i.metodo_pago="undefined"===typeof this.fiscal.fields.metodo_pago.value?this.fiscal.fields.metodo_pago:this.fiscal.fields.metodo_pago.value,i.forma_pago=this.fiscal.fields.forma_pago,i.uso_cfdi=this.fiscal.fields.uso_cfdi.value,i.branch_office_id=this.$route.params.id,d["a"].post("/branch-offices-tax-companies",i).then((function(i){var s=i.data;e.$q.notify({message:s.message.content,position:"top",color:s.result?"positive":"warning"}),s.result?(e.fiscal.fields.razon_social=null,e.fiscal.fields.rfc=null,e.fiscal.fields.lugar_expedicion=null,e.fiscal.fields.metodo_pago="PUE",e.fiscal.fields.forma_pago=null,e.fiscal.fields.uso_cfdi=null,e.fiscal.fields.email=null,e.fiscal.fields.serie=null,e.$v.fiscal.fields.$reset(),d["a"].get("/branch-offices-tax-companies/branchOffice/".concat(e.$route.params.id)).then((function(i){var s=i.data;e.fiscales=s.branchOfficeTaxCompanies,e.$q.loading.hide()}))):e.$q.loading.hide()}))},updateFiscal:function(){var e=this;if(this.$v.fiscal.fields.$reset(),this.$v.fiscal.fields.$touch(),this.$v.fiscal.fields.$error)return this.$q.dialog({title:"Error",message:"Por favor, verifique las validaciones.",persistent:!0}),!1;this.$q.loading.show();var i=r()({},this.fiscal.fields);i.forma_pago=this.fiscal.fields.forma_pago,i.uso_cfdi="undefined"===typeof this.fiscal.fields.uso_cfdi.value?this.fiscal.fields.uso_cfdi:this.fiscal.fields.uso_cfdi.value,i.branch_office_id=this.$route.params.id,d["a"].put("/branch-offices-tax-companies/".concat(i.id),i).then((function(i){var s=i.data;e.$q.notify({message:s.message.content,position:"top",color:s.result?"positive":"warning"}),s.result?(e.fiscal.fields.id=null,e.fiscal.fields.razon_social=null,e.fiscal.fields.rfc=null,e.fiscal.fields.lugar_expedicion=null,e.fiscal.fields.metodo_pago="PUE",e.fiscal.fields.forma_pago=null,e.fiscal.fields.uso_cfdi=null,e.fiscal.fields.email=null,e.fiscal.fields.serie=null,e.$v.fiscal.fields.$reset(),d["a"].get("/branch-offices-tax-companies/branchOffice/".concat(e.$route.params.id)).then((function(i){var s=i.data;e.fiscales=s.branchOfficeTaxCompanies,e.$q.loading.hide()}))):e.$q.loading.hide()}))},getEstados:function(){var e=this;this.selectEstados=[],d["a"].get("/branch-offices/states").then((function(i){var s=i.data;e.selectEstados=s.options})).catch((function(e){return e}))},cancelEditFormulaFiscal:function(){this.fiscal.fields.id=null,this.fiscal.fields.razon_social=null,this.fiscal.fields.rfc=null,this.fiscal.fields.lugar_expedicion=null,this.fiscal.fields.metodo_pago="PUE",this.fiscal.fields.forma_pago=null,this.fiscal.fields.uso_cfdi=null,this.fiscal.fields.email=null,this.fiscal.fields.serie=null},editSelectedRowFiscal:function(e){this.fiscal.fields.id=e.id,this.fiscal.fields.razon_social=e.razon_social,this.fiscal.fields.rfc=e.rfc,this.fiscal.fields.lugar_expedicion=e.lugar_expedicion,this.fiscal.fields.metodo_pago=e.metodo_pago,this.fiscal.fields.forma_pago=e.forma_pago,this.fiscal.fields.uso_cfdi=e.uso_cfdi,this.fiscal.fields.email=e.email,this.fiscal.fields.serie=e.serie},deleteSelectedRowFiscal:function(e){var i=this;this.$q.loading.show(),d["a"].delete("/branch-offices-tax-companies/".concat(e)).then((function(e){var s=e.data;i.$q.notify({message:s.message.content,position:"top",color:s.result?"positive":"warning"}),s.result?d["a"].get("/branch-offices-tax-companies/branchOffice/".concat(i.$route.params.id)).then((function(e){e.data;i.fetchFromServer(),i.$q.loading.hide()})):i.$q.loading.hide()}))},getPostalCodes:function(){var e=arguments,i=this;return f()(c()().mark((function s(){var a;return c()().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:"",a=""===a?"0":a,s.next=4,d["a"].get("/branch-offices/postal_codes/".concat(a,"/").concat(i.branchOffice.fields.municipio_id)).then((function(e){var s=e.data;i.postal_codes=s.options})).catch((function(e){return e}));case 4:case"end":return s.stop()}}),s)})))()},getMunicipiosbyEstado:function(e){var i=arguments,s=this;return f()(c()().mark((function a(){var t;return c()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=i.length>1&&void 0!==i[1]&&i[1],s.branchOffice.fields.postal_code_id=t?null:s.branchOffice.fields.postal_code_id,s.branchOffice.fields.municipio_id=null,s.branchOffice.fields.city_id=null,s.selectMunicipio=[],s.getcities(e),a.next=8,d["a"].get("/branch-offices/municipalities/".concat(e,"/").concat(s.branchOffice.fields.postal_code_id)).then((function(e){var i=e.data;s.selectMunicipio=i.options})).catch((function(e){return e}));case 8:case"end":return a.stop()}}),a)})))()},getcities:function(e){var i=this;return f()(c()().mark((function s(){return c()().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.cities=[],s.next=3,d["a"].get("/branch-offices/cities/".concat(e,"/").concat(i.branchOffice.fields.postal_code_id)).then((function(e){var s=e.data;i.cities=s.options})).catch((function(e){return e}));case 3:case"end":return s.stop()}}),s)})))()},getSuburbsByPostalCode:function(e){var i=this;return f()(c()().mark((function s(){return c()().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log(e),i.suburbs=[],i.branchOffice.fields.suburb_id=null,i.branchOffice.fields.municipio_id=null,i.branchOffice.fields.estado_id=null,i.selectMunicipio=[],null===e){s.next=18;break}return i.branchOffice.fields.estado_id=i.postal_codes.filter((function(i){return i.value===e}))[0].state_id,i.options2=i.selectEstados.filter((function(e){return e.value===i.branchOffice.fields.estado_id})),s.next=11,i.getMunicipiosbyEstado(i.branchOffice.fields.estado_id);case 11:return i.branchOffice.fields.municipio_id=i.postal_codes.filter((function(i){return i.value===e}))[0].municipality_id,i.options=i.selectMunicipio.filter((function(e){return e.value===i.branchOffice.fields.municipio_id})),s.next=15,i.getcities(i.branchOffice.fields.estado_id);case 15:i.branchOffice.fields.city_id=i.postal_codes.filter((function(i){return i.value===e}))[0].city_id,i.cityOptions=i.cities.filter((function(e){return e.value===i.branchOffice.fields.city_id})),d["a"].get("/branch-offices/suburbs/".concat(e)).then((function(e){var s=e.data;i.suburbs=s.options,i.suburbs_options=s.options})).catch((function(e){return e}));case 18:case"end":return s.stop()}}),s)})))()},filterMunicipio:function(e,i,s){var a=this;i((function(){var i=e.toLowerCase();a.options=a.selectMunicipio.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterEstado:function(e,i,s){var a=this;i((function(){var i=e.toLowerCase();a.options2=a.selectEstados.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterPostalCodes:function(e,i,s){var a=this;i(f()(c()().mark((function i(){var s;return c()().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=e.toLowerCase(),i.next=3,a.getPostalCodes(s);case 3:case"end":return i.stop()}}),i)}))))},filterSuburbs:function(e,i,s){var a=this;i((function(){var i=e.toLowerCase();a.suburbs_options=a.suburbs.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},filterCity:function(e,i,s){var a=this;i((function(){var i=e.toLowerCase();a.cityOptions=a.cities.filter((function(e){return e.label.toLowerCase().indexOf(i)>-1}))}))},getClustersList:function(){var e=this;d["a"].get("supercluster/getOptions").then((function(i){e.clusterOptions=i.data.options}))},getCustomerList:function(){var e=this;d["a"].get("customers/options").then((function(i){e.customerOptions=i.data.options}))}}},_=h,g=s("2877"),v=s("9989"),q=s("ead5"),x=s("079e"),O=s("9c40"),y=s("27f9"),$=s("0016"),C=s("ddd8"),k=s("66e5"),w=s("4074"),S=s("429b"),E=s("7460"),P=s("adad"),R=s("823b"),F=s("eaac"),U=s("bd08"),L=s("db86"),z=s("05c0"),T=s("eebe"),Q=s.n(T),M=Object(g["a"])(_,a,t,!1,null,null,null);i["default"]=M.exports;Q()(M,"components",{QPage:v["a"],QBreadcrumbs:q["a"],QBreadcrumbsEl:x["a"],QBtn:O["a"],QInput:y["a"],QIcon:$["a"],QSelect:C["a"],QItem:k["a"],QItemSection:w["a"],QTabs:S["a"],QTab:E["a"],QTabPanels:P["a"],QTabPanel:R["a"],QTable:F["a"],QTr:U["a"],QTd:L["a"],QTooltip:z["a"]})}}]);